(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+z1p":function(t,e,n){!function(t){const e=t.en=t.en||{};e.dictionary=Object.assign(e.dictionary||{},{"%0 of %1":"%0 of %1","Block quote":"Block quote",Bold:"Bold","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Widget toolbar":"Widget toolbar"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,(function(e){return t[e]}).bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=96)}([function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));class r extends Error{constructor(t,e,n){t=o(t),n&&(t+=" "+JSON.stringify(n)),super(t),this.name="CKEditorError",this.context=e,this.data=n}is(t){return"CKEditorError"===t}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new r(t.message,e);throw n.stack=t.stack,n}}function o(t){const e=t.match(/^([^:]+):/);return e?t+` Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-${e[1]}\n`:t}},function(t,e,n){"use strict";var r,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function s(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},r=[],o=0;o<t.length;o++){var a=t[o],c=e.base?a[0]+e.base:a[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=s(u),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(i[d].references++,i[d].updater(h)):i.push({identifier:u,updater:g(h,e),references:1}),r.push(u)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var l,u=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(e,o);else{var i=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function h(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var f=null,p=0;function g(t,e){var n,r,o;if(e.singleton){var i=p++;n=f||(f=c(e)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=c(e),r=h.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=s(n[r]);i[o].references--}for(var c=a(t,e),l=0;l<n.length;l++){var u=s(n[l]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=c}}}},,function(t,e,n){"use strict";var r=n(7),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();e.a=i},function(t,n,r){"use strict";(function(t){var o=r(3),i=r(12),s=e&&!e.nodeType&&e,a=s&&"object"==typeof t&&t&&!t.nodeType&&t,c=a&&a.exports===s?o.a.Buffer:void 0;n.a=(c?c.isBuffer:void 0)||i.a}).call(this,r(9)(t))},function(t,n,r){"use strict";(function(t){var o=r(7),i=e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===i&&o.a.process,c=function(){try{return s&&s.require&&s.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();n.a=c}).call(this,r(9)(t))},function(t,e,n){"use strict";(function(t){var e=n(0);const r="object"==typeof window?window:t;if(r.CKEDITOR_VERSION)throw new e.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);r.CKEDITOR_VERSION="21.0.0"}).call(this,n(10))},function(t,e,n){"use strict";(function(t){e.a="object"==typeof t&&t&&t.Object===Object&&t}).call(this,n(10))},function(t,n,r){"use strict";(function(t){var o=r(3),i=e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===i?o.a.Buffer:void 0,c=a?a.allocUnsafe:void 0;n.a=function(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}}).call(this,r(9)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(1),o=n(71);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){var r=n(1),o=n(14);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(t,e,n){var r=n(1),o=n(16);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(t,e,n){var r=n(1),o=n(18);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(t,e,n){var r=n(1),o=n(20);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(t,e,n){var r=n(1),o=n(22);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(t,e,n){var r=n(1),o=n(24);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(t,e,n){var r=n(1),o=n(26);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(t,e,n){var r=n(1),o=n(28);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(t,e,n){var r=n(1),o=n(30);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(t,e,n){var r=n(1),o=n(32);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(t,e,n){var r=n(1),o=n(34);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2*var(--ck-switch-button-toggle-spacing))}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(t,e,n){var r=n(1),o=n(36);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(t,e,n){var r=n(1),o=n(38);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(t,e,n){var r=n(1),o=n(40);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(t,e,n){var r=n(1),o=n(42);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(t,e,n){var r=n(1),o=n(44);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(t,e,n){var r=n(1),o=n(46);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(t,e,n){var r=n(1),o=n(48);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}"},function(t,e,n){var r=n(1),o=n(50);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(-0.5*var(--ck-widget-outline-thickness));left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(-0.5*var(--ck-widget-outline-thickness));right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(-1*var(--ck-widget-outline-thickness));right:calc(-1*var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(-1*var(--ck-widget-outline-thickness) - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(-1*var(--ck-widget-outline-thickness) - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}'},function(t,e,n){var r=n(1),o=n(52);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}"},function(t,e,n){var r=n(1),o=n(54);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}"},function(t,e,n){var r=n(1),o=n(56);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(t,e,n){var r=n(1),o=n(58);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var r=n(1),o=n(60);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(t,e,n){var r=n(1),o=n(62);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(t,e,n){var r=n(1),o=n(64);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(t,e,n){var r=n(1),o=n(66);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(t,e,n){var r=n(1),o=n(68);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(t,e,n){var r=n(1),o=n(70);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(t,e){t.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(t,e,n){var r=n(1),o=n(73);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(t,e,n){var r=n(1),o=n(75);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(t,e,n){var r=n(1),o=n(77);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(t,e,n){var r=n(1),o=n(79);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var r=n(1),o=n(81);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(t,e,n){var r=n(1),o=n(83);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var r=n(1),o=n(85);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(t,e,n){var r=n(1),o=n(87);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(t,e,n){var r=n(1),o=n(89);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"},function(t,e,n){var r=n(1),o=n(91);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(t,e,n){var r=n(1),o=n(93);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}'},function(t,e,n){var r=n(1),o=n(95);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]),r(o,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),t.exports=o.locals||{}},function(t,e){t.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}"},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return Rg}));var r=n(3),o=r.a.Symbol,i=Object.prototype,s=i.hasOwnProperty,a=i.toString,c=o?o.toStringTag:void 0,l=Object.prototype.toString,u=o?o.toStringTag:void 0,d=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":u&&u in Object(t)?function(t){var e=s.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[c]=n:delete t[c]),o}(t):function(t){return l.call(t)}(t)},h=function(t,e){return function(n){return t(e(n))}},f=h(Object.getPrototypeOf,Object),p=function(t){return null!=t&&"object"==typeof t},g=Function.prototype.toString,m=Object.prototype.hasOwnProperty,b=g.call(Object),w=function(t){if(!p(t)||"[object Object]"!=d(t))return!1;var e=f(t);if(null===e)return!0;var n=m.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&g.call(n)==b},_=function(t,e){return t===e||t!=t&&e!=e},v=function(t,e){for(var n=t.length;n--;)if(_(t[n][0],e))return n;return-1},y=Array.prototype.splice;function k(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}k.prototype.clear=function(){this.__data__=[],this.size=0},k.prototype.delete=function(t){var e=this.__data__,n=v(e,t);return!(n<0||(n==e.length-1?e.pop():y.call(e,n,1),--this.size,0))},k.prototype.get=function(t){var e=this.__data__,n=v(e,t);return n<0?void 0:e[n][1]},k.prototype.has=function(t){return v(this.__data__,t)>-1},k.prototype.set=function(t,e){var n=this.__data__,r=v(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var C,x=k,A=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},E=function(t){if(!A(t))return!1;var e=d(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},S=r.a["__core-js_shared__"],T=(C=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",P=Function.prototype.toString,M=function(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""},O=/^\[object .+?Constructor\]$/,I=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!A(t)||function(t){return!!T&&T in t}(t))&&(E(t)?I:O).test(M(t))}(n)?n:void 0},N=D(r.a,"Map"),R=D(Object,"create"),j=Object.prototype.hasOwnProperty,L=Object.prototype.hasOwnProperty;function F(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}F.prototype.clear=function(){this.__data__=R?R(null):{},this.size=0},F.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},F.prototype.get=function(t){var e=this.__data__;if(R){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return j.call(e,t)?e[t]:void 0},F.prototype.has=function(t){var e=this.__data__;return R?void 0!==e[t]:L.call(e,t)},F.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=R&&void 0===e?"__lodash_hash_undefined__":e,this};var V=F,B=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}z.prototype.clear=function(){this.size=0,this.__data__={hash:new V,map:new(N||x),string:new V}},z.prototype.delete=function(t){var e=B(this,t).delete(t);return this.size-=e?1:0,e},z.prototype.get=function(t){return B(this,t).get(t)},z.prototype.has=function(t){return B(this,t).has(t)},z.prototype.set=function(t,e){var n=B(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var U=z;function H(t){var e=this.__data__=new x(t);this.size=e.size}H.prototype.clear=function(){this.__data__=new x,this.size=0},H.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},H.prototype.get=function(t){return this.__data__.get(t)},H.prototype.has=function(t){return this.__data__.has(t)},H.prototype.set=function(t,e){var n=this.__data__;if(n instanceof x){var r=n.__data__;if(!N||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new U(r)}return n.set(t,e),this.size=n.size,this};var q=H,$=function(){try{var t=D(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),W=function(t,e,n){"__proto__"==e&&$?$(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},G=Object.prototype.hasOwnProperty,Y=function(t,e,n){var r=t[e];G.call(t,e)&&_(r,n)&&(void 0!==n||e in t)||W(t,e,n)},Q=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),o?W(n,a,c):Y(n,a,c)}return n},Z=function(t){return p(t)&&"[object Arguments]"==d(t)},K=Object.prototype,J=K.hasOwnProperty,X=K.propertyIsEnumerable,tt=Z(function(){return arguments}())?Z:function(t){return p(t)&&J.call(t,"callee")&&!X.call(t,"callee")},et=Array.isArray,nt=n(4),rt=/^(?:0|[1-9]\d*)$/,ot=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&rt.test(t))&&t>-1&&t%1==0&&t<e},it=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},st={};st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object Boolean]"]=st["[object DataView]"]=st["[object Date]"]=st["[object Error]"]=st["[object Function]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object WeakMap]"]=!1;var at=function(t){return function(e){return t(e)}},ct=n(5),lt=ct.a&&ct.a.isTypedArray,ut=lt?at(lt):function(t){return p(t)&&it(t.length)&&!!st[d(t)]},dt=Object.prototype.hasOwnProperty,ht=function(t,e){var n=et(t),r=!n&&tt(t),o=!n&&!r&&Object(nt.a)(t),i=!n&&!r&&!o&&ut(t),s=n||r||o||i,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var l in t)!e&&!dt.call(t,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ot(l,c))||a.push(l);return a},ft=Object.prototype,pt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ft)},gt=h(Object.keys,Object),mt=Object.prototype.hasOwnProperty,bt=function(t){return null!=t&&it(t.length)&&!E(t)},wt=function(t){return bt(t)?ht(t):function(t){if(!pt(t))return gt(t);var e=[];for(var n in Object(t))mt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)},_t=Object.prototype.hasOwnProperty,vt=function(t){return bt(t)?ht(t,!0):function(t){if(!A(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=pt(t),n=[];for(var r in t)("constructor"!=r||!e&&_t.call(t,r))&&n.push(r);return n}(t)},yt=n(8),kt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Ct=function(){return[]},xt=Object.prototype.propertyIsEnumerable,At=Object.getOwnPropertySymbols,Et=At?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s)&&(i[o++]=s)}return i}(At(t),(function(e){return xt.call(t,e)})))}:Ct,St=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Tt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)St(e,Et(t)),t=f(t);return e}:Ct,Pt=function(t,e,n){var r=e(t);return et(t)?r:St(r,n(t))},Mt=function(t){return Pt(t,wt,Et)},Ot=function(t){return Pt(t,vt,Tt)},It=D(r.a,"DataView"),Dt=D(r.a,"Promise"),Nt=D(r.a,"Set"),Rt=D(r.a,"WeakMap"),jt=M(It),Lt=M(N),Ft=M(Dt),Vt=M(Nt),Bt=M(Rt),zt=d;(It&&"[object DataView]"!=zt(new It(new ArrayBuffer(1)))||N&&"[object Map]"!=zt(new N)||Dt&&"[object Promise]"!=zt(Dt.resolve())||Nt&&"[object Set]"!=zt(new Nt)||Rt&&"[object WeakMap]"!=zt(new Rt))&&(zt=function(t){var e=d(t),n="[object Object]"==e?t.constructor:void 0,r=n?M(n):"";if(r)switch(r){case jt:return"[object DataView]";case Lt:return"[object Map]";case Ft:return"[object Promise]";case Vt:return"[object Set]";case Bt:return"[object WeakMap]"}return e});var Ut=zt,Ht=Object.prototype.hasOwnProperty,qt=r.a.Uint8Array,$t=function(t){var e=new t.constructor(t.byteLength);return new qt(e).set(new qt(t)),e},Wt=/\w*$/,Gt=o?o.prototype:void 0,Yt=Gt?Gt.valueOf:void 0,Qt=function(t,e){var n=e?$t(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Zt=Object.create,Kt=function(){function t(){}return function(e){if(!A(e))return{};if(Zt)return Zt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Jt=function(t){return"function"!=typeof t.constructor||pt(t)?{}:Kt(f(t))},Xt=ct.a&&ct.a.isMap,te=Xt?at(Xt):function(t){return p(t)&&"[object Map]"==Ut(t)},ee=ct.a&&ct.a.isSet,ne=ee?at(ee):function(t){return p(t)&&"[object Set]"==Ut(t)},re={};re["[object Arguments]"]=re["[object Array]"]=re["[object ArrayBuffer]"]=re["[object DataView]"]=re["[object Boolean]"]=re["[object Date]"]=re["[object Float32Array]"]=re["[object Float64Array]"]=re["[object Int8Array]"]=re["[object Int16Array]"]=re["[object Int32Array]"]=re["[object Map]"]=re["[object Number]"]=re["[object Object]"]=re["[object RegExp]"]=re["[object Set]"]=re["[object String]"]=re["[object Symbol]"]=re["[object Uint8Array]"]=re["[object Uint8ClampedArray]"]=re["[object Uint16Array]"]=re["[object Uint32Array]"]=!0,re["[object Error]"]=re["[object Function]"]=re["[object WeakMap]"]=!1;var oe=function t(e,n,r,o,i,s){var a,c=1&n,l=2&n,u=4&n;if(r&&(a=i?r(e,o,i,s):r(e)),void 0!==a)return a;if(!A(e))return e;var d=et(e);if(d){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ht.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!c)return kt(e,a)}else{var h=Ut(e),f="[object Function]"==h||"[object GeneratorFunction]"==h;if(Object(nt.a)(e))return Object(yt.a)(e,c);if("[object Object]"==h||"[object Arguments]"==h||f&&!i){if(a=l||f?{}:Jt(e),!c)return l?function(t,e){return Q(t,Tt(t),e)}(e,function(t,e){return t&&Q(e,vt(e),t)}(a,e)):function(t,e){return Q(t,Et(t),e)}(e,function(t,e){return t&&Q(e,wt(e),t)}(a,e))}else{if(!re[h])return i?e:{};a=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return $t(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return function(t,e){var n=e?$t(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Qt(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,Wt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Set]":return new r;case"[object Symbol]":return function(t){return Yt?Object(Yt.call(t)):{}}(t)}}(e,h,c)}}s||(s=new q);var p=s.get(e);if(p)return p;s.set(e,a),ne(e)?e.forEach((function(o){a.add(t(o,n,r,o,e,s))})):te(e)&&e.forEach((function(o,i){a.set(i,t(o,n,r,i,e,s))}));var g=u?l?Ot:Mt:l?keysIn:wt,m=d?void 0:g(e);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n););}(m||e,(function(o,i){m&&(o=e[i=o]),Y(a,i,t(o,n,r,i,e,s))})),a},ie=function(t,e){return oe(t,5,e="function"==typeof e?e:void 0)},se=function(t){return p(t)&&1===t.nodeType&&!w(t)};class ae{constructor(t,e){this._config={},e&&this.define(ce(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,r=!1){if(w(e))return void this._setObjectToTarget(t,e,r);const o=e.split(".");e=o.pop();for(const i of o)w(t[i])||(t[i]={}),t=t[i];if(w(n))return w(t[e])||(t[e]={}),void this._setObjectToTarget(t=t[e],n,r);r&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const r of n){if(!w(t[r])){t=null;break}t=t[r]}return t?ce(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(r=>{this._setToTarget(t,r,e[r],n)})}}function ce(t){return ie(t,le)}function le(t){return se(t)?t:void 0}class ue{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=function t(){t.called=!0},this.off=function t(){t.called=!0}}}const de=new Array(256).fill().map((t,e)=>("0"+e.toString(16)).slice(-2));function he(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+de[t>>0&255]+de[t>>8&255]+de[t>>16&255]+de[t>>24&255]+de[e>>0&255]+de[e>>8&255]+de[e>>16&255]+de[e>>24&255]+de[n>>0&255]+de[n>>8&255]+de[n>>16&255]+de[n>>24&255]+de[r>>0&255]+de[r>>8&255]+de[r>>16&255]+de[r>>24&255]}var fe={get(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},pe=(n(6),n(0));const ge=Symbol("listeningTo"),me=Symbol("emitterId");var be={on(t,e,n={}){this.listenTo(this,t,e,n)},once(t,e,n){let r=!1;this.listenTo(this,t,(function(t,...n){r||(r=!0,t.off(),e.call(this,t,...n))}),n)},off(t,e){this.stopListening(this,t,e)},listenTo(t,e,n,r={}){let o,i;this[ge]||(this[ge]={});const s=this[ge];_e(t)||we(t);const a=_e(t);(o=s[a])||(o=s[a]={emitter:t,callbacks:{}}),(i=o.callbacks[e])||(i=o.callbacks[e]=[]),i.push(n),function(t,e){const n=ve(t);if(n[e])return;let r=e,o=null;const i=[];for(;""!==r&&!n[r];)n[r]={callbacks:[],childEvents:[]},i.push(n[r]),o&&n[r].childEvents.push(o),o=r,r=r.substr(0,r.lastIndexOf(":"));if(""!==r){for(const t of i)t.callbacks=n[r].callbacks.slice();n[r].childEvents.push(o)}}(t,e);const c=ye(t,e),l=fe.get(r.priority),u={callback:n,priority:l};for(const d of c){let t=!1;for(let e=0;e<d.length;e++)if(d[e].priority<l){d.splice(e,0,u),t=!0;break}t||d.push(u)}},stopListening(t,e,n){const r=this[ge];let o=t&&_e(t);const i=r&&o&&r[o],s=i&&e&&i.callbacks[e];if(!(!r||t&&!i||e&&!s))if(n)Ce(t,e,n);else if(s){for(;n=s.pop();)Ce(t,e,n);delete i.callbacks[e]}else if(i){for(e in i.callbacks)this.stopListening(t,e);delete r[o]}else{for(o in r)this.stopListening(r[o].emitter);delete this[ge]}},fire(t,...e){try{const n=t instanceof ue?t:new ue(this,t),r=n.name;let o=function t(e,n){let r;return e._events&&(r=e._events[n])&&r.callbacks.length?r.callbacks:n.indexOf(":")>-1?t(e,n.substr(0,n.lastIndexOf(":"))):null}(this,r);if(n.path.push(this),o){const t=[n,...e];o=Array.from(o);for(let e=0;e<o.length&&(o[e].callback.apply(this,t),n.off.called&&(delete n.off.called,Ce(this,r,o[e].callback)),!n.stop.called);e++);}if(this._delegations){const t=this._delegations.get(r),o=this._delegations.get("*");t&&ke(t,n,e),o&&ke(o,n,e)}return n.return}catch(t){pe.b.rethrowUnexpectedError(t,this)}},delegate(...t){return{to:(e,n)=>{this._delegations||(this._delegations=new Map),t.forEach(t=>{const r=this._delegations.get(t);r?r.set(e,n):this._delegations.set(t,new Map([[e,n]]))})}}},stopDelegating(t,e){if(this._delegations)if(t)if(e){const n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()}};function we(t,e){t[me]||(t[me]=e||he())}function _e(t){return t[me]}function ve(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function ye(t,e){const n=ve(t)[e];if(!n)return[];let r=[n.callbacks];for(let o=0;o<n.childEvents.length;o++){const e=ye(t,n.childEvents[o]);r=r.concat(e)}return r}function ke(t,e,n){for(let[r,o]of t){o?"function"==typeof o&&(o=o(e.name)):o=e.name;const t=new ue(e.source,o);t.path=[...e.path],r.fire(t,...n)}}function Ce(t,e,n){const r=ye(t,e);for(const o of r)for(let t=0;t<o.length;t++)o[t].callback==n&&(o.splice(t,1),t--)}function xe(t){return!(!t||!t[Symbol.iterator])}function Ae(t,...e){e.forEach(e=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(n=>{if(n in t.prototype)return;const r=Object.getOwnPropertyDescriptor(e,n);r.enumerable=!1,Object.defineProperty(t.prototype,n,r)})})}class Ee{constructor(t={},e={}){const n=xe(t);if(n||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const r of t)this._items.push(r),this._itemMap.set(this._getItemIdBeforeAdding(r),r)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new pe.b("collection-add-item-invalid-index",this);for(let n=0;n<t.length;n++){const r=t[n],o=this._getItemIdBeforeAdding(r),i=e+n;this._items.splice(i,0,r),this._itemMap.set(o,r),this.fire("add",r,i)}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new pe.b("collection-get-invalid-arg: Index or id must be given.",this);e=this._items[t]}return e||null}has(t){return this._itemMap.has("string"==typeof t?t:t[this._idProperty])}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}remove(t){const[e,n]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:n}),e}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new pe.b("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding(e=>new t(e))},using:t=>{this._setUpBindToBinding("function"==typeof t?e=>t(e):e=>e[t])}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,r,o)=>{const i=e._bindToCollection==this,s=e._bindToInternalToExternalMap.get(r);if(i&&s)this._bindToExternalToInternalMap.set(r,s),this._bindToInternalToExternalMap.set(s,r);else{const n=t(r);if(!n)return void this._skippedIndexesFromExternal.push(o);let i=o;for(const t of this._skippedIndexesFromExternal)o>t&&i--;for(const t of e._skippedIndexesFromExternal)i>=t&&i++;this._bindToExternalToInternalMap.set(r,n),this._bindToInternalToExternalMap.set(n,r),this.add(n,i);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)i<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const r of e)n(0,r,e.getIndex(r));this.listenTo(e,"add",n),this.listenTo(e,"remove",(t,e,n)=>{const r=this._bindToExternalToInternalMap.get(e);r&&this.remove(r),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t),[])})}_getItemIdBeforeAdding(t){const e=this._idProperty;let n;if(e in t){if(n=t[e],"string"!=typeof n)throw new pe.b("collection-add-invalid-id",this);if(this.get(n))throw new pe.b("collection-add-item-already-exists",this)}else t[e]=n=he();return n}_remove(t){let e,n,r,o=!1;const i=this._idProperty;if("string"==typeof t?(n=t,r=this._itemMap.get(n),o=!r,r&&(e=this._items.indexOf(r))):"number"==typeof t?(e=t,r=this._items[e],o=!r,r&&(n=r[i])):(r=t,n=r[i],e=this._items.indexOf(r),o=-1==e||!this._itemMap.get(n)),o)throw new pe.b("collection-remove-404: Item not found.",this);this._items.splice(e,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(s),this.fire("remove",r,e),[r,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}Ae(Ee,be);class Se{constructor(t,e=[],n=[]){this._context=t,this._plugins=new Map,this._availablePlugins=new Map;for(const r of e)r.pluginName&&this._availablePlugins.set(r.pluginName,r);this._contextPlugins=new Map;for(const[r,o]of n)this._contextPlugins.set(r,o),this._contextPlugins.set(o,r),r.pluginName&&this._availablePlugins.set(r.pluginName,r)}*[Symbol.iterator](){for(const t of this._plugins)"function"==typeof t[0]&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){let e=t;throw"function"==typeof t&&(e=t.pluginName||t.name),new pe.b("plugincollection-plugin-not-loaded: The requested plugin is not loaded.",this._context,{plugin:e})}return e}has(t){return this._plugins.has(t)}init(t,e=[]){const n=this,r=this._context,o=new Set,i=[],s=d(t),a=d(e),c=function(t){const e=[];for(const n of t)u(n)||e.push(n);return e.length?e:null}(t);if(c){const t="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(pe.a)(t),{plugins:c}),Promise.reject(new pe.b(t,r,{plugins:c}))}return Promise.all(s.map((function t(s){if(!a.includes(s)&&!n._plugins.has(s)&&!o.has(s))return function(s){return new Promise(a=>{o.add(s),s.requires&&s.requires.forEach(n=>{const o=u(n);if(s.isContextPlugin&&!o.isContextPlugin)throw new pe.b("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:o.name,requiredBy:s.name});if(e.includes(o))throw new pe.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",r,{plugin:o.name,requiredBy:s.name});t(o)});const c=n._contextPlugins.get(s)||new s(r);n._add(s,c),i.push(c),a()})}(s).catch(t=>{throw console.error(Object(pe.a)("plugincollection-load: It was not possible to load the plugin."),{plugin:s}),t})}))).then(()=>l(i,"init")).then(()=>l(i,"afterInit")).then(()=>i);function l(t,e){return t.reduce((t,r)=>r[e]?n._contextPlugins.has(r)?t:t.then(r[e].bind(r)):t,Promise.resolve())}function u(t){return"function"==typeof t?t:n._availablePlugins.get(t)}function d(t){return t.map(t=>u(t)).filter(t=>!!t)}}destroy(){const t=[];for(const[,e]of this)"function"!=typeof e.destroy||this._contextPlugins.has(e)||t.push(e.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;if(n){if(this._plugins.has(n))throw new pe.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}Ae(Se,be),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});const Te=["ar","fa","he","ku","ug"];class Pe{constructor(t={}){this.uiLanguage=t.uiLanguage||"en",this.contentLanguage=t.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Me(this.uiLanguage),this.contentLanguageDirection=Me(this.contentLanguage),this.t=(t,e)=>this._t(t,e)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){return Array.isArray(e)||(e=[e]),"string"==typeof t&&(t={string:t}),function(t,e){return t.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)}(function(t,e,n=1){if("number"!=typeof n)throw new pe.b("translation-service-quantity-not-a-number: Expecting `quantity` to be a number.",null,{quantity:n});const r=Object.keys(window.CKEDITOR_TRANSLATIONS).length;1===r&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);const o=e.id||e.string;if(0===r||!function(t,e){return!!window.CKEDITOR_TRANSLATIONS[t]&&!!window.CKEDITOR_TRANSLATIONS[t].dictionary[e]}(t,o))return 1!==n?e.plural:e.string;const i=window.CKEDITOR_TRANSLATIONS[t].dictionary,s=window.CKEDITOR_TRANSLATIONS[t].getPluralForm||(t=>1===t?0:1);if("string"==typeof i[o])return i[o];const a=Number(s(n));return i[o][a]}(this.uiLanguage,t,t.plural?e[0]:1),e)}}function Me(t){return Te.includes(t)?"rtl":"ltr"}class Oe{constructor(t){this.config=new ae(t,this.constructor.defaultConfig);const e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new Se(this,e);const n=this.config.get("language")||{};this.locale=new Pe({uiLanguage:"string"==typeof n?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Ee,this._contextOwner=null}initPlugins(){const t=this.config.get("plugins")||[];for(const e of t){if("function"!=typeof e)throw new pe.b("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:e});if(!0!==e.isContextPlugin)throw new pe.b("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:e})}return this.plugins.init(t)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner)throw new pe.b("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise(e=>{const n=new this(t);e(n.initPlugins().then(()=>n))})}}function Ie(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)if(t[r]!=e[r])return r;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}var De=function(t){return oe(t,4)};class Ne{constructor(t){this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new pe.b("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),r=t.getAncestors(e);let o=0;for(;n[o]==r[o]&&n[o];)o++;return 0===o?null:n[o-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),r=Ie(e,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return e[r]<n[r]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=De(this);return delete t.parent,t}is(t){return"node"===t||"view:node"===t}}Ae(Ne,be);class Re extends Ne{constructor(t,e){super(t),this._textData=e}is(t){return"$text"===t||"view:$text"===t||"text"===t||"view:text"===t||"node"===t||"view:node"===t}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof Re&&(this===t||this.data===t.data)}_clone(){return new Re(this.document,this.data)}}class je{constructor(t,e,n){if(this.textNode=t,e<0||e>t.data.length)throw new pe.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||e+n>t.data.length)throw new pe.b("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"$textProxy"===t||"view:$textProxy"===t||"textProxy"===t||"view:textProxy"===t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}function Le(t){return xe(t)?new Map(t):function(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}(t)}class Fe{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),e.classes&&("string"==typeof e.classes||e.classes instanceof RegExp)&&(e.classes=[e.classes]),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=Ve(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const r=Ve(n,t);r&&e.push({element:n,pattern:t,match:r})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function Ve(t,e){if("function"==typeof e)return e(t);const n={};return e.name&&(n.name=function(t,e){return t instanceof RegExp?t.test(e):t===e}(e.name,t.name),!n.name)||e.attributes&&(n.attributes=function(t,e){const n=[];for(const r in t){const o=t[r];if(!e.hasAttribute(r))return null;{const t=e.getAttribute(r);if(!0===o)n.push(r);else if(o instanceof RegExp){if(!o.test(t))return null;n.push(r)}else{if(t!==o)return null;n.push(r)}}}return n}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){const n=[];for(const r of t)if(r instanceof RegExp){const t=e.getClassNames();for(const e of t)r.test(e)&&n.push(e);if(0===n.length)return null}else{if(!e.hasClass(r))return null;n.push(r)}return n}(e.classes,t),!n.classes))&&!(e.styles&&(n.styles=function(t,e){const n=[];for(const r in t){const o=t[r];if(!e.hasStyle(r))return null;{const t=e.getStyle(r);if(o instanceof RegExp){if(!o.test(t))return null;n.push(r)}else{if(t!==o)return null;n.push(r)}}}return n}(e.styles,t),!n.styles))&&n}var Be=function(t){return"symbol"==typeof t||p(t)&&"[object Symbol]"==d(t)},ze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ue=/^\w*$/;function He(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(He.Cache||U),n}He.Cache=U;var qe=He,$e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,We=/\\(\\)?/g,Ge=function(t){var e=qe((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace($e,(function(t,n,r,o){e.push(r?o.replace(We,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}(),Ye=o?o.prototype:void 0,Qe=Ye?Ye.toString:void 0,Ze=function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(et(e))return function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(e,t)+"";if(Be(e))return Qe?Qe.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}(t)},Ke=function(t,e){return et(t)?t:function(t,e){if(et(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Be(t))||Ue.test(t)||!ze.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:Ge(Ze(t))},Je=function(t){if("string"==typeof t||Be(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Xe=function(t,e){for(var n=0,r=(e=Ke(e,t)).length;null!=t&&n<r;)t=t[Je(e[n++])];return n&&n==r?t:void 0},tn=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i},en=function(t,e,n){var r=null==t?void 0:Xe(t,e);return void 0===r?n:r},nn=function(t,e,n){(void 0!==n&&!_(t[e],n)||void 0===n&&!(e in t))&&W(t,e,n)},rn=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},on=function(t){return t},sn=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},an=Math.max,cn=function(t){return function(){return t}},ln=Date.now,un=function(t){var e=0,n=0;return function(){var r=ln(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}($?function(t,e){return $(t,"toString",{configurable:!0,enumerable:!1,value:cn(e),writable:!0})}:on),dn=function(t){return function(t,e){return un(function(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=an(r.length-e,0),s=Array(i);++o<i;)s[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(s),sn(t,this,a)}}(t,void 0,on),t+"")}((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,s&&function(t,e,n){if(!A(n))return!1;var r=typeof e;return!!("number"==r?bt(n)&&ot(e,n.length):"string"==r&&e in n)&&_(n[e],t)}(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,i)}return e}))},hn=dn((function(t,e,n){!function t(e,n,r,o,i){e!==n&&function(t,e,n){for(var r=-1,o=Object(t),i=n(t),s=i.length;s--;){var a=i[++r];if(!1===e(o[a],a))break}}(n,(function(s,a){if(i||(i=new q),A(s))!function(t,e,n,r,o,i,s){var a=rn(t,n),c=rn(e,n),l=s.get(c);if(l)nn(t,n,l);else{var u=i?i(a,c,n+"",t,e,s):void 0,d=void 0===u;if(d){var h=et(c),f=!h&&Object(nt.a)(c),g=!h&&!f&&ut(c);u=c,h||f||g?et(a)?u=a:function(t){return p(t)&&bt(t)}(a)?u=kt(a):f?(d=!1,u=Object(yt.a)(c,!0)):g?(d=!1,u=Qt(c,!0)):u=[]:w(c)||tt(c)?(u=a,tt(a)?u=function(t){return Q(t,vt(t))}(a):A(a)&&!E(a)||(u=Jt(c))):d=!1}d&&(s.set(c,u),o(u,c,r,i,s),s.delete(c)),nn(t,n,u)}}(e,n,a,r,t,o,i);else{var c=o?o(rn(e,a),s,a+"",e,n,i):void 0;void 0===c&&(c=s),nn(e,a,c)}}),vt)}(t,e,n)}));class fn{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){const t=Object.entries(this._styles);return!Array.from(t).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=Array.from(function(t){let e=null,n=0,r=0,o=null;const i=new Map;if(""===t)return i;";"!=t.charAt(t.length-1)&&(t+=";");for(let s=0;s<t.length;s++){const a=t.charAt(s);if(null===e)switch(a){case":":o||(o=t.substr(n,s-n),r=s+1);break;case'"':case"'":e=a;break;case";":{const e=t.substr(r,s-r);o&&i.set(o.trim(),e.trim()),o=null,n=s+1;break}}else a===e&&(e=null)}return i}(t).entries());for(const[n,r]of e)this._styleProcessor.toNormalizedForm(n,r,this._styles)}has(t){if(this.isEmpty)return!1;const e=this._styleProcessor.getReducedForm(t,this._styles).find(([e])=>e===t);return Array.isArray(e)}set(t,e){if(A(t))for(const[n,r]of Object.entries(t))this._styleProcessor.toNormalizedForm(n,r,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){const e=gn(t);(function(t,e){null==t||function(t,e){null==(t=function(t,e){return e.length<2?t:Xe(t,tn(e,0,-1))}(t,e=Ke(e,t)))||delete t[Je(function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}(e))]}(t,e)})(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!A(this._styles[t]))return this._styles[t];const e=this._styleProcessor.getReducedForm(t,this._styles).find(([e])=>e===t);return Array.isArray(e)?e[1]:void 0}getStyleNames(){return this.isEmpty?[]:this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const n of e)t.push(...this._styleProcessor.getReducedForm(n,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const n=e.splice(0,e.length-1).join("."),r=en(this._styles,n);r&&!Array.from(Object.keys(r)).length&&this.remove(n)}}class pn{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,n){if(A(e))mn(n,gn(t),e);else if(this._normalizers.has(t)){const r=this._normalizers.get(t),{path:o,value:i}=r(e);mn(n,o,i)}else mn(n,t,e)}getNormalized(t,e){if(!t)return hn({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){const n=this._extractors.get(t);if("string"==typeof n)return en(e,n);const r=n(t,e);if(r)return r}return en(e,gn(t))}getReducedForm(t,e){const n=this.getNormalized(t,e);return void 0===n?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const n of e)this._mapStyleNames(n,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function gn(t){return t.replace("-",".")}function mn(t,e,n){let r=n;A(n)&&(r=hn({},en(t,e),n)),function(t,e,n){null==t||function(t,e,n,r){if(!A(t))return t;for(var o=-1,i=(e=Ke(e,t)).length,s=i-1,a=t;null!=a&&++o<i;){var c=Je(e[o]),l=n;if(o!=s){var u=a[c];void 0===(l=void 0)&&(l=A(u)?u:ot(e[o+1])?[]:{})}Y(a,c,l),a=a[c]}}(t,e,n)}(t,e,r)}class bn extends Ne{constructor(t,e,n,r){if(super(t),this.name=e,this._attrs=function(t){t=Le(t);for(const[e,n]of t)null===n?t.delete(e):"string"!=typeof n&&t.set(e,String(n));return t}(n),this._children=[],r&&this._insertChild(0,r),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");wn(this._classes,t),this._attrs.delete("class")}this._styles=new fn(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(t,e=null){return e?e===this.name&&("element"===t||"view:element"===t):"element"===t||"view:element"===t||"node"===t||"view:node"===t}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==t){const t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(t)}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof bn))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(){return this._styles.getStyleNames()}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new Fe(...t);let n=this.parent;for(;n;){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map(t=>`${t[0]}="${t[1]}"`).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(e?` style="${e}"`:"")+(""==n?"":" "+n)}_clone(t=!1){const e=[];if(t)for(const r of this.getChildren())e.push(r._clone(t));const n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const r=function(t,e){return"string"==typeof e?[new Re(t,e)]:(xe(e)||(e=[e]),Array.from(e).map(e=>"string"==typeof e?new Re(t,e):e instanceof je?new Re(t,e.data):e))}(this.document,e);for(const o of r)null!==o.parent&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(t,0,o),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?wn(this._classes,e):"style"==t?this._styles.setTo(e):this._attrs.set(t,e)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._classes.add(t))}_removeClass(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._classes.delete(t))}_setStyle(t,e){this._fireChange("attributes",this),this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._styles.remove(t))}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function wn(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(e=>t.add(e))}class _n extends bn{constructor(t,e,n,r){super(t,e,n,r),this.getFillerOffset=vn}is(t,e=null){return e?e===this.name&&("containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}}function vn(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const n of t)if(!n.is("uiElement"))return null;return this.childCount}var yn=dn((function(t,e){Q(e,vt(e),t)}));const kn=Symbol("observableProperties"),Cn=Symbol("boundObservables"),xn=Symbol("boundProperties"),An={set(t,e){if(A(t))return void Object.keys(t).forEach(e=>{this.set(e,t[e])},this);Sn(this);const n=this[kn];if(t in this&&!n.has(t))throw new pe.b("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const r=n.get(t);let o=this.fire("set:"+t,t,e,r);void 0===o&&(o=e),r===o&&n.has(t)||(n.set(t,o),this.fire("change:"+t,t,o,r))}}),this[t]=e},bind(...t){if(!t.length||!Mn(t))throw new pe.b("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(t).size!==t.length)throw new pe.b("observable-bind-duplicate-properties: Properties must be unique.",this);Sn(this);const e=this[xn];t.forEach(t=>{if(e.has(t))throw new pe.b("observable-bind-rebind: Cannot bind the same property more than once.",this)});const n=new Map;return t.forEach(t=>{const r={property:t,to:[]};e.set(t,r),n.set(t,r)}),{to:Tn,toMany:Pn,_observable:this,_bindProperties:t,_to:[],_bindings:n}},unbind(...t){if(!this[kn])return;const e=this[xn],n=this[Cn];if(t.length){if(!Mn(t))throw new pe.b("observable-unbind-wrong-properties: Properties must be strings.",this);t.forEach(t=>{const r=e.get(t);if(!r)return;let o,i,s,a;r.to.forEach(t=>{o=t[0],i=t[1],s=n.get(o),a=s[i],a.delete(r),a.size||delete s[i],Object.keys(s).length||(n.delete(o),this.stopListening(o,"change"))}),e.delete(t)})}else n.forEach((t,e)=>{this.stopListening(e,"change")}),n.clear(),e.clear()},decorate(t){const e=this[t];if(!e)throw new pe.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:t});this.on(t,(t,n)=>{t.return=e.apply(this,n)}),this[t]=function(...e){return this.fire(t,e)}}};yn(An,be);var En=An;function Sn(t){t[kn]||(Object.defineProperty(t,kn,{value:new Map}),Object.defineProperty(t,Cn,{value:new Map}),Object.defineProperty(t,xn,{value:new Map}))}function Tn(...t){const e=function(...t){if(!t.length)throw new pe.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);const e={to:[]};let n;return"function"==typeof t[t.length-1]&&(e.callback=t.pop()),t.forEach(t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new pe.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);n={observable:t,properties:[]},e.to.push(n)}}),e}(...t),n=Array.from(this._bindings.keys()),r=n.length;if(!e.callback&&e.to.length>1)throw new pe.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(r>1&&e.callback)throw new pe.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);var o;e.to.forEach(t=>{if(t.properties.length&&t.properties.length!==r)throw new pe.b("observable-bind-to-properties-length: The number of properties must match.",this);t.properties.length||(t.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),o=this._observable,this._to.forEach(t=>{const e=o[Cn];let n;e.get(t.observable)||o.listenTo(t.observable,"change",(r,i)=>{n=e.get(t.observable)[i],n&&n.forEach(t=>{On(o,t.property)})})}),function(t){let e;t._bindings.forEach((n,r)=>{t._to.forEach(o=>{e=o.properties[n.callback?0:t._bindProperties.indexOf(r)],n.to.push([o.observable,e]),function(t,e,n,r){const o=t[Cn],i=o.get(n),s=i||{};s[r]||(s[r]=new Set),s[r].add(e),i||o.set(n,s)}(t._observable,n,o.observable,e)})})}(this),this._bindProperties.forEach(t=>{On(this._observable,t)})}function Pn(t,e,n){if(this._bindings.size>1)throw new pe.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to(...function(t,e){const n=t.map(t=>[t,e]);return Array.prototype.concat.apply([],n)}(t,e),n)}function Mn(t){return t.every(t=>"string"==typeof t)}function On(t,e){const n=t[xn].get(e);let r;n.callback?r=n.callback.apply(t,n.to.map(t=>t[0][t[1]])):(r=n.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(t,e)?t[e]=r:t.set(e,r)}class In extends _n{constructor(t,e,n,r){super(t,e,n,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",e=>e&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}is(t,e=null){return e?e===this.name&&("editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}destroy(){this.stopListening()}}Ae(In,En);const Dn=Symbol("rootName");class Nn extends In{constructor(t,e){super(t,e),this.rootName="main"}is(t,e=null){return e?e===this.name&&("rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}get rootName(){return this.getCustomProperty(Dn)}set rootName(t){this._setCustomProperty(Dn,t)}set _name(t){this.name=t}}class Rn{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new pe.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new pe.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,this.position=jn._createAt(t.startPosition?t.startPosition:t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,r;do{r=this.position,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=r)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};let r;if(n instanceof Re){if(t.isAtEnd)return this.position=jn._createAfter(n),this._next();r=n.data[t.offset]}else r=n.getChild(t.offset);if(r instanceof bn)return this.shallow?t.offset++:t=new jn(r,0),this.position=t,this._formatReturnValue("elementStart",r,e,t,1);if(r instanceof Re){if(this.singleCharacters)return t=new jn(r,0),this.position=t,this._next();{let n,o=r.data.length;return r==this._boundaryEndParent?(o=this.boundaries.end.offset,n=new je(r,0,o),t=jn._createAfter(n)):(n=new je(r,0,r.data.length),t.offset++),this.position=t,this._formatReturnValue("text",n,e,t,o)}}if("string"==typeof r){let r;r=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;const o=new je(n,t.offset,r);return t.offset+=r,this.position=t,this._formatReturnValue("text",o,e,t,r)}return t=jn._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};let r;if(n instanceof Re){if(t.isAtStart)return this.position=jn._createBefore(n),this._previous();r=n.data[t.offset-1]}else r=n.getChild(t.offset-1);if(r instanceof bn)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",r,e,t,1)):(t=new jn(r,r.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,e,t));if(r instanceof Re){if(this.singleCharacters)return t=new jn(r,r.data.length),this.position=t,this._previous();{let n,o=r.data.length;if(r==this._boundaryStartParent){const e=this.boundaries.start.offset;n=new je(r,e,r.data.length-e),o=n.data.length,t=jn._createBefore(n)}else n=new je(r,0,r.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",n,e,t,o)}}if("string"==typeof r){let r;r=this.singleCharacters?1:t.offset-(n===this._boundaryStartParent?this.boundaries.start.offset:0),t.offset-=r;const o=new je(n,t.offset,r);return this.position=t,this._formatReturnValue("text",o,e,t,r)}return t=jn._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,r,o){return e instanceof je&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=jn._createAfter(e.textNode):(r=jn._createAfter(e.textNode),this.position=r)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=jn._createBefore(e.textNode):(r=jn._createBefore(e.textNode),this.position=r))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:o}}}}class jn{constructor(t,e){this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof In);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=jn._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Rn(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let r=0;for(;e[r]==n[r]&&e[r];)r++;return 0===r?null:e[r-1]}is(t){return"position"===t||"view:position"===t}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const r=Ie(e,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return e[r]<n[r]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new Rn(t)}clone(){return new jn(this.parent,this.offset)}static _createAt(t,e){if(t instanceof jn)return new this(t.parent,t.offset);{const n=t;if("end"==e)e=n.is("$text")?n.data.length:n.childCount;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new pe.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",n)}return new jn(n,e)}}static _createAfter(t){if(t.is("$textProxy"))return new jn(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new pe.b("view-position-after-root: You can not make position after root.",t,{root:t});return new jn(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new jn(t.textNode,t.offsetInText);if(!t.parent)throw new pe.b("view-position-before-root: You can not make position before root.",t,{root:t});return new jn(t.parent,t.index)}}class Ln{constructor(t,e=null){this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new Rn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(Fn,{direction:"backward"}),e=this.end.getLastMatchingPosition(Fn);return t.parent.is("$text")&&t.isAtStart&&(t=jn._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=jn._createAfter(e.parent)),new Ln(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(Fn);if(t.isAfter(this.end)||t.isEqual(this.end))return new Ln(t,t);let e=this.end.getLastMatchingPosition(Fn,{direction:"backward"});const n=t.nodeAfter,r=e.nodeBefore;return n&&n.is("$text")&&(t=new jn(n,0)),r&&r.is("$text")&&(e=new jn(r,r.data.length)),new Ln(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),r=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&r}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Ln(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Ln(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Ln(e,n)}return null}getWalker(t={}){return t.boundaries=this,new Rn(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new Ln(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Rn(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new Rn(t);yield e.position;for(const n of e)yield n.nextPosition}is(t){return"range"===t||"view:range"===t}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,r){return new this(new jn(t,e),new jn(n,r))}static _createFromPositionAndShift(t,e){const n=t,r=t.getShiftedBy(e);return e>0?new this(n,r):new this(r,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(jn._createBefore(t),e)}}function Fn(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}function Vn(t){let e=0;for(const n of t)e++;return e}class Bn{constructor(t=null,e,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,e,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const r of t._ranges)if(e.isEqual(r)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=Vn(this.getRanges());if(e!=Vn(t.getRanges()))return!1;if(0==e)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let e=!1;for(let r of t.getRanges())if(r=r.getTrimmed(),n.start.isEqual(r.start)&&n.end.isEqual(r.end)){e=!0;break}if(!e)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(t,e,n){if(null===t)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof Bn||t instanceof zn)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Ln)this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof jn)this._setRanges([new Ln(t)]),this._setFakeOptions(e);else if(t instanceof Ne){const r=!!n&&!!n.backward;let o;if(void 0===e)throw new pe.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);o="in"==e?Ln._createIn(t):"on"==e?Ln._createOn(t):new Ln(jn._createAt(t,e)),this._setRanges([o],r),this._setFakeOptions(n)}else{if(!xe(t))throw new pe.b("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(t,e&&e.backward),this._setFakeOptions(e)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new pe.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);const n=jn._createAt(t,e);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.pop(),"before"==n.compareWith(r)?this._addRange(new Ln(n,r),!0):this._addRange(new Ln(r,n)),this.fire("change")}is(t){return"selection"===t||"view:selection"===t}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const n of t)this._addRange(n);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof Ln))throw new pe.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new pe.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:t,intersectingRange:e});this._ranges.push(new Ln(t.start,t.end))}}Ae(Bn,be);class zn{constructor(t=null,e,n){this._selection=new Bn,this._selection.delegate("change").to(this),this._selection.setTo(t,e,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}is(t){return"selection"===t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setFocus(t,e){this._selection.setFocus(t,e)}}Ae(zn,be);class Un{constructor(t){this.selection=new zn,this.roots=new Ee({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t),e)break}while(e)}}Ae(Un,En);class Hn extends bn{constructor(t,e,n,r){super(t,e,n,r),this.getFillerOffset=qn,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new pe.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}is(t,e=null){return e?e===this.name&&("attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t):"attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function qn(){if($n(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if($n(t)>1)return null;t=t.parent}return!t||$n(t)>1?null:this.childCount}function $n(t){return Array.from(t.getChildren()).filter(t=>!t.is("uiElement")).length}Hn.DEFAULT_PRIORITY=10;class Wn extends bn{constructor(t,e,n,r){super(t,e,n,r),this.getFillerOffset=Gn}is(t,e=null){return e?e===this.name&&("emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t):"emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}_insertChild(t,e){if(e&&(e instanceof Ne||Array.from(e).length>0))throw new pe.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,e])}}function Gn(){return null}const Yn=navigator.userAgent.toLowerCase();var Qn=function(t){return t.indexOf("macintosh")>-1}(Yn),Zn=function(t){return!!t.match(/gecko\/\d+/)}(Yn),Kn=function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(Yn),Jn=function(t){return t.indexOf("android")>-1}(Yn);!function(){let t=!1;try{t=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(t){}}();const Xn={"\u2318":"ctrl","\u21e7":"shift","\u2325":"alt"},tr={ctrl:"\u2318",shift:"\u21e7",alt:"\u2325"},er=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let e=65;e<=90;e++)t[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return t}();function nr(t){let e;if("string"==typeof t){if(e=er[t.toLowerCase()],!e)throw new pe.b("keyboard-unknown-key: Unknown key name.",null,{key:t})}else e=t.keyCode+(t.altKey?er.alt:0)+(t.ctrlKey?er.ctrl:0)+(t.shiftKey?er.shift:0);return e}function rr(t){return"string"==typeof t&&(t=cr(t)),t.map(t=>"string"==typeof t?nr(t):t).reduce((t,e)=>e+t,0)}function or(t){return Qn?cr(t).map(t=>tr[t.toLowerCase()]||t).reduce((t,e)=>t.slice(-1)in Xn?t+e:t+"+"+e):t}function ir(t){return t==er.arrowright||t==er.arrowleft||t==er.arrowup||t==er.arrowdown}function sr(t,e){const n="ltr"===e;switch(t){case er.arrowleft:return n?"left":"right";case er.arrowright:return n?"right":"left";case er.arrowup:return"up";case er.arrowdown:return"down"}}function ar(t,e){const n=sr(t,e);return"down"===n||"right"===n}function cr(t){return t.split(/\s*\+\s*/)}class lr extends bn{constructor(t,e,n,r){super(t,e,n,r),this.getFillerOffset=ur}is(t,e=null){return e?e===this.name&&("uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t):"uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}_insertChild(t,e){if(e&&(e instanceof Ne||Array.from(e).length>0))throw new pe.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}render(t){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const n of this.getAttributeKeys())e.setAttribute(n,this.getAttribute(n));return e}}function ur(){return null}class dr extends bn{constructor(t,e,n,r){super(t,e,n,r),this.getFillerOffset=hr}is(t,e=null){return e?e===this.name&&("rawElement"===t||"view:rawElement"===t||"element"===t||"view:element"===t):"rawElement"===t||"view:rawElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}_insertChild(t,e){if(e&&(e instanceof Ne||Array.from(e).length>0))throw new pe.b("view-rawelement-cannot-add: Cannot add child nodes to a RawElement instance.",[this,e])}}function hr(){return null}class fr{constructor(t,e){this.document=t,this._children=[],e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"===t||"view:documentFragment"===t}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const r=function(t,e){return"string"==typeof e?[new Re(t,e)]:(xe(e)||(e=[e]),Array.from(e).map(e=>"string"==typeof e?new Re(t,e):e instanceof je?new Re(t,e.data):e))}(this.document,e);for(const o of r)null!==o.parent&&o._remove(),o.parent=this,this._children.splice(t,0,o),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}}Ae(fr,be);class pr{constructor(t){this.document=t,this._cloneGroups=new Map}setSelection(t,e,n){this.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createText(t){return new Re(this.document,t)}createAttributeElement(t,e,n={}){const r=new Hn(this.document,t,e);return n.priority&&(r._priority=n.priority),n.id&&(r._id=n.id),r}createContainerElement(t,e){return new _n(this.document,t,e)}createEditableElement(t,e){const n=new In(this.document,t,e);return n._document=this.document,n}createEmptyElement(t,e){return new Wn(this.document,t,e)}createUIElement(t,e,n){const r=new lr(this.document,t,e);return n&&(r.render=n),r}createRawElement(t,e,n){const r=new dr(this.document,t,e);return r.render=n||(()=>{}),r}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){w(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof jn?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new pe.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!e.parent)throw new pe.b("view-writer-break-root: Trying to break root element.",this.document);if(t.isAtStart)return jn._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(jn._createAfter(e),n);const r=new Ln(t,jn._createAt(e,"end")),o=new jn(n,0);this.move(r,o)}return jn._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new jn(t,e))}const r=n.getChild(e-1),o=n.getChild(e);if(!r||!o)return t;if(r.is("$text")&&o.is("$text"))return _r(r,o);if(r.is("attributeElement")&&o.is("attributeElement")&&r.isSimilar(o)){const t=r.childCount;return r._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new jn(r,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new pe.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);const r=e.getChild(e.childCount-1),o=jn._createAt(r instanceof Re?r:e,"end");return this.move(Ln._createIn(n),jn._createAt(e,"end")),this.remove(Ln._createOn(n)),o}insert(t,e){!function t(e,n){for(const r of e){if(!vr.some(t=>r instanceof t))throw new pe.b("view-writer-insert-invalid-node",n);r.is("$text")||t(r.getChildren(),n)}}(e=xe(e)?[...e]:[e],this.document);const n=gr(t);if(!n)throw new pe.b("view-writer-invalid-position-container",this.document);const r=this._breakAttributes(t,!0),o=n._insertChild(r.offset,e);for(const a of e)this._addToClonedElementsGroup(a);const i=r.getShiftedBy(o),s=this.mergeAttributes(r);if(0===o)return new Ln(s,s);{s.isEqual(r)||i.offset--;const t=this.mergeAttributes(i);return new Ln(s,t)}}remove(t){const e=t instanceof Ln?t:Ln._createOn(t);if(kr(e,this.document),e.isCollapsed)return new fr(this.document);const{start:n,end:r}=this._breakAttributesRange(e,!0),o=n.parent._removeChildren(n.offset,r.offset-n.offset);for(const s of o)this._removeFromClonedElementsGroup(s);const i=this.mergeAttributes(n);return e.start=i,e.end=i.clone(),new fr(this.document,o)}clear(t,e){kr(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const r of n){const n=r.item;let o;if(n.is("element")&&e.isSimilar(n))o=Ln._createOn(n);else if(!r.nextPosition.isAfter(t.start)&&n.is("$textProxy")){const t=n.getAncestors().find(t=>t.is("element")&&e.isSimilar(t));t&&(o=Ln._createIn(t))}o&&(o.end.isAfter(t.end)&&(o.end=t.end),o.start.isBefore(t.start)&&(o.start=t.start),this.remove(o))}}move(t,e){let n;if(e.isAfter(t.end)){const r=(e=this._breakAttributes(e,!0)).parent,o=r.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=r.childCount-o}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof Hn))throw new pe.b("view-writer-wrap-invalid-attribute",this.document);if(kr(t,this.document),t.isCollapsed){let n=t.start;n.parent.is("element")&&!Array.from(n.parent.getChildren()).some(t=>!t.is("uiElement"))&&(n=n.getLastMatchingPosition(t=>t.item.is("uiElement"))),n=this._wrapPosition(n,e);const r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new Ln(n)}return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof Hn))throw new pe.b("view-writer-unwrap-invalid-attribute",this.document);if(kr(t,this.document),t.isCollapsed)return t;const{start:n,end:r}=this._breakAttributesRange(t,!0),o=this._unwrapChildren(n.parent,n.offset,r.offset,e),i=this.mergeAttributes(o.start);i.isEqual(o.start)||o.end.offset--;const s=this.mergeAttributes(o.end);return new Ln(i,s)}rename(t,e){const n=new _n(this.document,t,e.getAttributes());return this.insert(jn._createAfter(e),n),this.move(Ln._createIn(e),jn._createAt(n,0)),this.remove(Ln._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return jn._createAt(t,e)}createPositionAfter(t){return jn._createAfter(t)}createPositionBefore(t){return jn._createBefore(t)}createRange(t,e){return new Ln(t,e)}createRangeOn(t){return Ln._createOn(t)}createRangeIn(t){return Ln._createIn(t)}createSelection(t,e,n){return new Bn(t,e,n)}_wrapChildren(t,e,n,r){let o=e;const i=[];for(;o<n;){const e=t.getChild(o),n=e.is("$text"),s=e.is("attributeElement"),a=e.is("emptyElement"),c=e.is("uiElement"),l=e.is("rawElement");if(s&&this._wrapAttributeElement(r,e))i.push(new jn(t,o));else if(n||a||c||l||s&&mr(r,e)){const n=r._clone();e._remove(),n._appendChild(e),t._insertChild(o,n),this._addToClonedElementsGroup(n),i.push(new jn(t,o))}else s&&this._wrapChildren(e,0,e.childCount,r);o++}let s=0;for(const a of i)a.offset-=s,a.offset!=e&&(this.mergeAttributes(a).isEqual(a)||(s++,n--));return Ln._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,r){let o=e;const i=[];for(;o<n;){const e=t.getChild(o);if(e.is("attributeElement"))if(e.isSimilar(r)){const r=e.getChildren(),s=e.childCount;e._remove(),t._insertChild(o,r),this._removeFromClonedElementsGroup(e),i.push(new jn(t,o),new jn(t,o+s)),o+=s,n+=s-1}else this._unwrapAttributeElement(r,e)?(i.push(new jn(t,o),new jn(t,o+1)),o++):(this._unwrapChildren(e,0,e.childCount,r),o++);else o++}let s=0;for(const a of i)a.offset-=s,a.offset!=e&&a.offset!=n&&(this.mergeAttributes(a).isEqual(a)||(s++,n--));return Ln._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:r}=this._breakAttributesRange(t,!0),o=this._wrapChildren(n.parent,n.offset,r.offset,e),i=this.mergeAttributes(o.start);i.isEqual(o.start)||o.end.offset--;const s=this.mergeAttributes(o.end);return new Ln(i,s)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return br(t.clone());t.parent.is("$text")&&(t=wr(t));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const r=new Ln(t,t.getShiftedBy(1));this.wrap(r,e);const o=new jn(n.parent,n.index);n._remove();const i=o.nodeBefore,s=o.nodeAfter;return i instanceof Re&&s instanceof Re?_r(i,s):br(o)}_wrapAttributeElement(t,e){if(!Cr(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!Cr(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,r=t.end;if(kr(t,this.document),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new Ln(n,n)}const o=this._breakAttributes(r,e),i=o.parent.childCount,s=this._breakAttributes(n,e);return o.offset+=o.parent.childCount-i,new Ln(s,o)}_breakAttributes(t,e=!1){const n=t.offset,r=t.parent;if(t.parent.is("emptyElement"))throw new pe.b("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new pe.b("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new pe.b("view-writer-cannot-break-raw-element: Cannot break inside a RawElement instance.",this.document);if(!e&&r.is("$text")&&yr(r.parent))return t.clone();if(yr(r))return t.clone();if(r.is("$text"))return this._breakAttributes(wr(t),e);if(n==r.childCount){const t=new jn(r.parent,r.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new jn(r.parent,r.index);return this._breakAttributes(t,e)}{const t=r.index+1,o=r._clone();r.parent._insertChild(t,o),this._addToClonedElementsGroup(o);const i=r._removeChildren(n,r.childCount-n);o._appendChild(i);const s=new jn(r.parent,t);return this._breakAttributes(s,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const r of t.getChildren())this._addToClonedElementsGroup(r);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const r of t.getChildren())this._removeFromClonedElementsGroup(r);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function gr(t){let e=t.parent;for(;!yr(e);){if(!e)return;e=e.parent}return e}function mr(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function br(t){const e=t.nodeBefore;if(e&&e.is("$text"))return new jn(e,e.data.length);const n=t.nodeAfter;return n&&n.is("$text")?new jn(n,0):t}function wr(t){if(t.offset==t.parent.data.length)return new jn(t.parent.parent,t.parent.index+1);if(0===t.offset)return new jn(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new Re(t.root.document,e)),new jn(t.parent.parent,t.parent.index+1)}function _r(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new jn(t,n)}const vr=[Re,Hn,_n,Wn,dr,lr];function yr(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function kr(t,e){const n=gr(t.start),r=gr(t.end);if(!n||!r||n!==r)throw new pe.b("view-writer-invalid-range-container",e)}function Cr(t,e){return null===t.id&&null===e.id}function xr(t){return"[object Text]"==Object.prototype.toString.call(t)}const Ar=t=>t.createTextNode("\xa0"),Er=t=>{const e=t.createElement("br");return e.dataset.ckeFiller=!0,e},Sr=(()=>{let t="";for(let e=0;e<7;e++)t+="\u200b";return t})();function Tr(t){return xr(t)&&t.data.substr(0,7)===Sr}function Pr(t){return 7==t.data.length&&Tr(t)}function Mr(t){return Tr(t)?t.data.slice(7):t.data}function Or(t,e){if(e.keyCode==er.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;Tr(e)&&n<=7&&t.collapse(e,0)}}}function Ir(t,e,n,r=!1){n=n||function(t,e){return t===e},Array.isArray(t)||(t=Array.prototype.slice.call(t)),Array.isArray(e)||(e=Array.prototype.slice.call(e));const o=function(t,e,n){const r=Dr(t,e,n);if(-1===r)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const o=Dr(Nr(t,r),Nr(e,r),n);return{firstIndex:r,lastIndexOld:t.length-o,lastIndexNew:e.length-o}}(t,e,n);return r?function(t,e){const{firstIndex:n,lastIndexOld:r,lastIndexNew:o}=t;if(-1===n)return Array(e).fill("equal");let i=[];return n>0&&(i=i.concat(Array(n).fill("equal"))),o-n>0&&(i=i.concat(Array(o-n).fill("insert"))),r-n>0&&(i=i.concat(Array(r-n).fill("delete"))),o<e&&(i=i.concat(Array(e-o).fill("equal"))),i}(o,e.length):function(t,e){const n=[],{firstIndex:r,lastIndexOld:o,lastIndexNew:i}=e;return i-r>0&&n.push({index:r,type:"insert",values:t.slice(r,i)}),o-r>0&&n.push({index:r+(i-r),type:"delete",howMany:o-r}),n}(e,o)}function Dr(t,e,n){for(let r=0;r<Math.max(t.length,e.length);r++)if(void 0===t[r]||void 0===e[r]||!n(t[r],e[r]))return r;return-1}function Nr(t,e){return t.slice(e).reverse()}function Rr(t,e,n){n=n||function(t,e){return t===e};const r=t.length,o=e.length;if(r>200||o>200||r+o>300)return Rr.fastDiff(t,e,n,!0);let i,s;if(o<r){const n=t;t=e,e=n,i="delete",s="insert"}else i="insert",s="delete";const a=t.length,c=e.length,l=c-a,u={},d={};function h(r){const o=(void 0!==d[r-1]?d[r-1]:-1)+1,l=void 0!==d[r+1]?d[r+1]:-1,h=o>l?-1:1;u[r+h]&&(u[r]=u[r+h].slice(0)),u[r]||(u[r]=[]),u[r].push(o>l?i:s);let f=Math.max(o,l),p=f-r;for(;p<a&&f<c&&n(t[p],e[f]);)p++,f++,u[r].push("equal");return f}let f,p=0;do{for(f=-p;f<l;f++)d[f]=h(f);for(f=l+p;f>l;f--)d[f]=h(f);d[l]=h(l),p++}while(d[l]!==c);return u[l].slice(1)}function jr(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function Lr(t){const e=t.parentNode;e&&e.removeChild(t)}function Fr(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}Rr.fastDiff=Ir;class Vr{constructor(t,e){this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new pe.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(e)}}}render(){let t;for(const e of this.markedChildren)this._updateChildrenMappings(e);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));for(const e of this.markedAttributes)this._updateAttrs(e);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:t});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:t});if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;this._inlineFiller=Tr(e.parent)?e.parent:Br(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=this.domConverter.mapViewToDom(t).childNodes,r=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),o=this._diffNodeLists(n,r),i=this._findReplaceActions(o,n,r);if(-1!==i.indexOf("replace")){const e={equal:0,insert:0,delete:0};for(const o of i)if("replace"===o){const o=e.equal+e.insert,i=e.equal+e.delete,s=t.getChild(o);!s||s.is("uiElement")||s.is("rawElement")||this._updateElementMappings(s,n[i]),Lr(r[o]),e.equal++}else e[o]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?jn._createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&xr(e.parent)&&Tr(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!Tr(t))throw new pe.b("view-renderer-filler-was-lost: The inline filler node was lost.",this);Pr(t)?t.parentNode.removeChild(t):t.data=t.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;return!(!this.domConverter.mapViewToDom(e.root)||!e.is("element")||!function(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||"true"==e.getAttribute("contenteditable")}(e)||n===e.getFillerOffset()||t.nodeBefore instanceof Re||t.nodeAfter instanceof Re)}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t),r=this.domConverter.viewToDom(t,n.ownerDocument),o=n.data;let i=r.data;const s=e.inlineFillerPosition;if(s&&s.parent==t.parent&&s.offset==t.index&&(i=Sr+i),o!=i){const t=Ir(o,i);for(const e of t)"insert"===e.type?n.insertData(e.index,e.values.join("")):n.deleteData(e.index,e.howMany)}}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map(t=>t.name),r=t.getAttributeKeys();for(const o of r)e.setAttribute(o,t.getAttribute(o));for(const o of n)t.hasAttribute(o)||e.removeAttribute(o)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;const r=e.inlineFillerPosition,o=this.domConverter.mapViewToDom(t).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:r}));r&&r.parent===t&&Br(n.ownerDocument,i,r.offset);const s=this._diffNodeLists(o,i);let a=0;const c=new Set;for(const l of s)"delete"===l?(c.add(o[a]),Lr(o[a])):"equal"===l&&a++;a=0;for(const l of s)"insert"===l?(jr(n,a,i[a]),a++):"equal"===l&&(this._markDescendantTextToSync(this.domConverter.domToView(i[a])),a++);for(const l of c)l.parentNode||this.domConverter.unbindDomElement(l)}_diffNodeLists(t,e){return Rr(t=function(t,e){const n=Array.from(t);return 0!=n.length&&e?(n[n.length-1]==e&&n.pop(),n):n}(t,this._fakeSelectionContainer),e,Ur.bind(null,this.domConverter))}_findReplaceActions(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let r=[],o=[],i=[];const s={equal:0,insert:0,delete:0};for(const a of t)"insert"===a?i.push(n[s.equal+s.insert]):"delete"===a?o.push(e[s.equal+s.delete]):(r=r.concat(Rr(o,i,zr).map(t=>"equal"===t?"replace":t)),r.push("equal"),o=[],i=[]),s[a]++;return r.concat(Rr(o,i,zr).map(t=>"equal"===t?"replace":t))}_markDescendantTextToSync(t){if(t)if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){const e=t.createElement("div");return Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="\xa0",e}(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";const r=e.getSelection(),o=e.createRange();r.removeAllRanges(),o.selectNodeContents(n),r.addRange(o)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);t.focus(),e.collapse(n.parent,n.offset),e.extend(r.parent,r.offset),Zn&&function(t,e){const n=t.parent;if(n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1)return;const r=n.childNodes[t.offset];r&&"BR"==r.tagName&&e.addRange(e.getRangeAt(0))}(r,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return!(e&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments)if(t.getSelection().rangeCount){const e=t.activeElement,n=this.domConverter.mapDomToView(e);e&&n&&t.getSelection().removeAllRanges()}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function Br(t,e,n){const r=e instanceof Array?e:e.childNodes,o=r[n];if(xr(o))return o.data=Sr+o.data,o;{const o=t.createTextNode(Sr);return Array.isArray(e)?r.splice(n,0,o):jr(e,n,o),o}}function zr(t,e){return Fr(t)&&Fr(e)&&!xr(t)&&!xr(e)&&t.nodeType!==Node.COMMENT_NODE&&e.nodeType!==Node.COMMENT_NODE&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function Ur(t,e,n){return e===n||(xr(e)&&xr(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}Ae(Vr,En);var Hr={window,document};function qr(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}function $r(t){const e=[];for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}const Wr=Er(document);class Gr{constructor(t,e={}){this.document=t,this.blockFillerMode=e.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption","td","th"],this._blockFiller="br"==this.blockFillerMode?Er:Ar,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new Bn(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of t.childNodes)this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}viewToDom(t,e,n={}){if(t.is("$text")){const n=this._processDataFromViewText(t);return e.createTextNode(n)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let r;if(t.is("documentFragment"))r=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(r,t);else{if(t.is("uiElement"))return r=t.render(e),n.bind&&this.bindElements(r,t),r;r=t.hasAttribute("xmlns")?e.createElementNS(t.getAttribute("xmlns"),t.name):e.createElement(t.name),t.is("rawElement")&&t.render(r),n.bind&&this.bindElements(r,t);for(const e of t.getAttributeKeys())r.setAttribute(e,t.getAttribute(e))}if(n.withChildren||void 0===n.withChildren)for(const o of this.viewChildrenToDom(t,e,n))r.appendChild(o);return r}}*viewChildrenToDom(t,e,n={}){const r=t.getFillerOffset&&t.getFillerOffset();let o=0;for(const i of t.getChildren())r===o&&(yield this._blockFiller(e)),yield this.viewToDom(i,e,n),o++;r===o&&(yield this._blockFiller(e))}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),r=document.createRange();return r.setStart(e.parent,e.offset),r.setEnd(n.parent,n.offset),r}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let r=t.offset;return Tr(n)&&(r+=7),{parent:n,offset:r}}{let n,r,o;if(0===t.offset){if(n=this.mapViewToDom(e),!n)return null;o=n.childNodes[0]}else{const e=t.nodeBefore;if(r=e.is("$text")?this.findCorrespondingDomText(e):this.mapViewToDom(t.nodeBefore),!r)return null;n=r.parentNode,o=r.nextSibling}return xr(o)&&Tr(o)?{parent:o,offset:7}:{parent:n,offset:r?qr(r)+1:0}}}domToView(t,e={}){if(this.isBlockFiller(t,this.blockFillerMode))return null;const n=this.getHostViewElement(t,this._domToViewMapping);if(n)return n;if(xr(t)){if(Pr(t))return null;{const e=this._processDataFromDomText(t);return""===e?null:new Re(this.document,e)}}if(this.isComment(t))return null;{if(this.mapDomToView(t))return this.mapDomToView(t);let n;if(this.isDocumentFragment(t))n=new fr(this.document),e.bind&&this.bindDocumentFragments(t,n);else{const r=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();n=new bn(this.document,r),e.bind&&this.bindElements(t,n);const o=t.attributes;for(let t=o.length-1;t>=0;t--)n._setAttribute(o[t].name,o[t].value)}if(e.withChildren||void 0===e.withChildren)for(const r of this.domChildrenToView(t,e))n._appendChild(r);return n}}*domChildrenToView(t,e={}){for(let n=0;n<t.childNodes.length;n++){const r=this.domToView(t.childNodes[n],e);null!==r&&(yield r)}}domSelectionToView(t){if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;xr(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let r=0;r<t.rangeCount;r++){const e=t.getRangeAt(r),o=this.domRangeToView(e);o&&n.push(o)}return new Bn(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new Ln(e,n):null}domPositionToView(t,e){if(this.isBlockFiller(t,this.blockFillerMode))return this.domPositionToView(t.parentNode,qr(t));const n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return jn._createBefore(n);if(xr(t)){if(Pr(t))return this.domPositionToView(t.parentNode,qr(t));const n=this.findCorrespondingViewText(t);let r=e;return n?(Tr(t)&&(r-=7,r=r<0?0:r),new jn(n,r)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new jn(e,0)}else{const n=t.childNodes[e-1],r=xr(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(r&&r.parent)return new jn(r.parent,r.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Pr(t))return null;const e=this.getHostViewElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t)return t.nextSibling instanceof Re?t.nextSibling:null}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof Re?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:n}=Hr.window,r=[];Qr(e,t=>{const{scrollLeft:e,scrollTop:n}=t;r.push([e,n])}),e.focus(),Qr(e,t=>{const[e,n]=r.shift();t.scrollLeft=e,t.scrollTop=n}),Hr.window.scrollTo(t,n)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isBlockFiller(t){return"br"==this.blockFillerMode?t.isEqualNode(Wr):!("BR"!==t.tagName||!Zr(t,this.blockElements)||1!==t.parentNode.childNodes.length)||function(t,e){return xr(t)&&"\xa0"==t.data&&Zr(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.collapsed;return e.detach(),n}getHostViewElement(t){const e=$r(t);for(e.pop();e.length;){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}_isDomSelectionPositionCorrect(t,e){if(xr(t)&&Tr(t)&&e<7)return!1;if(this.isElement(t)&&Tr(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")&&!n.is("rawElement")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return e;if(" "==e.charAt(0)){const n=this._getTouchingViewTextNode(t,!1);(!n||!this._nodeEndsWithSpace(n))&&n||(e="\xa0"+e.substr(1))}if(" "==e.charAt(e.length-1)){const n=this._getTouchingViewTextNode(t,!0);" "!=e.charAt(e.length-2)&&n&&" "!=n.data.charAt(0)||(e=e.substr(0,e.length-1)+"\xa0")}return e.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(t){if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_processDataFromDomText(t){let e=t.data;if(Yr(t,this.preElements))return Mr(t);e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),r=this._getTouchingInlineDomNode(t,!0),o=this._checkShouldLeftTrimDomText(n),i=this._checkShouldRightTrimDomText(t,r);return o&&(e=e.replace(/^ /,"")),i&&(e=e.replace(/ $/,"")),e=Mr(new Text(e)),e=e.replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(e)||!r||r.data&&" "==r.data.charAt(0))&&(e=e.replace(/\u00A0$/," ")),o&&(e=e.replace(/^\u00A0/," ")),e}_checkShouldLeftTrimDomText(t){return!t||!!se(t)||/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1))}_checkShouldRightTrimDomText(t,e){return!e&&!Tr(t)}_getTouchingViewTextNode(t,e){const n=new Rn({startPosition:e?jn._createAfter(t):jn._createBefore(t),direction:e?"forward":"backward"});for(const r of n){if(r.item.is("containerElement"))return null;if(r.item.is("element","br"))return null;if(r.item.is("$textProxy"))return r.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"nextNode":"previousNode",r=t.ownerDocument,o=$r(t)[0],i=r.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:t=>xr(t)||"BR"==t.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});i.currentNode=t;const s=i[n]();if(null!==s){const e=function(t,e){const n=$r(t),r=$r(e);let o=0;for(;n[o]==r[o]&&n[o];)o++;return 0===o?null:n[o-1]}(t,s);if(e&&!Yr(t,this.blockElements,e)&&!Yr(s,this.blockElements,e))return s}return null}}function Yr(t,e,n){let r=$r(t);return n&&(r=r.slice(r.indexOf(n)+1)),r.some(t=>t.tagName&&e.includes(t.tagName.toLowerCase()))}function Qr(t,e){for(;t&&t!=Hr.document;)e(t),t=t.parentNode}function Zr(t,e){const n=t.parentNode;return n&&n.tagName&&e.includes(n.tagName.toLowerCase())}function Kr(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}var Jr=yn({},be,{listenTo(t,...e){if(Fr(t)||Kr(t)){const n=this._getProxyEmitter(t)||new Xr(t);n.attach(...e),t=n}be.listenTo.call(this,t,...e)},stopListening(t,e,n){if(Fr(t)||Kr(t)){const e=this._getProxyEmitter(t);if(!e)return;t=e}be.stopListening.call(this,t,e,n),t instanceof Xr&&t.detach(e)},_getProxyEmitter(t){return e=this,n=to(t),e[ge]&&e[ge][n]?e[ge][n].emitter:null;var e,n}});class Xr{constructor(t){we(this,to(t)),this._domNode=t}}function to(t){return t["data-ck-expando"]||(t["data-ck-expando"]=he())}yn(Xr.prototype,be,{attach(t,e,n={}){if(this._domListeners&&this._domListeners[t])return;const r=this._createDomListener(t,!!n.useCapture);this._domNode.addEventListener(t,r,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[t]=r},detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_createDomListener(t,e){const n=e=>{this.fire(t,e)};return n.removeListener=()=>{this._domNode.removeEventListener(t,n,e),delete this._domListeners[t]},n}});class eo{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}function no(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new U;++e<n;)this.add(t[e])}Ae(eo,Jr),no.prototype.add=no.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},no.prototype.has=function(t){return this.__data__.has(t)};var ro=no,oo=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},io=function(t,e){return t.has(e)},so=function(t,e,n,r,o,i){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var u=-1,d=!0,h=2&n?new ro:void 0;for(i.set(t,e),i.set(e,t);++u<a;){var f=t[u],p=e[u];if(r)var g=s?r(p,f,u,e,t,i):r(f,p,u,t,e,i);if(void 0!==g){if(g)continue;d=!1;break}if(h){if(!oo(e,(function(t,e){if(!io(h,e)&&(f===t||o(f,t,n,r,i)))return h.push(e)}))){d=!1;break}}else if(f!==p&&!o(f,p,n,r,i)){d=!1;break}}return i.delete(t),i.delete(e),d},ao=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},co=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},lo=o?o.prototype:void 0,uo=lo?lo.valueOf:void 0,ho=Object.prototype.hasOwnProperty,fo=Object.prototype.hasOwnProperty,po=function t(e,n,r,o,i){return e===n||(null==e||null==n||!p(e)&&!p(n)?e!=e&&n!=n:function(t,e,n,r,o,i){var s=et(t),a=et(e),c=s?"[object Array]":Ut(t),l=a?"[object Array]":Ut(e),u="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),d="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),h=c==l;if(h&&Object(nt.a)(t)){if(!Object(nt.a)(e))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new q),s||ut(t)?so(t,e,n,r,o,i):function(t,e,n,r,o,i,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new qt(t),new qt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=ao;case"[object Set]":if(a||(a=co),t.size!=e.size&&!(1&r))return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var l=so(a(t),a(e),r,o,i,s);return s.delete(t),l;case"[object Symbol]":if(uo)return uo.call(t)==uo.call(e)}return!1}(t,e,c,n,r,o,i);if(!(1&n)){var f=u&&fo.call(t,"__wrapped__"),p=d&&fo.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return i||(i=new q),o(g,m,n,r,i)}}return!!h&&(i||(i=new q),function(t,e,n,r,o,i){var s=1&n,a=Mt(t),c=a.length;if(c!=Mt(e).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in e:ho.call(e,u)))return!1}var d=i.get(t);if(d&&i.get(e))return d==e;var h=!0;i.set(t,e),i.set(e,t);for(var f=s;++l<c;){var p=t[u=a[l]],g=e[u];if(r)var m=s?r(g,p,u,e,t,i):r(p,g,u,t,e,i);if(!(void 0===m?p===g||o(p,g,n,r,i):m)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(h=!1)}return i.delete(t),i.delete(e),h}(t,e,n,r,o,i))}(e,n,r,o,t,i))},go=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?po(t,e,void 0,n):!!r};class mo extends eo{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Map,r=new Set;for(const c of t)if("childList"===c.type){const t=e.mapDomToView(c.target);if(t&&(t.is("uiElement")||t.is("rawElement")))continue;t&&!this._isBogusBrMutation(c)&&r.add(t)}for(const c of t){const t=e.mapDomToView(c.target);if((!t||!t.is("uiElement")&&!t.is("rawElement"))&&"characterData"===c.type){const t=e.findCorrespondingViewText(c.target);t&&!r.has(t.parent)?n.set(t,{type:"text",oldText:t.data,newText:Mr(c.target),node:t}):!t&&Tr(c.target)&&r.add(e.mapDomToView(c.target.parentNode))}}const o=[];for(const c of n.values())this.renderer.markToSync("text",c.node),o.push(c);for(const c of r){const t=e.mapViewToDom(c),n=Array.from(c.getChildren()),r=Array.from(e.domChildrenToView(t,{withChildren:!1}));go(n,r,a)||(this.renderer.markToSync("children",c),o.push({type:"children",oldChildren:n,newChildren:r,node:c}))}const i=t[0].target.ownerDocument.getSelection();let s=null;if(i&&i.anchorNode){const t=e.domPositionToView(i.anchorNode,i.anchorOffset),n=e.domPositionToView(i.focusNode,i.focusOffset);t&&n&&(s=new Bn(t),s.setFocus(n))}function a(t,e){if(!Array.isArray(t))return t===e||!(!t.is("$text")||!e.is("$text"))&&t.data===e.data}o.length&&(this.document.fire("mutations",o,s),this.view.forceRender())}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}class bo{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,yn(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class wo extends eo{constructor(t){super(t),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(e=>{this.listenTo(t,e,(t,e)=>{this.isEnabled&&this.onDomEvent(e)},{useCapture:this.useCapture})})}fire(t,e,n){this.isEnabled&&this.document.fire(t,new bo(this.view,e,n))}}class _o extends wo{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return nr(this)}})}}var vo=function(){return r.a.Date.now()},yo=/^\s+|\s+$/g,ko=/^[-+]0x[0-9a-f]+$/i,Co=/^0b[01]+$/i,xo=/^0o[0-7]+$/i,Ao=parseInt,Eo=function(t){if("number"==typeof t)return t;if(Be(t))return NaN;if(A(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=A(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(yo,"");var n=Co.test(t);return n||xo.test(t)?Ao(t.slice(2),n?2:8):ko.test(t)?NaN:+t},So=Math.max,To=Math.min,Po=function(t,e,n){var r,o,i,s,a,c,l=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=r,i=o;return r=o=void 0,l=e,s=t.apply(i,n)}function p(t){return l=t,a=setTimeout(m,e),u?f(t):s}function g(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-l>=i}function m(){var t=vo();if(g(t))return b(t);a=setTimeout(m,function(t){var n=e-(t-c);return d?To(n,i-(t-l)):n}(t))}function b(t){return a=void 0,h&&r?f(t):(r=o=void 0,s)}function w(){var t=vo(),n=g(t);if(r=arguments,o=this,c=t,n){if(void 0===a)return p(c);if(d)return clearTimeout(a),a=setTimeout(m,e),f(c)}return void 0===a&&(a=setTimeout(m,e)),s}return e=Eo(e)||0,A(n)&&(u=!!n.leading,i=(d="maxWait"in n)?So(Eo(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h),w.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=c=o=a=void 0},w.flush=function(){return void 0===a?s:b(vo())},w};class Mo extends eo{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=Po(t=>this.document.fire("selectionChangeDone",t),200)}observe(){const t=this.document;t.on("keydown",(e,n)=>{var r;t.selection.isFake&&((r=n.keyCode)==er.arrowright||r==er.arrowleft||r==er.arrowup||r==er.arrowdown)&&this.isEnabled&&(n.preventDefault(),this._handleSelectionMove(n.keyCode))},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new Bn(e.getRanges(),{backward:e.isBackward,fake:!1});t!=er.arrowleft&&t!=er.arrowup||n.setTo(n.getFirstPosition()),t!=er.arrowright&&t!=er.arrowdown||n.setTo(n.getLastPosition());const r={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}class Oo extends eo{constructor(t){super(t),this.mutationObserver=t.getObserver(mo),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Po(t=>this.document.fire("selectionChangeDone",t),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument;this._documents.has(e)||(this.listenTo(e,"selectionchange",()=>{this._handleSelectionChange(e)}),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(t){if(!this.isEnabled)return;this.mutationObserver.flush();const e=t.defaultView.getSelection(),n=this.domConverter.domSelectionToView(e);if(0!=n.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(e)||++this._loopbackCounter>60))if(this.selection.isSimilar(n))this.view.forceRender();else{const t={oldSelection:this.selection,newSelection:n,domSelection:e};this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Io extends wo{constructor(t){super(t),this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",()=>{e.isFocused=!0,this._renderTimeoutId=setTimeout(()=>t.forceRender(),50)}),e.on("blur",(n,r)=>{const o=e.selection.editableElement;null!==o&&o!==r.target||(e.isFocused=!1,t.forceRender())})}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Do extends wo{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",()=>{e.isComposing=!0}),e.on("compositionend",()=>{e.isComposing=!1})}onDomEvent(t){this.fire(t.type,t)}}class No extends wo{constructor(t){super(t),this.domEventType=["beforeinput"]}onDomEvent(t){this.fire(t.type,t)}}function Ro(t){return"[object Range]"==Object.prototype.toString.apply(t)}function jo(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const Lo=["top","right","bottom","left","width","height"];class Fo{constructor(t){const e=Ro(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),se(t)||e)Vo(this,e?Fo.getDomRangeRects(t)[0]:t.getBoundingClientRect());else if(Kr(t)){const{innerWidth:e,innerHeight:n}=t;Vo(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else Vo(this,t)}clone(){return new Fo(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new Fo(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!Bo(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!Bo(n);){const t=new Fo(n),r=e.getIntersection(t);if(!r)return null;r.getArea()<e.getArea()&&(e=r),n=n.parentNode}}return e}isEqual(t){for(const e of Lo)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n,r;if(Kr(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,r=t.getComputedStyle(t.document.documentElement).direction;else{const o=jo(this._source);e=t.offsetWidth-t.clientWidth-o.left-o.right,n=t.offsetHeight-t.clientHeight-o.top-o.bottom,r=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===r?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const r of n)e.push(new Fo(r));else{let n=t.startContainer;xr(n)&&(n=n.parentNode);const r=new Fo(n.getBoundingClientRect());r.right=r.left,r.width=0,e.push(r)}return e}}function Vo(t,e){for(const n of Lo)t[n]=e[n]}function Bo(t){return!!se(t)&&t===t.ownerDocument.body}function zo({target:t,viewportOffset:e=0}){const n=Yo(t);let r=n,o=null;for(;r;){let i;i=Qo(r==n?t:o),Ho(i,()=>Zo(t,r));const s=Zo(t,r);if(Uo(r,s,e),r.parent!=r){if(o=r.frameElement,r=r.parent,!o)return}else r=null}}function Uo(t,e,n){const r=e.clone().moveBy(0,n),o=e.clone().moveBy(0,-n),i=new Fo(t).excludeScrollbarsAndBorders();if(![o,r].every(t=>i.contains(t))){let{scrollX:s,scrollY:a}=t;$o(o,i)?a-=i.top-e.top+n:qo(r,i)&&(a+=e.bottom-i.bottom+n),Wo(e,i)?s-=i.left-e.left+n:Go(e,i)&&(s+=e.right-i.right+n),t.scrollTo(s,a)}}function Ho(t,e){const n=Yo(t);let r,o;for(;t!=n.document.body;)o=e(),r=new Fo(t).excludeScrollbarsAndBorders(),r.contains(o)||($o(o,r)?t.scrollTop-=r.top-o.top:qo(o,r)&&(t.scrollTop+=o.bottom-r.bottom),Wo(o,r)?t.scrollLeft-=r.left-o.left:Go(o,r)&&(t.scrollLeft+=o.right-r.right)),t=t.parentNode}function qo(t,e){return t.bottom>e.bottom}function $o(t,e){return t.top<e.top}function Wo(t,e){return t.left<e.left}function Go(t,e){return t.right>e.right}function Yo(t){return Ro(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function Qo(t){if(Ro(t)){let e=t.commonAncestorContainer;return xr(e)&&(e=e.parentNode),e}return t.parentNode}function Zo(t,e){const n=Yo(t),r=new Fo(t);if(n===e)return r;{let t=n;for(;t!=e;){const e=new Fo(t.frameElement).excludeScrollbarsAndBorders();r.moveBy(e.left,e.top),t=t.parent}}return r}Object.assign({},{scrollViewportToShowTarget:zo,scrollAncestorsToShowTarget:function(t){Ho(Qo(t),()=>new Fo(t))}});class Ko{constructor(t){this.document=new Un(t),this.domConverter=new Gr(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Vr(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new pr(this.document),this.addObserver(mo),this.addObserver(Oo),this.addObserver(Io),this.addObserver(_o),this.addObserver(Mo),this.addObserver(Do),Jn&&this.addObserver(No),this.document.on("keydown",Or),function(t){t.document.on("keydown",(e,n)=>function(t,e,n){if(e.keyCode==er.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),r=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(r||e.shiftKey){const e=n.domPositionToView(t.focusNode,t.focusOffset);if(null===e)return;let o=!1;const i=e.getLastMatchingPosition(t=>(t.item.is("uiElement")&&(o=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"))));if(o){const e=n.viewPositionToDom(i);r?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}}(0,n,t.domConverter))}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const r={};for(const{name:i,value:s}of Array.from(t.attributes))r[i]=s,"class"===i?this._writer.addClass(s.split(" "),n):this._writer.setAttribute(i,s,n);this._initialDomRootAttributes.set(t,r);const o=()=>{this._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};o(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",(t,e)=>this._renderer.markToSync("children",e)),n.on("change:attributes",(t,e)=>this._renderer.markToSync("attributes",e)),n.on("change:text",(t,e)=>this._renderer.markToSync("text",e)),n.on("change:isReadOnly",()=>this.change(o)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const i of this._observers.values())i.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach(({name:t})=>e.removeAttribute(t));const n=this._initialDomRootAttributes.get(e);for(const r in n)e.setAttribute(r,n[r]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[n,r]of this.domRoots)e.observe(r,n);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&zo({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new pe.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(t){pe.b.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return jn._createAt(t,e)}createPositionAfter(t){return jn._createAfter(t)}createPositionBefore(t){return jn._createBefore(t)}createRange(t,e){return new Ln(t,e)}createRangeOn(t){return Ln._createOn(t)}createRangeIn(t){return Ln._createIn(t)}createSelection(t,e,n){return new Bn(t,e,n)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}Ae(Ko,En);class Jo{constructor(t){this.parent=null,this._attrs=Le(t)}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new pe.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new pe.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),r=t.getAncestors(e);let o=0;for(;n[o]==r[o]&&n[o];)o++;return 0===o?null:n[o-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),r=Ie(e,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return e[r]<n[r]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((t,e)=>(t[e[0]]=e[1],t),{})),t}is(t){return"node"===t||"model:node"===t}_clone(){return new Jo(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Le(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}class Xo extends Jo{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return"$text"===t||"model:$text"===t||"text"===t||"model:text"===t||"node"===t||"model:node"===t}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new Xo(this.data,this.getAttributes())}static fromJSON(t){return new Xo(t.data,t.attributes)}}class ti{constructor(t,e,n){if(this.textNode=t,e<0||e>t.offsetSize)throw new pe.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||e+n>t.offsetSize)throw new pe.b("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(t){return"$textProxy"===t||"model:$textProxy"===t||"textProxy"===t||"model:textProxy"===t}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class ei{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce((t,e)=>t+e.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new pe.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new pe.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const n of e)if(!(n instanceof Jo))throw new pe.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this);this._nodes.splice(t,0,...e)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class ni extends Jo{constructor(t,e,n){super(e),this.name=t,this._children=new ei,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(t,e=null){return e?e===this.name&&("element"===t||"model:element"===t):"element"===t||"model:element"===t||"node"===t||"model:node"===t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}findAncestor(t,e={includeSelf:!1}){let n=e.includeSelf?this:this.parent;for(;n;){if(n.name===t)return n;n=n.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map(t=>t._clone(!0)):null;return new ni(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new Xo(t)]:(xe(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new Xo(t):t instanceof ti?new Xo(t.data,t.getAttributes()):t))}(e);for(const r of n)null!==r.parent&&r._remove(),r.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const r of n)r.parent=null;return n}static fromJSON(t){let e=null;if(t.children){e=[];for(const n of t.children)e.push(n.name?ni.fromJSON(n):Xo.fromJSON(n))}return new ni(t.name,t.attributes,e)}}class ri{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new pe.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new pe.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,this.position=t.startPosition?t.startPosition.clone():ii._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,r,o;do{r=this.position,o=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=r,this._visitedParent=o)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};const r=e.parent,o=si(e,r),i=o||ai(e,r,o);if(i instanceof ni)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=i),this.position=e,oi("elementStart",i,t,e,1);if(i instanceof Xo){let r;if(this.singleCharacters)r=1;else{let t=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),r=t-e.offset}const o=new ti(i,e.offset-i.startOffset,r);return e.offset+=r,this.position=e,oi("text",o,t,e,r)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():oi("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};const r=e.parent,o=si(e,r),i=o||ci(e,r,o);if(i instanceof ni)return e.offset--,this.shallow?(this.position=e,oi("elementStart",i,t,e,1)):(e.path.push(i.maxOffset),this.position=e,this._visitedParent=i,this.ignoreElementEnd?this._previous():oi("elementEnd",i,t,e));if(i instanceof Xo){let r;if(this.singleCharacters)r=1;else{let t=i.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),r=e.offset-t}const o=new ti(i,e.offset-i.startOffset-r,r);return e.offset-=r,this.position=e,oi("text",o,t,e,r)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,oi("elementStart",n,t,e,1)}}function oi(t,e,n,r,o){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:o}}}class ii{constructor(t,e,n="toNone"){if(!t.is("element")&&!t.is("documentFragment"))throw new pe.b("model-position-root-invalid: Position root invalid.",t);if(!(e instanceof Array)||0===e.length)throw new pe.b("model-position-path-incorrect-format: Position path must be an array with at least one item.",t,{path:e});t.is("rootElement")?e=e.slice():(e=[...t.getPath(),...e],t=t.root),this.root=t,this.path=e,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new pe.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(t.is("$text"))throw new pe.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return si(this,this.parent)}get nodeAfter(){const t=this.parent;return ai(this,t,si(this,t))}get nodeBefore(){const t=this.parent;return ci(this,t,si(this,t))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=Ie(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new ri(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const e=Ie(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let r=0;for(;e[r]==n[r]&&e[r];)r++;return 0===r?null:e[r-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){let e=null,n=null;switch(this.compareWith(t)){case"same":return!0;case"before":e=ii._createAt(this),n=ii._createAt(t);break;case"after":e=ii._createAt(t),n=ii._createAt(this);break;default:return!1}let r=e.parent;for(;e.path.length+n.path.length;){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==r.maxOffset)return!1;e.path=e.path.slice(0,-1),r=r.parent,e.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}is(t){return"position"===t||"model:position"===t}hasSameParentAs(t){return this.root===t.root&&"same"==Ie(this.getParentPath(),t.getParentPath())}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=ii._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?ii._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=ii._createAt(this);if(this.root!=t.root)return n;if("same"==Ie(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==Ie(t.getParentPath(),this.getParentPath())){const r=t.path.length-1;if(t.offset<=this.path[r]){if(t.offset+e>this.path[r])return null;n.path[r]-=e}}return n}_getTransformedByInsertion(t,e){const n=ii._createAt(this);if(this.root!=t.root)return n;if("same"==Ie(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==Ie(t.getParentPath(),this.getParentPath())){const r=t.path.length-1;t.offset<=this.path[r]&&(n.path[r]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return ii._createAt(this);const r=this._getTransformedByDeletion(t,n);return null===r||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):r._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,r=ii._createAt(e);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[n]-t.offset,r.path=[...r.path,...this.path.slice(n+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof ii)return new ii(t.root,t.path,t.stickiness);{const r=t;if("end"==e)e=r.maxOffset;else{if("before"==e)return this._createBefore(r,n);if("after"==e)return this._createAfter(r,n);if(0!==e&&!e)throw new pe.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,t])}if(!r.is("element")&&!r.is("documentFragment"))throw new pe.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,t]);const o=r.getPath();return o.push(e),new this(r.root,o,n)}}static _createAfter(t,e){if(!t.parent)throw new pe.b("model-position-after-root: You cannot make a position after root.",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new pe.b("model-position-before-root: You cannot make a position before root.",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const n=new ii(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new pe.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",e,{rootName:t.root});return new ii(e.getRoot(t.root),t.path,t.stickiness)}}function si(t,e){const n=e.getChild(e.offsetToIndex(t.offset));return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function ai(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset))}function ci(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset)-1)}class li{constructor(t,e=null){this.start=ii._createAt(t),this.end=ii._createAt(e||t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new ri({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==Ie(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),r=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&r}containsItem(t){const e=ii._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}is(t){return"range"===t||"model:range"===t}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new li(this.start,t.start)),this.containsPosition(t.end)&&e.push(new li(t.end,this.end))):e.push(new li(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new li(e,n)}return null}getJoined(t,e=!1){let n=this.isIntersecting(t);if(n||(n=this.start.isBefore(t.start)?e?this.end.isTouching(t.start):this.end.isEqual(t.start):e?t.end.isTouching(this.start):t.end.isEqual(this.start)),!n)return null;let r=this.start,o=this.end;return t.start.isBefore(r)&&(r=t.start),t.end.isAfter(o)&&(o=t.end),new li(r,o)}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=ii._createAt(this.start);let r=n.parent;for(;n.path.length>e+1;){const e=r.maxOffset-n.offset;0!==e&&t.push(new li(n,n.getShiftedBy(e))),n.path=n.path.slice(0,-1),n.offset++,r=r.parent}for(;n.path.length<=this.end.path.length;){const e=this.end.path[n.path.length-1],r=e-n.offset;0!==r&&t.push(new li(n,n.getShiftedBy(r))),n.offset=e,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new ri(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new ri(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new ri(t);yield e.position;for(const n of e)yield n.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new li(this.start,this.end)]}getTransformedByOperations(t){const e=[new li(this.start,this.end)];for(const n of t)for(let t=0;t<e.length;t++){const r=e[t].getTransformedByOperation(n);e.splice(t,1,...r),t+=r.length-1}for(let n=0;n<e.length;n++){const t=e[n];for(let r=n+1;r<e.length;r++){const n=e[r];(t.containsRange(n)||n.containsRange(t)||t.isEqual(n))&&e.splice(r,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new li(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new li(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=ii._createAt(n),e.offset=0):(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new li(e,n)):new li(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new li(this.start,t),new li(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const n=new li(this.start,this.end);return n.start=n.start._getTransformedByInsertion(t,e),n.end=n.end._getTransformedByInsertion(t,e),[n]}}_getTransformedByMove(t,e,n,r=!1){if(this.isCollapsed){const r=this.start._getTransformedByMove(t,e,n);return[new li(r)]}const o=li._createFromPositionAndShift(t,n),i=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!r&&(o.containsPosition(this.start)||o.containsPosition(this.end))){const r=this.start._getTransformedByMove(t,e,n),o=this.end._getTransformedByMove(t,e,n);return[new li(r,o)]}let s;const a=this.getDifference(o);let c=null;const l=this.getIntersection(o);if(1==a.length?c=new li(a[0].start._getTransformedByDeletion(t,n),a[0].end._getTransformedByDeletion(t,n)):2==a.length&&(c=new li(this.start,this.end._getTransformedByDeletion(t,n))),s=c?c._getTransformedByInsertion(i,n,null!==l||r):[],l){const t=new li(l.start._getCombined(o.start,i),l.end._getCombined(o.start,i));2==s.length?s.splice(1,0,t):s.push(t)}return s}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),r=this.end._getTransformedByDeletion(t,e);return null==n&&null==r?null:(null==n&&(n=t),null==r&&(r=t),new li(n,r))}static _createFromPositionAndShift(t,e){const n=t,r=t.getShiftedBy(e);return e>0?new this(n,r):new this(r,n)}static _createIn(t){return new this(ii._createAt(t,0),ii._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(ii._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(0===t.length)throw new pe.b("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(1==t.length)return t[0].clone();const e=t[0];t.sort((t,e)=>t.start.isAfter(e.start)?1:-1);const n=t.indexOf(e),r=new this(e.start,e.end);if(n>0)for(let o=n-1;t[o].end.isEqual(r.start);o++)r.start=ii._createAt(t[o].start);for(let o=n+1;o<t.length&&t[o].start.isEqual(r.end);o++)r.end=ii._createAt(t[o].end);return r}static fromJSON(t,e){return new this(ii.fromJSON(t.start,e),ii.fromJSON(t.end,e))}}class ui{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=this.findPositionIn(n,e.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),r=this._viewToModelMapping.get(n),o=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=ii._createAt(r,o)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t){const e=this.toModelElement(t);if(this._viewToModelMapping.delete(t),this._elementToMarkerNames.has(t))for(const n of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(n);this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const r=this._elementToMarkerNames.get(t)||new Set;r.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,r)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));const r=this._elementToMarkerNames.get(t);r&&(r.delete(e),0==r.size&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new li(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new Ln(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={isPhantom:!1}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const r of e)if(r.is("attributeElement"))for(const t of r.getElementsWithSameId())n.add(t);else n.add(r);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("$text"))return e;let r=0;for(let o=0;o<e;o++)r+=this.getModelLength(t.getChild(o));return r}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}findPositionIn(t,e){let n,r=0,o=0,i=0;if(t.is("$text"))return new jn(t,e);for(;o<e;)n=t.getChild(i),r=this.getModelLength(n),o+=r,i++;return o==e?this._moveViewPositionToTextNode(new jn(t,i)):this.findPositionIn(n,e-(o-r))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof Re?new jn(e,e.data.length):n instanceof Re?new jn(n,0):t}}Ae(ui,be);class di{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=hi(e),t instanceof ti&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=hi(e),t instanceof ti&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=hi(e),t instanceof ti&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const r=n.get(e);return void 0===r?null:r}revert(t,e){e=hi(e),t instanceof ti&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const r=n.get(t.endOffset);r&&(e=r.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}_addSymbolForTextProxy(t,e,n){const r=Symbol("textProxySymbol");let o,i;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),i=o.get(e),i||(i=new Map,o.set(e,i)),i.set(n,r),r}}function hi(t){const e=t.split(":");return e.length>1?e[0]+":"+e[1]:e[0]}class fi{constructor(t){this.conversionApi=yn({dispatcher:this},t)}convertChanges(t,e,n){for(const r of t.getMarkersToRemove())this.convertMarkerRemove(r.name,r.range,n);for(const r of t.getChanges())"insert"==r.type?this.convertInsert(li._createFromPositionAndShift(r.position,r.length),n):"remove"==r.type?this.convertRemove(r.position,r.length,r.name,n):this.convertAttribute(r.range,r.attributeKey,r.attributeOldValue,r.attributeNewValue,n);for(const r of this.conversionApi.mapper.flushUnboundMarkerNames()){const t=e.get(r).getRange();this.convertMarkerRemove(r,t,n),this.convertMarkerAdd(r,t,n)}for(const r of t.getMarkersToAdd())this.convertMarkerAdd(r.name,r.range,n)}convertInsert(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);for(const n of t){const t=n.item,e={item:t,range:li._createFromPositionAndShift(n.previousPosition,n.length)};this._testAndFire("insert",e);for(const n of t.getAttributeKeys())e.attributeKey=n,e.attributeOldValue=null,e.attributeNewValue=t.getAttribute(n),this._testAndFire("attribute:"+n,e)}this._clearConversionApi()}convertRemove(t,e,n,r){this.conversionApi.writer=r,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}convertAttribute(t,e,n,r,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createConsumableForRange(t,"attribute:"+e);for(const i of t){const t={item:i.item,range:li._createFromPositionAndShift(i.previousPosition,i.length),attributeKey:e,attributeOldValue:n,attributeNewValue:r};this._testAndFire("attribute:"+e,t)}this._clearConversionApi()}convertSelection(t,e,n){const r=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,r),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){for(const e of r){const n=e.getRange();if(!pi(t.getFirstPosition(),e,this.conversionApi.mapper))continue;const r={item:t,markerName:e.name,markerRange:n};this.conversionApi.consumable.test(t,"addMarker:"+e.name)&&this.fire("addMarker:"+e.name,r,this.conversionApi)}for(const e of t.getAttributeKeys()){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.conversionApi.consumable.test(t,"attribute:"+n.attributeKey)&&this.fire("attribute:"+n.attributeKey+":$text",n,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(t,e,n){if(!e.root.document||"$graveyard"==e.root.rootName)return;this.conversionApi.writer=n;const r="addMarker:"+t,o=new di;if(o.add(e,r),this.conversionApi.consumable=o,this.fire(r,{markerName:t,markerRange:e},this.conversionApi),o.test(e,r)){this.conversionApi.consumable=this._createConsumableForRange(e,r);for(const n of e.getItems()){if(!this.conversionApi.consumable.test(n,r))continue;const o={item:n,range:li._createOn(n),markerName:t,markerRange:e};this.fire(r,o,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(t,e,n){e.root.document&&"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(t){const e=new di;for(const n of t){const t=n.item;e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}return e}_createConsumableForRange(t,e){const n=new di;for(const r of t.getItems())n.add(r,e);return n}_createSelectionConsumable(t,e){const n=new di;n.add(t,"selection");for(const r of e)n.add(t,"addMarker:"+r.name);for(const r of t.getAttributeKeys())n.add(t,"attribute:"+r);return n}_testAndFire(t,e){this.conversionApi.consumable.test(e.item,t)&&this.fire(t+":"+(e.item.name||"$text"),e,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}function pi(t,e,n){const r=e.getRange(),o=Array.from(t.getAncestors());return o.shift(),o.reverse(),!o.some(t=>{if(r.containsItem(t))return!!n.toViewElement(t).getCustomProperty("addHighlight")})}Ae(fi,be);class gi{constructor(t,e,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,e,n)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const r of t._ranges)if(e.isEqual(r)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new li(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new li(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new li(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(t,e,n){if(null===t)this._setRanges([]);else if(t instanceof gi)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof li)this._setRanges([t],!!e&&!!e.backward);else if(t instanceof ii)this._setRanges([new li(t)]);else if(t instanceof Jo){const r=!!n&&!!n.backward;let o;if("in"==e)o=li._createIn(t);else if("on"==e)o=li._createOn(t);else{if(void 0===e)throw new pe.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,t]);o=new li(ii._createAt(t,e))}this._setRanges([o],r)}else{if(!xe(t))throw new pe.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,t]);this._setRanges(t,e&&!!e.backward)}}_setRanges(t,e=!1){const n=(t=Array.from(t)).some(e=>{if(!(e instanceof li))throw new pe.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[this,t]);return this._ranges.every(t=>!t.isEqual(e))});if(t.length!==this._ranges.length||n){this._removeAllRanges();for(const e of t)this._pushRange(e);this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0})}}setFocus(t,e){if(null===this.anchor)throw new pe.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,t]);const n=ii._createAt(t,e);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?(this._pushRange(new li(n,r)),this._lastRangeBackward=!0):(this._pushRange(new li(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}is(t){return"selection"===t||"model:selection"===t}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=wi(e.start,t);n&&_i(n,e)&&(yield n);for(const o of e.getWalker()){const n=o.item;"elementEnd"==o.type&&bi(n,t,e)&&(yield n)}const r=wi(e.end,t);r&&!e.end.isTouching(ii._createAt(r,0))&&_i(r,e)&&(yield r)}}containsEntireContent(t=this.anchor.root){const e=ii._createAt(t,0),n=ii._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new li(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new pe.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function mi(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&t.parent)}function bi(t,e,n){return mi(t,e)&&_i(t,n)}function wi(t,e){const n=t.parent.root.document.model.schema,r=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const i=r.find(t=>!o&&(o=n.isLimit(t),!o&&mi(t,e)));return r.forEach(t=>e.add(t)),i}function _i(t,e){const n=function(t){const e=t.root.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}(t);return!n||!e.containsRange(li._createOn(n),!0)}Ae(gi,be);class vi extends li{constructor(t,e){super(t,e),yi.call(this)}detach(){this.stopListening()}is(t){return"liveRange"===t||"model:liveRange"===t||"range"==t||"model:range"===t}toRange(){return new li(this.start,this.end)}static fromRange(t){return new vi(t.start,t.end)}}function yi(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&ki.call(this,n)},{priority:"low"})}function ki(t){const e=this.getTransformedByOperation(t),n=li._createFromRanges(e),r=!n.isEqual(this),o=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t);let i=null;if(r){"$graveyard"==n.root.rootName&&(i="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:i})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:i})}Ae(vi,be);class Ci{constructor(t){this._selection=new xi(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}is(t){return"selection"===t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return"selection:"+t}static _isStoreAttributeKey(t){return t.startsWith("selection:")}}Ae(Ci,be);class xi extends gi{constructor(t){super(),this.markers=new Ee({idProperty:"name"}),this._model=t.model,this._document=t,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.listenTo(this._model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{for(const t of this.getRanges())if(!this._document._validateSelectionRange(t))throw new pe.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",this,{range:t})}),this.listenTo(this._model.markers,"update",()=>this._updateMarkers()),this.listenTo(this._document,"change",(t,e)=>{!function(t,e){const n=t.document.differ;for(const r of n.getChanges()){if("insert"!=r.type)continue;const n=r.position.parent;r.length===n.maxOffset&&t.enqueueChange(e,t=>{const e=Array.from(n.getAttributeKeys()).filter(t=>t.startsWith("selection:"));for(const r of e)t.removeAttribute(r,n)})}}(this._model,e)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,e,n){super.setTo(t,e,n),this._updateAttributes(!0),this._updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this._updateMarkers()}setAttribute(t,e){this._setAttribute(t,e)&&this.fire("change:attribute",{attributeKeys:[t],directChange:!0})}removeAttribute(t){this._removeAttribute(t)&&this.fire("change:attribute",{attributeKeys:[t],directChange:!0})}overrideGravity(){const t=he();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new pe.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=vi.fromRange(t);return e.on("change:range",(t,n,r)=>{if(this._hasChangedRange=!0,e.root==this._document.graveyard){this._selectionRestorePosition=r.deletionPosition;const t=this._ranges.indexOf(e);this._ranges.splice(t,1),e.detach()}}),e}_updateMarkers(){const t=[];let e=!1;for(const r of this._model.markers){const e=r.getRange();for(const n of this.getRanges())e.containsRange(n,!n.isCollapsed)&&t.push(r)}const n=Array.from(this.markers);for(const r of t)this.markers.has(r)||(this.markers.add(r),e=!0);for(const r of Array.from(this.markers))t.includes(r)||(this.markers.remove(r),e=!0);e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateAttributes(t){const e=Le(this._getSurroundingAttributes()),n=Le(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[o,i]of this._attributePriority)"low"==i&&(this._attrs.delete(o),this._attributePriority.delete(o));this._setAttributesTo(e);const r=[];for(const[o,i]of this.getAttributes())n.has(o)&&n.get(o)===i||r.push(o);for(const[o]of n)this.hasAttribute(o)||r.push(o);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(t,e,n=!0){const r=n?"normal":"low";return("low"!=r||"normal"!=this._attributePriority.get(t))&&super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,r),!0)}_removeAttribute(t,e=!0){const n=e?"normal":"low";return!("low"==n&&"normal"==this._attributePriority.get(t)||(this._attributePriority.set(t,n),!super.hasAttribute(t)||(this._attrs.delete(t),0)))}_setAttributesTo(t){const e=new Set;for(const[n,r]of this.getAttributes())t.get(n)!==r&&this._removeAttribute(n,!1);for(const[n,r]of t)this._setAttribute(n,r,!1)&&e.add(n);return e}*_getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith("selection:")){const n=e.substr("selection:".length);yield[n,t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const e=t.textNode?t.textNode:t.nodeBefore,r=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=Ai(e)),n||(n=Ai(r)),!this.isGravityOverridden&&!n){let t=e;for(;t&&!n;)t=t.previousSibling,n=Ai(t)}if(!n){let t=r;for(;t&&!n;)t=t.nextSibling,n=Ai(t)}n||(n=this._getStoredAttributes())}else{const t=this.getFirstRange();for(const r of t){if(r.item.is("element")&&e.isObject(r.item))break;if("text"==r.type){n=r.item.getAttributes();break}}}return n}_fixGraveyardSelection(t){const e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}function Ai(t){return t instanceof ti||t instanceof Xo?t.getAttributes():null}class Ei{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}var Si=function(t){return oe(t,5)};class Ti extends Ei{elementToElement(t){return this.add(function(t){return(t=Si(t)).view=Oi(t.view,"container"),e=>{var n;e.on("insert:"+t.model,(n=t.view,(t,e,r)=>{const o=n(e.item,r.writer);if(!o)return;if(!r.consumable.consume(e.item,"insert"))return;const i=r.mapper.toViewPosition(e.range.start);r.mapper.bindElements(e.item,o),r.writer.insert(i,o)}),{priority:t.converterPriority||"normal"})}}(t))}attributeToElement(t){return this.add(function(t){let e="attribute:"+((t=Si(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values)for(const r of t.model.values)t.view[r]=Oi(t.view[r],"attribute");else t.view=Oi(t.view,"attribute");const n=Ii(t);return r=>{r.on(e,function(t){return(e,n,r)=>{const o=t(n.attributeOldValue,r.writer),i=t(n.attributeNewValue,r.writer);if(!o&&!i)return;if(!r.consumable.consume(n.item,e.name))return;const s=r.writer;if(n.item instanceof gi||n.item instanceof Ci)s.wrap(s.document.selection.getFirstRange(),i);else{let t=r.mapper.toViewRange(n.range);null!==n.attributeOldValue&&o&&(t=s.unwrap(t,o)),null!==n.attributeNewValue&&i&&s.wrap(t,i)}}}(n),{priority:t.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e="attribute:"+((t=Si(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values)for(const r of t.model.values)t.view[r]=Di(t.view[r]);else t.view=Di(t.view);const n=Ii(t);return r=>{var o;r.on(e,(o=n,(t,e,n)=>{const r=o(e.attributeOldValue,e),i=o(e.attributeNewValue,e);if(!r&&!i)return;if(!n.consumable.consume(e.item,t.name))return;const s=n.mapper.toViewElement(e.item),a=n.writer;if(!s)throw new pe.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[e,n]);if(null!==e.attributeOldValue&&r)if("class"==r.key){const t=Array.isArray(r.value)?r.value:[r.value];for(const e of t)a.removeClass(e,s)}else if("style"==r.key){const t=Object.keys(r.value);for(const e of t)a.removeStyle(e,s)}else a.removeAttribute(r.key,s);if(null!==e.attributeNewValue&&i)if("class"==i.key){const t=Array.isArray(i.value)?i.value:[i.value];for(const e of t)a.addClass(e,s)}else if("style"==i.key){const t=Object.keys(i.value);for(const e of t)a.setStyle(e,i.value[e],s)}else a.setAttribute(i.key,i.value,s)}),{priority:t.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(t){return(t=Si(t)).view=Oi(t.view,"ui"),e=>{var n;e.on("addMarker:"+t.model,(n=t.view,(t,e,r)=>{e.isOpening=!0;const o=n(e,r.writer);e.isOpening=!1;const i=n(e,r.writer);if(!o||!i)return;const s=e.markerRange;if(s.isCollapsed&&!r.consumable.consume(s,t.name))return;for(const n of s)if(!r.consumable.consume(n.item,t.name))return;const a=r.mapper,c=r.writer;c.insert(a.toViewPosition(s.start),o),r.mapper.bindElementToMarker(o,e.markerName),s.isCollapsed||(c.insert(a.toViewPosition(s.end),i),r.mapper.bindElementToMarker(i,e.markerName)),t.stop()}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(t,e,n)=>{const r=n.mapper.markerNameToElements(e.markerName);if(r){for(const t of r)n.mapper.unbindElementFromMarkerName(t,e.markerName),n.writer.clear(n.writer.createRangeOn(t),t);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}},{priority:t.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(t){return e=>{var n;e.on("addMarker:"+t.model,(n=t.view,(t,e,r)=>{if(!e.item)return;if(!(e.item instanceof gi||e.item instanceof Ci||e.item.is("$textProxy")))return;const o=Ni(n,e,r);if(!o)return;if(!r.consumable.consume(e.item,t.name))return;const i=r.writer,s=Pi(i,o),a=i.document.selection;if(e.item instanceof gi||e.item instanceof Ci)i.wrap(a.getFirstRange(),s,a);else{const t=r.mapper.toViewRange(e.range),n=i.wrap(t,s);for(const o of n.getItems())if(o.is("attributeElement")&&o.isSimilar(s)){r.mapper.bindElementToMarker(o,e.markerName);break}}}),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,function(t){return(e,n,r)=>{if(!n.item)return;if(!(n.item instanceof ni))return;const o=Ni(t,n,r);if(!o)return;if(!r.consumable.test(n.item,e.name))return;const i=r.mapper.toViewElement(n.item);if(i&&i.getCustomProperty("addHighlight")){r.consumable.consume(n.item,e.name);for(const t of li._createIn(n.item))r.consumable.consume(t.item,e.name);i.getCustomProperty("addHighlight")(i,o,r.writer),r.mapper.bindElementToMarker(i,n.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,function(t){return(e,n,r)=>{if(n.markerRange.isCollapsed)return;const o=Ni(t,n,r);if(!o)return;const i=Pi(r.writer,o),s=r.mapper.markerNameToElements(n.markerName);if(s){for(const t of s)r.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(t),i):t.getCustomProperty("removeHighlight")(t,o.id,r.writer);r.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(t){const e=(t=Si(t)).model;return t.view||(t.view=n=>({group:e,name:n.substr(t.model.length+1)})),n=>{var r;n.on("addMarker:"+e,(r=t.view,(t,e,n)=>{const o=r(e.markerName);if(!o)return;const i=e.markerRange;n.consumable.consume(i,t.name)&&(Mi(i,!1,n,e,o),Mi(i,!0,n,e,o),t.stop())}),{priority:t.converterPriority||"normal"}),n.on("removeMarker:"+e,function(t){return(e,n,r)=>{const o=t(n.markerName);if(!o)return;const i=r.mapper.markerNameToElements(n.markerName);if(i){for(const t of i)r.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("containerElement")?(s(`data-${o.group}-start-before`,t),s(`data-${o.group}-start-after`,t),s(`data-${o.group}-end-before`,t),s(`data-${o.group}-end-after`,t)):r.writer.clear(r.writer.createRangeOn(t),t);r.writer.clearClonedElementsGroup(n.markerName),e.stop()}function s(t,e){if(e.hasAttribute(t)){const n=new Set(e.getAttribute(t).split(","));n.delete(o.name),0==n.size?r.writer.removeAttribute(t,e):r.writer.setAttribute(t,Array.from(n).join(","),e)}}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}}function Pi(t,e){const n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),e.priority&&(n._priority=e.priority),n._id=e.id,n}function Mi(t,e,n,r,o){const i=e?t.start:t.end;if(n.schema.checkChild(i,"$text"))!function(t,e,n,r,o){const i=n.writer.createUIElement(`${o.group}-${e?"start":"end"}`,o.name?{name:o.name}:null);n.writer.insert(t,i),n.mapper.bindElementToMarker(i,r.markerName)}(n.mapper.toViewPosition(i),e,n,r,o);else{let t,s;e&&i.nodeAfter||!e&&!i.nodeBefore?(t=i.nodeAfter,s=!0):(t=i.nodeBefore,s=!1),function(t,e,n,r,o,i){const s=`data-${i.group}-${e?"start":"end"}-${n?"before":"after"}`,a=t.hasAttribute(s)?t.getAttribute(s).split(","):[];a.unshift(i.name),r.writer.setAttribute(s,a.join(","),t),r.mapper.bindElementToMarker(t,o.markerName)}(n.mapper.toViewElement(t),e,s,n,r,o)}}function Oi(t,e){return"function"==typeof t?t:(n,r)=>function(t,e,n){let r;"string"==typeof t&&(t={name:t});const o=Object.assign({},t.attributes);if(r="container"==n?e.createContainerElement(t.name,o):"attribute"==n?e.createAttributeElement(t.name,o,{priority:t.priority||Hn.DEFAULT_PRIORITY}):e.createUIElement(t.name,o),t.styles){const n=Object.keys(t.styles);for(const o of n)e.setStyle(o,t.styles[o],r)}if(t.classes){const n=t.classes;if("string"==typeof n)e.addClass(n,r);else for(const t of n)e.addClass(t,r)}return r}(t,r,e)}function Ii(t){return t.model.values?(e,n)=>{const r=t.view[e];return r?r(e,n):null}:t.view}function Di(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function Ni(t,e,n){const r="function"==typeof t?t(e,n):t;return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}class Ri extends Ei{elementToElement(t){return this.add(ji(t))}elementToAttribute(t){return this.add(function(t){Vi(t=Si(t));const e=Bi(t,!1),n=Li(t.view),r=n?"element:"+n:"element";return n=>{n.on(r,e,{priority:t.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e=null;("string"==typeof(t=Si(t)).view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key;let n;return n="class"==e||"style"==e?{["class"==e?"classes":"styles"]:t.view.value}:{attributes:{[e]:void 0===t.view.value?/[\s\S]*/:t.view.value}},t.view.name&&(n.name=t.view.name),t.view=n,e}(t)),Vi(t,e);const n=Bi(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}(t))}elementToMarker(t){return console.warn(Object(pe.a)("upcast-helpers-element-to-marker-deprecated: The UpcastHelpers#elementToMarker() method has been deprecated and will be removed in the near future. Please use UpcastHelpers#dataToMarker() instead.")),this.add(function(t){return function(t){const e=t.model;t.model=(t,n)=>{const r="string"==typeof e?e:e(t);return n.createElement("$marker",{"data-name":r})}}(t=Si(t)),ji(t)}(t))}dataToMarker(t){return this.add(function(t){(t=Si(t)).model||(t.model=e=>e?t.view+":"+e:t.view);const e=Fi(zi(t,"start")),n=Fi(zi(t,"end"));return r=>{r.on("element:"+t.view+"-start",e,{priority:t.converterPriority||"normal"}),r.on("element:"+t.view+"-end",n,{priority:t.converterPriority||"normal"});const o=fe.get("low"),i=fe.get("highest"),s=fe.get(t.converterPriority)/i;r.on("element",function(t){return(e,n,r)=>{const o="data-"+t.view;function i(e,o){for(const i of o){const o=t.model(i),s=r.writer.createElement("$marker",{"data-name":o});r.writer.insert(s,e),n.modelCursor=n.modelCursor.isEqual(e)?n.modelCursor.getShiftedBy(1):n.modelCursor._getTransformedByInsertion(e,1),n.modelRange=n.modelRange._getTransformedByInsertion(e,1)[0]}}n.modelRange||(n=Object.assign(n,r.convertChildren(n.viewItem,n.modelCursor))),r.consumable.consume(n.viewItem,{attributes:o+"-end-after"})&&i(n.modelRange.end,n.viewItem.getAttribute(o+"-end-after").split(",")),r.consumable.consume(n.viewItem,{attributes:o+"-start-after"})&&i(n.modelRange.end,n.viewItem.getAttribute(o+"-start-after").split(",")),r.consumable.consume(n.viewItem,{attributes:o+"-end-before"})&&i(n.modelRange.start,n.viewItem.getAttribute(o+"-end-before").split(",")),r.consumable.consume(n.viewItem,{attributes:o+"-start-before"})&&i(n.modelRange.start,n.viewItem.getAttribute(o+"-start-before").split(","))}}(t),{priority:o+s})}}(t))}}function ji(t){const e=Fi(t=Si(t)),n=Li(t.view),r=n?"element:"+n:"element";return n=>{n.on(r,e,{priority:t.converterPriority||"normal"})}}function Li(t){return"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null}function Fi(t){const e=t.view?new Fe(t.view):null;return(n,r,o)=>{let i={};if(e){const t=e.match(r.viewItem);if(!t)return;i=t.match}i.name=!0;const s=(c=o.writer,(a=t.model)instanceof Function?a(r.viewItem,c):c.createElement(a));var a,c;if(!s)return;if(!o.consumable.test(r.viewItem,i))return;const l=o.splitToAllowedParent(s,r.modelCursor);if(!l)return;o.writer.insert(s,l.position),o.convertChildren(r.viewItem,o.writer.createPositionAt(s,0)),o.consumable.consume(r.viewItem,i);const u=o.getSplitParts(s);r.modelRange=new li(o.writer.createPositionBefore(s),o.writer.createPositionAfter(u[u.length-1])),r.modelCursor=l.cursorParent?o.writer.createPositionAt(l.cursorParent,0):r.modelRange.end}}function Vi(t,e=null){const n=null===e||(t=>t.getAttribute(e));t.model={key:"object"!=typeof t.model?t.model:t.model.key,value:"object"!=typeof t.model||void 0===t.model.value?n:t.model.value}}function Bi(t,e){const n=new Fe(t.view);return(r,o,i)=>{const s=n.match(o.viewItem);if(!s)return;const a=t.model.key,c="function"==typeof t.model.value?t.model.value(o.viewItem):t.model.value;null!==c&&(function(t,e){const n="function"==typeof t?t(e):t;return!("object"==typeof n&&!Li(n)||n.classes||n.attributes||n.styles)}(t.view,o.viewItem)?s.match.name=!0:delete s.match.name,i.consumable.test(o.viewItem,s.match)&&(o.modelRange||(o=Object.assign(o,i.convertChildren(o.viewItem,o.modelCursor))),function(t,e,n,r){let o=!1;for(const i of Array.from(t.getItems({shallow:n})))r.schema.checkAttribute(i,e.key)&&(r.writer.setAttribute(e.key,e.value,i),o=!0);return o}(o.modelRange,{key:a,value:c},e,i)&&i.consumable.consume(o.viewItem,s.match)))}}function zi(t,e){const n={};return n.view=t.view+"-"+e,n.model=(e,n)=>{const r=e.getAttribute("name"),o=t.model(r);return n.createElement("$marker",{"data-name":o})},n}class Ui{constructor(t,e){this.model=t,this.view=new Ko(e),this.mapper=new ui,this.downcastDispatcher=new fi({mapper:this.mapper,schema:t.schema});const n=this.model.document,r=n.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(t=>{this.downcastDispatcher.convertChanges(n.differ,o,t),this.downcastDispatcher.convertSelection(r,o,t)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return(n,r)=>{const o=r.newSelection,i=new gi,s=[];for(const t of o.getRanges())s.push(e.toModelRange(t));i.setTo(s,{backward:o.isBackward}),i.isEqual(t.document.selection)||t.change(t=>{t.setSelection(i)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const r=n.writer,o=n.mapper.toViewPosition(e.range.start),i=r.createText(e.item.data);r.insert(o,i)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(t,e,n)=>{const r=n.mapper.toViewPosition(e.position),o=e.position.getShiftedBy(e.length),i=n.mapper.toViewPosition(o,{isPhantom:!0}),s=n.writer.createRange(r,i),a=n.writer.remove(s.getTrimmed());for(const c of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(c)},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const r=n.writer,o=r.document.selection;for(const i of o.getRanges())i.isCollapsed&&i.end.parent.isAttached()&&n.writer.mergeAttributes(i.start);r.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const r=e.selection;if(r.isCollapsed)return;if(!n.consumable.consume(r,"selection"))return;const o=[];for(const i of r.getRanges()){const t=n.mapper.toViewRange(i);o.push(t)}n.writer.setSelection(o,{backward:r.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const r=e.selection;if(!r.isCollapsed)return;if(!n.consumable.consume(r,"selection"))return;const o=n.writer,i=r.getFirstPosition(),s=n.mapper.toViewPosition(i),a=o.breakAttributes(s);o.setSelection(a)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(t=>{if("$graveyard"==t.rootName)return null;const e=new Nn(this.view.document,t.name);return e.rootName=t.rootName,this.mapper.bindElements(t,e),e})}destroy(){this.view.destroy(),this.stopListening()}}Ae(Ui,En);class Hi{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new pe.b("commandcollection-command-not-found: Command does not exist.",this,{commandName:t});return n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class qi{constructor(){this._consumables=new Map}add(t,e){let n;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new $i(t),this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const i of n)"style"!=i&&"class"!=i&&e.attributes.push(i);const r=t.getClassNames();for(const i of r)e.classes.push(i);const o=t.getStyleNames();for(const i of o)e.styles.push(i);return e}static createFrom(t,e){if(e||(e=new qi(t)),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,qi.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=qi.createFrom(n,e);return e}}class $i{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e in this._consumables)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e in this._consumables)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._revert(e,t[e])}_add(t,e){const n=et(e)?e:[e],r=this._consumables[t];for(const o of n){if("attributes"===t&&("class"===o||"style"===o))throw new pe.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);if(r.set(o,!0),"styles"===t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(o))r.set(t,!0)}}_test(t,e){const n=et(e)?e:[e],r=this._consumables[t];for(const o of n)if("attributes"!==t||"class"!==o&&"style"!==o){const t=r.get(o);if(void 0===t)return null;if(!t)return!1}else{const t="class"==o?"classes":"styles",e=this._test(t,[...this._consumables[t].keys()]);if(!0!==e)return e}return!0}_consume(t,e){const n=et(e)?e:[e],r=this._consumables[t];for(const o of n)if("attributes"!==t||"class"!==o&&"style"!==o){if(r.set(o,!1),"styles"==t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(o))r.set(t,!1)}else{const t="class"==o?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=et(e)?e:[e],r=this._consumables[t];for(const o of n)if("attributes"!==t||"class"!==o&&"style"!==o)!1===r.get(o)&&r.set(o,!0);else{const t="class"==o?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}class Wi{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,e)=>{e[0]=new Gi(e[0])},{priority:"highest"}),this.on("checkChild",(t,e)=>{e[0]=new Gi(e[0]),e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new pe.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new pe.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:t.is&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!(!e||!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!(!e||!e.isObject)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e=null){if(t instanceof ii){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof ni))throw new pe.b("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(n instanceof ni))throw new pe.b("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(e,n)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",(e,[n,r])=>{if(!r)return;const o=t(n,r);"boolean"==typeof o&&(e.stop(),e.return=o)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(e,[n,r])=>{const o=t(n,r);"boolean"==typeof o&&(e.stop(),e.return=o)},{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;for(e=t instanceof ii?t.parent:(t instanceof li?[t]:Array.from(t.getRanges())).reduce((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n},null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new Xo("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(t){for(const e of t)yield*e.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new li(t);let n,r;const o=t.getAncestors().reverse().find(t=>this.isLimit(t))||t.root;"both"!=e&&"backward"!=e||(n=new ri({boundaries:li._createIn(o),startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(r=new ri({boundaries:li._createIn(o),startPosition:t}));for(const i of function*(t,e){let n=!1;for(;!n;){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}(n,r)){const t=i.value;if(t.type==(i.walker==n?"elementEnd":"elementStart")&&this.isObject(t.item))return li._createOn(t.item);if(this.checkChild(t.nextPosition,"$text"))return new li(t.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("$text"))os(this,n,e);else{const t=li._createIn(n).getPositions();for(const n of t)os(this,n.nodeBefore||n.parent,e)}}createContext(t){return new Gi(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const r of n)t[r]=Yi(e[r],r);for(const r of n)Qi(t,r);for(const r of n)Zi(t,r);for(const r of n)Ki(t,r),Ji(t,r);for(const r of n)Xi(t,r),ts(t,r);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const r=e.getItem(n);if(t.allowIn.includes(r.name)){if(0==n)return!0;{const t=this.getDefinition(r);return this._checkContextMatch(t,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,r=t.start;for(const o of t.getItems({shallow:!0}))o.is("element")&&(yield*this._getValidRangesForRange(li._createIn(o),e)),this.checkAttribute(o,e)||(n.isEqual(r)||(yield new li(n,r)),n=ii._createAfter(o)),r=ii._createAfter(o);n.isEqual(r)||(yield new li(n,r))}}Ae(Wi,En);class Gi{constructor(t){if(t instanceof Gi)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&"string"!=typeof t[0]&&t[0].is("documentFragment")&&t.shift(),this._items=t.map(rs)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new Gi([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function Yi(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(t,e){for(const n of t){const t=Object.keys(n).filter(t=>t.startsWith("is"));for(const r of t)e[r]=n[r]}}(t,n),es(t,n,"allowIn"),es(t,n,"allowContentOf"),es(t,n,"allowWhere"),es(t,n,"allowAttributes"),es(t,n,"allowAttributesOf"),es(t,n,"inheritTypesFrom"),function(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}(t,n),n}function Qi(t,e){for(const n of t[e].allowContentOf)t[n]&&ns(t,n).forEach(t=>{t.allowIn.push(e)});delete t[e].allowContentOf}function Zi(t,e){for(const n of t[e].allowWhere){const r=t[n];r&&t[e].allowIn.push(...r.allowIn)}delete t[e].allowWhere}function Ki(t,e){for(const n of t[e].allowAttributesOf){const r=t[n];r&&t[e].allowAttributes.push(...r.allowAttributes)}delete t[e].allowAttributesOf}function Ji(t,e){const n=t[e];for(const r of n.inheritTypesFrom){const e=t[r];if(e){const t=Object.keys(e).filter(t=>t.startsWith("is"));for(const r of t)r in n||(n[r]=e[r])}}delete n.inheritTypesFrom}function Xi(t,e){const n=t[e],r=n.allowIn.filter(e=>t[e]);n.allowIn=Array.from(new Set(r))}function ts(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function es(t,e,n){for(const r of t)"string"==typeof r[n]?e[n].push(r[n]):Array.isArray(r[n])&&e[n].push(...r[n])}function ns(t,e){const n=t[e];return(r=t,Object.keys(r).map(t=>r[t])).filter(t=>t.allowIn.includes(n.name));var r}function rs(t){return"string"==typeof t?{name:t,*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}function os(t,e,n){for(const r of e.getAttributeKeys())t.checkAttribute(e,r)||n.removeAttribute(r,e)}class is{constructor(t={}){this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(t,e){let n;for(const r of new Gi(t)){const t={};for(const e of r.getAttributeKeys())t[e]=r.getAttribute(e);const o=e.createElement(r.name,t);n&&e.append(o,n),n=ii._createAt(o,0)}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=qi.createFrom(t),this.conversionApi.store={};const{modelRange:r}=this._convertItem(t,this._modelCursor),o=e.createDocumentFragment();if(r){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,o);o.markers=function(t,e){const n=new Set,r=new Map,o=li._createIn(t).getItems();for(const i of o)"$marker"==i.name&&n.add(i);for(const i of n){const t=i.getAttribute("data-name"),n=e.createPositionBefore(i);r.has(t)?r.get(t).end=n.clone():r.set(t,new li(n.clone())),e.remove(i)}return r}(o,e)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}_convertItem(t,e){const n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof li))throw new pe.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){const n=new li(e);let r=e;for(const o of Array.from(t.getChildren())){const t=this._convertItem(o,r);t.modelRange instanceof li&&(n.end=t.modelRange.end,r=t.modelCursor)}return{modelRange:n,modelCursor:r}}_splitToAllowedParent(t,e){const n=this.conversionApi.schema.findAllowedParent(e,t);if(!n)return null;if(n===e.parent)return{position:e};if(this._modelCursor.parent.getAncestors().includes(n))return null;const r=this.conversionApi.writer.split(e,n),o=[];for(const i of r.range.getWalker())if("elementEnd"==i.type)o.push(i.item);else{const t=o.pop();this._registerSplitPair(t,i.item)}return{position:r.position,cursorParent:r.range.end.parent}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}Ae(is,be);class ss{constructor(t,e){this.model=t,this.stylesProcessor=e,this.mapper=new ui,this.downcastDispatcher=new fi({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const r=n.writer,o=n.mapper.toViewPosition(e.range.start),i=r.createText(e.item.data);r.insert(o,i)},{priority:"lowest"}),this.upcastDispatcher=new is({schema:t.schema}),this.viewDocument=new Un(e),this._viewWriter=new pr(this.viewDocument),this.upcastDispatcher.on("text",(t,e,n)=>{if(n.schema.checkChild(e.modelCursor,"$text")&&n.consumable.consume(e.viewItem)){const t=n.writer.createText(e.viewItem.data);n.writer.insert(t,e.modelCursor),e.modelRange=li._createFromPositionAndShift(e.modelCursor,t.offsetSize),e.modelCursor=e.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:r}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=r}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:r}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=r}},{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"})}get(t){const{rootName:e="main",trim:n="empty"}=t||{};if(!this._checkIfRootsExists([e]))throw new pe.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);const r=this.model.document.getRoot(e);return"empty"!==n||this.model.hasContent(r,{ignoreWhitespaces:!0})?this.stringify(r):""}stringify(t){const e=this.toView(t);return this.processor.toData(e)}toView(t){const e=this.viewDocument,n=this._viewWriter;this.mapper.clearBindings();const r=li._createIn(t),o=new fr(e);if(this.mapper.bindElements(t,o),this.downcastDispatcher.convertInsert(r,n),!t.is("documentFragment")){const e=function(t){const e=[],n=t.root.document;if(!n)return[];const r=li._createIn(t);for(const o of n.model.markers){const t=r.getIntersection(o.getRange());t&&e.push([o.name,t])}return e}(t);for(const[t,r]of e)this.downcastDispatcher.convertMarkerAdd(t,r,n)}return o}init(t){if(this.model.document.version)throw new pe.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new pe.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",t=>{for(const n of Object.keys(e)){const r=this.model.document.getRoot(n);t.insert(this.parse(e[n],r),r,0)}}),Promise.resolve()}set(t){let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new pe.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",t=>{t.setSelection(null),t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const n of Object.keys(e)){const r=this.model.document.getRoot(n);t.remove(t.createRangeIn(r)),t.insert(this.parse(e[n],r),r,0)}})}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change(n=>this.upcastDispatcher.convert(t,n,e))}addStyleProcessorRules(t){t(this.stylesProcessor)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRootNames().includes(e))return!1;return!0}}Ae(ss,En);class as{constructor(t,e){this._helpers=new Map,this._downcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new pe.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new pe.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of cs(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of cs(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of cs(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new pe.b("conversion-group-exists: Trying to register a group name that has already been registered.",this);const r=n?new Ti(e):new Ri(e);this._helpers.set(t,r)}}function*cs(t){if(t.model.values)for(const e of t.model.values){const n={key:t.model.key,value:e},r=t.view[e],o=t.upcastAlso?t.upcastAlso[e]:void 0;yield*ls(n,r,o)}else yield*ls(t.model,t.view,t.upcastAlso)}function*ls(t,e,n){if(yield{model:t,view:e},n){n=Array.isArray(n)?n:[n];for(const e of n)yield{model:t,view:e}}}class us{constructor(t="default"){this.operations=[],this.type=t}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class ds{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t){return new this(t.baseVersion)}}class hs{constructor(t){this.markers=new Map,this._children=new ei,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"===t||"model:documentFragment"===t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)e.push(n.name?ni.fromJSON(n):Xo.fromJSON(n));return new hs(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new Xo(t)]:(xe(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new Xo(t):t instanceof ti?new Xo(t.data,t.getAttributes()):t))}(e);for(const r of n)null!==r.parent&&r._remove(),r.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const r of n)r.parent=null;return n}}function fs(t,e){const n=(e=ms(e)).reduce((t,e)=>t+e.offsetSize,0),r=t.parent;ws(t);const o=t.index;return r._insertChild(o,e),bs(r,o+e.length),bs(r,o),new li(t,t.getShiftedBy(n))}function ps(t){if(!t.isFlat)throw new pe.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);const e=t.start.parent;ws(t.start),ws(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return bs(e,t.start.index),n}function gs(t,e){if(!t.isFlat)throw new pe.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);const n=ps(t);return fs(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function ms(t){const e=[];t instanceof Array||(t=[t]);for(let n=0;n<t.length;n++)if("string"==typeof t[n])e.push(new Xo(t[n]));else if(t[n]instanceof ti)e.push(new Xo(t[n].data,t[n].getAttributes()));else if(t[n]instanceof hs||t[n]instanceof ei)for(const r of t[n])e.push(r);else t[n]instanceof Jo&&e.push(t[n]);for(let n=1;n<e.length;n++){const t=e[n],r=e[n-1];t instanceof Xo&&r instanceof Xo&&_s(t,r)&&(e.splice(n-1,2,new Xo(r.data+t.data,r.getAttributes())),n--)}return e}function bs(t,e){const n=t.getChild(e-1),r=t.getChild(e);if(n&&r&&n.is("$text")&&r.is("$text")&&_s(n,r)){const o=new Xo(n.data+r.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,o)}}function ws(t){const e=t.textNode,n=t.parent;if(e){const r=t.offset-e.startOffset,o=e.index;n._removeChildren(o,1);const i=new Xo(e.data.substr(0,r),e.getAttributes()),s=new Xo(e.data.substr(r),e.getAttributes());n._insertChild(o,[i,s])}}function _s(t,e){const n=t.getAttributes(),r=e.getAttributes();for(const o of n){if(o[1]!==e.getAttribute(o[0]))return!1;r.next()}return r.next().done}var vs=function(t,e){return po(t,e)};class ys extends ds{constructor(t,e,n,r,o){super(o),this.range=t.clone(),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===r?null:r}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new ys(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ys(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new pe.b("attribute-operation-range-not-flat: The range to change is not flat.",this);for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!vs(t.getAttribute(this.key),this.oldValue))throw new pe.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new pe.b("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:t,key:this.key})}}_execute(){vs(this.oldValue,this.newValue)||function(t,e,n){ws(t.start),ws(t.end);for(const r of t.getItems({shallow:!0})){const t=r.is("$textProxy")?r.textNode:r;null!==n?t._setAttribute(e,n):t._removeAttribute(e),bs(t.parent,t.index)}bs(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new ys(li.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class ks extends ds{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new pe.b("detach-operation-on-document-node: Cannot detach document node.",this)}_execute(){ps(li._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Cs extends ds{constructor(t,e,n,r){super(r),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new pe.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(t===e&&n<r&&r<n+this.howMany)throw new pe.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Ie(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new pe.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}_execute(){gs(li._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=ii.fromJSON(t.sourcePosition,e),r=ii.fromJSON(t.targetPosition,e);return new this(n,t.howMany,r,t.baseVersion)}}class xs extends ds{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new ei(ms(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new ei([...this.nodes].map(t=>t._clone(!0))),e=new xs(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=new ii(this.position.root.document.graveyard,[0]);return new Cs(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new pe.b("insert-operation-position-invalid: Insertion position is invalid.",this)}_execute(){const t=this.nodes;this.nodes=new ei([...t].map(t=>t._clone(!0))),fs(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const o of t.nodes)n.push(o.name?ni.fromJSON(o):Xo.fromJSON(o));const r=new xs(ii.fromJSON(t.position,e),n,t.baseVersion);return r.shouldReceiveAttributes=t.shouldReceiveAttributes,r}}class As extends ds{constructor(t,e,n,r,o,i){super(i),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=o,this._markers=r}get type(){return"marker"}clone(){return new As(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new As(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this._markers[this.newRange?"_set":"_remove"](this.name,this.newRange,!0,this.affectsData)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new As(t.name,t.oldRange?li.fromJSON(t.oldRange,e):null,t.newRange?li.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}class Es extends ds{constructor(t,e,n,r){super(r),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new Es(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Es(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof ni))throw new pe.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(t.name!==this.oldName)throw new pe.b("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new Es(ii.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class Ss extends ds{constructor(t,e,n,r,o){super(o),this.root=t,this.key=e,this.oldValue=n,this.newValue=r}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new Ss(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ss(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new pe.b("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new pe.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new pe.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new pe.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:t.root});return new Ss(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Ts extends ds{constructor(t,e,n,r,o){super(o),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new ii(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new li(this.sourcePosition,t)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new ii(this.sourcePosition.root,e)._getTransformedByMergeOperation(this),r=new Ps(t,this.howMany,this.graveyardPosition,this.baseVersion+1);return r.insertionPosition=n,r}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new pe.b("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!e.parent)throw new pe.b("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=t.maxOffset)throw new pe.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}_execute(){const t=this.sourcePosition.parent;gs(li._createIn(t),this.targetPosition),gs(li._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=ii.fromJSON(t.sourcePosition,e),r=ii.fromJSON(t.targetPosition,e),o=ii.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,r,o,t.baseVersion)}}class Ps extends ds{constructor(t,e,n,r){super(r),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=Ps.getInsertionPosition(t),this.insertionPosition.stickiness="toNone",this.graveyardPosition=n?n.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new ii(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new li(this.splitPosition,t)}clone(){const t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t}getReversed(){const t=new ii(this.splitPosition.root.document.graveyard,[0]);return new Ts(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent;if(!t||t.maxOffset<this.splitPosition.offset)throw new pe.b("split-operation-position-invalid: Split position is invalid.",this);if(!t.parent)throw new pe.b("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new pe.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new pe.b("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)gs(li._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();fs(this.insertionPosition,e)}gs(new li(ii._createAt(t,this.splitPosition.offset),ii._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new ii(t.root,e)}static fromJSON(t,e){const n=ii.fromJSON(t.splitPosition,e),r=ii.fromJSON(t.insertionPosition,e),o=t.graveyardPosition?ii.fromJSON(t.graveyardPosition,e):null,i=new this(n,t.howMany,o,t.baseVersion);return i.insertionPosition=r,i}}class Ms extends ni{constructor(t,e,n="main"){super(e),this._document=t,this.rootName=n}get document(){return this._document}is(t,e){return e?e===this.name&&("rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t):"rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t||"node"===t||"model:node"===t}toJSON(){return this.rootName}}class Os{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new Xo(t,e)}createElement(t,e){return new ni(t,e)}createDocumentFragment(){return new hs}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof Xo&&""==t.data)return;const r=ii._createAt(e,n);if(t.parent){if(js(t.root,r.root))return void this.move(li._createOn(t),r);if(t.root.document)throw new pe.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(t)}const o=new xs(r,t,r.root.document?r.root.document.version:null);if(t instanceof Xo&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),t instanceof hs)for(const[i,s]of t.markers){const t=ii._createAt(s.root,0),e={range:new li(s.start._getCombined(t,r),s.end._getCombined(t,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(i)?this.updateMarker(i,e):this.addMarker(i,e)}}insertText(t,e,n,r){e instanceof hs||e instanceof ni||e instanceof ii?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,r)}insertElement(t,e,n,r){e instanceof hs||e instanceof ni||e instanceof ii?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,r)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof hs||e instanceof ni?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof hs||e instanceof ni?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof li){const r=n.getMinimalFlatRanges();for(const n of r)Is(this,t,e,n)}else Ds(this,t,e,n)}setAttributes(t,e){for(const[n,r]of Le(t))this.setAttribute(n,r,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof li){const n=e.getMinimalFlatRanges();for(const e of n)Is(this,t,null,e)}else Ds(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof li)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof li))throw new pe.b("writer-move-invalid-range: Invalid range to move.",this);if(!t.isFlat)throw new pe.b("writer-move-range-not-flat: Range to move is not flat.",this);const r=ii._createAt(e,n);if(r.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!js(t.root,r.root))throw new pe.b("writer-move-different-document: Range is going to be moved between different documents.",this);const o=new Cs(t.start,t.end.offset-t.start.offset,r,t.root.document?t.root.document.version:null);this.batch.addOperation(o),this.model.applyOperation(o)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof li?t:li._createOn(t)).getMinimalFlatRanges().reverse();for(const n of e)this._addOperationForAffectedMarkers("move",n),Rs(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof ni))throw new pe.b("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(n instanceof ni))throw new pe.b("writer-merge-no-element-after: Node after merge position must be an element.",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(t,e,n){return this.model.createSelection(t,e,n)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(li._createIn(n),ii._createAt(e,"end")),this.remove(n)}_merge(t){const e=ii._createAt(t.nodeBefore,"end"),n=ii._createAt(t.nodeAfter,0),r=new ii(t.root.document.graveyard,[0]),o=new Ts(n,t.nodeAfter.maxOffset,e,r,t.root.document.version);this.batch.addOperation(o),this.model.applyOperation(o)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof ni))throw new pe.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);const n=t.root.document?t.root.document.version:null,r=new Es(ii._createBefore(t),t.name,e,n);this.batch.addOperation(r),this.model.applyOperation(r)}split(t,e){this._assertWriterUsedCorrectly();let n,r,o=t.parent;if(!o.parent)throw new pe.b("writer-split-element-no-parent: Element with no parent can not be split.",this);if(e||(e=o.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new pe.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{const e=new Ps(t,o.maxOffset-t.offset,null,o.root.document?o.root.document.version:null);this.batch.addOperation(e),this.model.applyOperation(e),n||r||(n=o,r=t.parent.nextSibling),o=(t=this.createPositionAfter(t.parent)).parent}while(o!==e);return{position:t,range:new li(ii._createAt(n,"end"),ii._createAt(r,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new pe.b("writer-wrap-range-not-flat: Range to wrap is not flat.",this);const n=e instanceof ni?e:new ni(e);if(n.childCount>0)throw new pe.b("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(null!==n.parent)throw new pe.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(n,t.start);const r=new li(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(r,ii._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new pe.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(li._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new pe.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);const n=e.usingOperation,r=e.range,o=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new pe.b("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!r)throw new pe.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return n?(Ns(this,t,null,r,o),this.model.markers.get(t)):this.model.markers._set(t,r,n,o)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,r=this.model.markers.get(n);if(!r)throw new pe.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(!e)return void this.model.markers._refresh(r);const o="boolean"==typeof e.usingOperation,i="boolean"==typeof e.affectsData,s=i?e.affectsData:r.affectsData;if(!o&&!e.range&&!i)throw new pe.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);const a=r.getRange(),c=e.range?e.range:a;o&&e.usingOperation!==r.managedUsingOperations?e.usingOperation?Ns(this,n,null,c,s):(Ns(this,n,a,null,s),this.model.markers._set(n,c,void 0,s)):r.managedUsingOperations?Ns(this,n,a,c,s):this.model.markers._set(n,c,void 0,s)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new pe.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);const n=this.model.markers.get(e);n.managedUsingOperations?Ns(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}setSelection(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[n,r]of Le(t))this._setSelectionAttribute(n,r)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const r=Ci._getStoreAttributeKey(t);this.setAttribute(r,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=Ci._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new pe.b("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const r=n.getRange();let o=!1;if("move"===t)o=e.containsPosition(r.start)||e.start.isEqual(r.start)||e.containsPosition(r.end)||e.end.isEqual(r.end);else{const t=e.nodeAfter,n=r.end.parent==t&&0==r.end.offset,i=r.end.nodeAfter==t,s=r.start.nodeAfter==t;o=r.start.parent==e.nodeBefore&&r.start.isAtEnd||n||i||s}o&&this.updateMarker(n.name,{range:r})}}}function Is(t,e,n,r){const o=t.model,i=o.document;let s,a,c,l=r.start;for(const d of r.getWalker({shallow:!0}))c=d.item.getAttribute(e),s&&a!=c&&(a!=n&&u(),l=s),s=d.nextPosition,a=c;function u(){const r=new li(l,s),c=new ys(r,e,a,n,r.root.document?i.version:null);t.batch.addOperation(c),o.applyOperation(c)}s instanceof ii&&s!=l&&a!=n&&u()}function Ds(t,e,n,r){const o=t.model,i=o.document,s=r.getAttribute(e);let a,c;s!=n&&(r.root===r?c=new Ss(r,e,s,n,r.document?i.version:null):(a=new li(ii._createBefore(r),t.createPositionAfter(r)),c=new ys(a,e,s,n,a.root.document?i.version:null)),t.batch.addOperation(c),o.applyOperation(c))}function Ns(t,e,n,r,o){const i=t.model,s=new As(e,n,r,i.markers,o,i.document.version);t.batch.addOperation(s),i.applyOperation(s)}function Rs(t,e,n,r){let o;if(t.root.document){const n=r.document,i=new ii(n.graveyard,[0]);o=new Cs(t,e,i,n.version)}else o=new ks(t,e);n.addOperation(o),r.applyOperation(o)}function js(t,e){return t===e||t instanceof Ms&&e instanceof Ms}class Ls{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize);const e=li._createOn(t);for(const n of this._markerCollection.getMarkersIntersectingRange(e)){const t=n.getRange();this.bufferMarkerChange(n.name,t,t,n.affectsData)}this._cachedChanges=null}bufferOperation(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems({shallow:!0}))this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=li._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}break}case"split":{const e=t.splitPosition.parent;this._isInInsertedElement(e)||this._markRemove(e,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1),this._markInsert(t.graveyardPosition.parent,t.graveyardPosition.offset,1);const n=t.targetPosition.parent;this._isInInsertedElement(n)||this._markInsert(n,t.targetPosition.offset,e.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n,r){const o=this._changedMarkers.get(t);o?(o.newRange=n,o.affectsData=r,null==o.oldRange&&null==o.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:r})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldRange&&t.push({name:e,range:n.oldRange});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newRange&&t.push({name:e,range:n.newRange});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(t=>({name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}}))}hasDataChanges(){for(const[,t]of this._changedMarkers)if(t.affectsData)return!0;return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:!1}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const e=[];for(const n of this._changesInElement.keys()){const t=this._changesInElement.get(n).sort((t,e)=>t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1),r=this._elementSnapshots.get(n),o=Fs(n.getChildren()),i=Vs(r.length,t);let s=0,a=0;for(const c of i)if("i"===c)e.push(this._getInsertDiff(n,s,o[s].name)),s++;else if("r"===c)e.push(this._getRemoveDiff(n,s,r[a].name)),a++;else if("a"===c){const t=o[s].attributes,i=r[a].attributes;let c;if("$text"==o[s].name)c=new li(ii._createAt(n,s),ii._createAt(n,s+1));else{const t=n.offsetToIndex(s);c=new li(ii._createAt(n,s),ii._createAt(n.getChild(t),0))}e.push(...this._getAttributesDiff(c,i,t)),s++,a++}else s++,a++}e.sort((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1);for(let n=1;n<e.length;n++){const t=e[n-1],r=e[n],o="remove"==t.type&&"remove"==r.type&&"$text"==t.name&&"$text"==r.name&&t.position.isEqual(r.position),i="insert"==t.type&&"insert"==r.type&&"$text"==t.name&&"$text"==r.name&&t.position.parent==r.position.parent&&t.position.offset+t.length==r.position.offset,s="attribute"==t.type&&"attribute"==r.type&&t.position.parent==r.position.parent&&t.range.isFlat&&r.range.isFlat&&t.position.offset+t.length==r.position.offset&&t.attributeKey==r.attributeKey&&t.attributeOldValue==r.attributeOldValue&&t.attributeNewValue==r.attributeNewValue;(o||i||s)&&(e[n-1].length++,s&&(e[n-1].range.end=e[n-1].range.end.getShiftedBy(1)),e.splice(n,1),n--)}for(const n of e)delete n.changeCount,"attribute"==n.type&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e.slice(),this._cachedChanges=e.slice().filter(Bs),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(t,e,n){const r={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,r)}_markRemove(t,e,n){const r={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,r),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let r=0;r<n.length;r++)n[r].howMany<1&&(n.splice(r,1),r--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,Fs(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const r=t.offset+t.howMany,o=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<o&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<o){const o=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:r,howMany:o-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(r<=n.offset)n.offset-=t.howMany;else if(r<=o)if(t.offset<n.offset){const e=r-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<o){const e=o-t.offset;n.howMany-=e,t.nodesToHandle-=e}if("remove"==n.type&&(r<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(r<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=r-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<o)if(r<=o){const r=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:t.offset,howMany:r-n.howMany-t.nodesToHandle,count:this._changeCount++})}else n.howMany-=o-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&r>n.offset){if(r>o){const t={type:"attribute",offset:o,howMany:r-o,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<o&&(r>o?(t.nodesToHandle=r-o,t.offset=o):t.nodesToHandle=0);if("remove"==n.type&&t.offset<n.offset&&r>n.offset){const o={type:"attribute",offset:n.offset,howMany:r-n.offset,count:this._changeCount++};this._handleChange(o,e),e.push(o),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==n.type&&(t.offset>=n.offset&&r<=o?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&r>=o&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:ii._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:ii._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const r=[];n=new Map(n);for(const[o,i]of e){const e=n.has(o)?n.get(o):null;e!==i&&r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:o,attributeOldValue:i,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(o)}for(const[o,i]of n)r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:o,attributeOldValue:null,attributeNewValue:i,changeCount:this._changeCount++});return r}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),r=t.startOffset;if(n)for(const o of n)if("insert"==o.type&&r>=o.offset&&r<o.offset+o.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const r=new li(ii._createAt(t,e),ii._createAt(t,e+n));for(const o of r.getItems({shallow:!0}))o.is("element")&&(this._elementSnapshots.delete(o),this._changesInElement.delete(o),this._removeAllNestedChanges(o,0,o.maxOffset))}}function Fs(t){const e=[];for(const n of t)if(n.is("$text"))for(let t=0;t<n.data.length;t++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes())});return e}function Vs(t,e){const n=[];let r=0,o=0;for(const i of e){if(i.offset>r){for(let t=0;t<i.offset-r;t++)n.push("e");o+=i.offset-r}if("insert"==i.type){for(let t=0;t<i.howMany;t++)n.push("i");r=i.offset+i.howMany}else if("remove"==i.type){for(let t=0;t<i.howMany;t++)n.push("r");r=i.offset,o+=i.howMany}else n.push(..."a".repeat(i.howMany).split("")),r=i.offset+i.howMany,o+=i.howMany}if(o<t)for(let i=0;i<t-o-r;i++)n.push("e");return n}function Bs(t){return!(t.position&&"$graveyard"==t.position.root.rootName||t.range&&"$graveyard"==t.range.root.rootName)}class zs{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(t){this._operations.includes(t)||this._operations.push(t)}getOperations(t=0,e=Number.POSITIVE_INFINITY){return t<0?[]:this._operations.slice(t,e)}getOperation(t){return this._operations[t]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}}function Us(t,e){return!!(n=t.charAt(e-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e));var n}function Hs(t,e){return!!(n=t.charAt(e))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}class qs{constructor(t){this.model=t,this.version=0,this.history=new zs(this),this.selection=new Ci(this),this.roots=new Ee({idProperty:"rootName"}),this.differ=new Ls(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new pe.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",this,{operation:n})},{priority:"highest"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:"high"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&(this.version++,this.history.addOperation(n))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(t,e,n,r)=>{this.differ.bufferMarkerChange(e.name,n,r,e.affectsData),null===n&&e.on("change",(t,n)=>{this.differ.bufferMarkerChange(e.name,n,e.getRange(),e.affectsData)})})}get graveyard(){return this.getRoot("$graveyard")}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new pe.b("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:e});const n=new Ms(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>"$graveyard"!=t)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=De(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,r=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(r)||e.createRange(r)}_validateSelectionRange(t){return $s(t.start)&&$s(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),e=n(t),e)break}while(e)}}function $s(t){const e=t.textNode;if(e){const n=e.data,r=t.offset-e.startOffset;return!Us(n,r)&&!Hs(n,r)}return!0}Ae(qs,be);class Ws{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,r=!1){const o=t instanceof Gs?t.name:t;if(o.includes(","))throw new pe.b('markercollection-incorrect-marker-name: Marker name cannot contain "," character.',this);const i=this._markers.get(o);if(i){const t=i.getRange();let s=!1;return t.isEqual(e)||(i._attachLiveRange(vi.fromRange(e)),s=!0),n!=i.managedUsingOperations&&(i._managedUsingOperations=n,s=!0),"boolean"==typeof r&&r!=i.affectsData&&(i._affectsData=r,s=!0),s&&this.fire("update:"+o,i,t,e),i}const s=vi.fromRange(e),a=new Gs(o,s,n,r);return this._markers.set(o,a),this.fire("update:"+o,a,null,e),a}_remove(t){const e=t instanceof Gs?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof Gs?t.name:t,n=this._markers.get(e);if(!n)throw new pe.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);const r=n.getRange();this.fire("update:"+e,n,r,r,n.managedUsingOperations,n.affectsData)}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}Ae(Ws,be);class Gs{constructor(t,e,n,r){this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new pe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new pe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}getStart(){if(!this._liveRange)throw new pe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new pe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new pe.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}is(t){return"marker"===t||"model:marker"===t}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ae(Gs,be);class Ys extends ds{get type(){return"noop"}clone(){return new Ys(this.baseVersion)}getReversed(){return new Ys(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const Qs={};Qs[ys.className]=ys,Qs[xs.className]=xs,Qs[As.className]=As,Qs[Cs.className]=Cs,Qs[Ys.className]=Ys,Qs[ds.className]=ds,Qs[Es.className]=Es,Qs[Ss.className]=Ss,Qs[Ps.className]=Ps,Qs[Ts.className]=Ts;class Zs extends ii{constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new pe.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",t);Ks.call(this)}detach(){this.stopListening()}is(t){return"livePosition"===t||"model:livePosition"===t||"position"==t||"model:position"===t}toPosition(){return new ii(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function Ks(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&Js.call(this,n)},{priority:"low"})}function Js(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Ae(Zs,be);class Xs{constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(t,e){t=Array.from(t);for(let n=0;n<t.length;n++)this._handleNode(t[n],{isFirst:0===n&&e.isFirst,isLast:n===t.length-1&&e.isLast});this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?li._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new li(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t,e){this.schema.isObject(t)?this._handleObject(t,e):this._checkAndSplitToAllowedPosition(t,e)?(this._insert(t),this._mergeSiblingsOf(t,e)):this._handleDisallowedNode(t,e)}_handleObject(t,e){this._checkAndSplitToAllowedPosition(t)?this._insert(t):this._tryAutoparagraphing(t,e)}_handleDisallowedNode(t,e){t.is("element")?this.handleNodes(t.getChildren(),e):this._tryAutoparagraphing(t,e)}_insert(t){if(!this.schema.checkChild(this.position,t))throw new pe.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:t,position:this.position});const e=Zs.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(t,this.position),this.position=e.toPosition(),e.detach(),this.nodeToSelect=this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?t:null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=Zs.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Zs.fromPosition(t,"toNext"))}_mergeSiblingsOf(t,e){if(!(t instanceof ni))return;const n=this._canMergeLeft(t,e),r=this._canMergeRight(t,e),o=Zs._createBefore(t);o.stickiness="toNext";const i=Zs._createAfter(t);if(i.stickiness="toNext",n){const t=Zs.fromPosition(this.position);t.stickiness="toNext",this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=Zs._createAt(o.nodeBefore,"end","toPrevious")),this.writer.merge(o),o.isEqual(this._affectedEnd)&&e.isLast&&(this._affectedEnd.detach(),this._affectedEnd=Zs._createAt(o.nodeBefore,"end","toNext")),this.position=t.toPosition(),t.detach()}if(r){if(!this.position.isEqual(i))throw new pe.b("insertcontent-invalid-insertion-position",this);this.position=ii._createAt(i.nodeBefore,"end");const t=Zs.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=Zs._createAt(i.nodeBefore,"end","toNext")),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&e.isFirst&&(this._affectedStart.detach(),this._affectedStart=Zs._createAt(i.nodeBefore,0,"toPrevious")),this.position=t.toPosition(),t.detach()}(n||r)&&this._filterAttributesOf.push(this.position.parent),o.detach(),i.detach()}_canMergeLeft(t,e){const n=t.previousSibling;return e.isFirst&&n instanceof ni&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,t)}_canMergeRight(t,e){const n=t.nextSibling;return e.isLast&&n instanceof ni&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(t,n)}_tryAutoparagraphing(t,e){const n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,t)&&(n._appendChild(t),this._handleNode(n,e))}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(t,this.position.parent);if(!e)return!1;for(;e!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===e&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(t,e){return this.schema.checkChild(e,t)?e:e.parent?this._getAllowedIn(t,e.parent):null}}function ta(t,e,n){const r=e.parent,o=n.parent;return r!=o&&!t.isLimit(r)&&!t.isLimit(o)&&function(t,e,n){const r=new li(t,e);for(const o of r.getWalker())if(n.isLimit(o.item))return!1;return!0}(e,n,t)}function ea(t,e,n){const r=t.createElement("paragraph");t.insert(r,e),na(t,n,t.createPositionAt(r,0))}function na(t,e,n){e instanceof Ci?t.setSelection(n):e.setTo(n)}function ra(t,e){if("text"==e.type)return"word"===t.unit?function(t,e){let n=t.position.textNode;if(n){let r=t.position.offset-n.startOffset;for(;!ia(n.data,r,e)&&!sa(n,r,e);){t.next();const o=e?t.position.nodeAfter:t.position.nodeBefore;if(o&&o.is("$text")){const r=o.data.charAt(e?0:o.data.length-1);' ,.?!:;"-()'.includes(r)||(t.next(),n=t.position.textNode)}r=t.position.offset-n.startOffset}}return t.position}(t.walker,t.isForward):function(t,e){const n=t.position.textNode;if(n){const r=n.data;let o=t.position.offset-n.startOffset;for(;Us(r,o)||"character"==e&&Hs(r,o);)t.next(),o=t.position.offset-n.startOffset}return t.position}(t.walker,t.unit);if(e.type==(t.isForward?"elementStart":"elementEnd")){if(t.schema.isObject(e.item))return ii._createAt(e.item,t.isForward?"after":"before");if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}else{if(t.schema.isLimit(e.item))return void t.walker.skip(()=>!0);if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}}function oa(t,e){const n=ii._createAt(t.root,e?"end":0);return e?new li(t,n):new li(n,t)}function ia(t,e,n){return' ,.?!:;"-()'.includes(t.charAt(e+(n?0:-1)))}function sa(t,e,n){return e===(n?t.endOffset:0)}function aa(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map(t=>e.createRangeOn(t)).filter(e=>(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))).forEach(t=>{n.push(t.start.parent),e.remove(t)}),n.forEach(t=>{let n=t;for(;n.parent&&n.isEmpty;){const t=e.createRangeOn(n);n=n.parent,e.remove(t)}})}function ca(t,e){return t.isCollapsed?function(t,e){const n=t.start,r=e.getNearestSelectionRange(n);if(!r)return null;if(!r.isCollapsed)return r;const o=r.start;return n.isEqual(o)?null:new li(o)}(t,e):function(t,e){const n=t.start,r=t.end,o=e.checkChild(n,"$text"),i=e.checkChild(r,"$text"),s=e.getLimitElement(n),a=e.getLimitElement(r);if(s===a){if(o&&i)return null;if(function(t,e,n){const r=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),o=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return r||o}(n,r,e)){const t=n.nodeAfter&&e.isObject(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),o=r.nodeBefore&&e.isObject(r.nodeBefore)?null:e.getNearestSelectionRange(r,"backward");return new li(t?t.start:n,o?o.start:r)}}const c=s&&!s.is("rootElement"),l=a&&!a.is("rootElement");if(c||l){const t=n.nodeAfter&&r.nodeBefore&&n.nodeAfter.parent===r.nodeBefore.parent,o=c&&(!t||!ua(n.nodeAfter,e)),i=l&&(!t||!ua(r.nodeBefore,e));let u=n,d=r;return o&&(u=ii._createBefore(la(s,e))),i&&(d=ii._createAfter(la(a,e))),new li(u,d)}return null}(t,e)}function la(t,e){let n=t,r=n;for(;e.isLimit(r)&&r.parent;)n=r,r=r.parent;return n}function ua(t,e){return t&&e.isObject(t)}class da{constructor(){this.markers=new Ws,this.document=new qs(this),this.schema=new Wi,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,e)=>{e[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((t,e)=>{if("$marker"===e.name)return!0}),function(t){t.document.registerPostFixer(e=>function(t,e){const n=e.document.selection,r=e.schema,o=[];let i=!1;for(const s of n.getRanges()){const t=ca(s,r);t&&!t.isEqual(s)?(o.push(t),i=!0):o.push(s)}i&&t.setSelection(function(t){const e=[];e.push(t.shift());for(const n of t){const t=e.pop();if(n.isIntersecting(t)){const r=t.start.isAfter(n.start)?n.start:t.start,o=t.end.isAfter(n.end)?t.end:n.end,i=new li(r,o);e.push(i)}else e.push(t),e.push(n)}return e}(o),{backward:n.isBackward})}(e,t))}(this)}change(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new us,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){pe.b.rethrowUnexpectedError(t,this)}}enqueueChange(t,e){try{"string"==typeof t?t=new us(t):"function"==typeof t&&(e=t,t=new us),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){pe.b.rethrowUnexpectedError(t,this)}}applyOperation(t){t._execute()}insertContent(t,e,n){return function(t,e,n,r){return t.change(o=>{let i;i=n?n instanceof gi||n instanceof Ci?n:o.createSelection(n,r):t.document.selection,i.isCollapsed||t.deleteContent(i,{doNotAutoparagraph:!0});const s=new Xs(t,o,i.anchor);let a;a=e.is("documentFragment")?e.getChildren():[e],s.handleNodes(a,{isFirst:!0,isLast:!0});const c=s.getSelectionRange();c&&(i instanceof Ci?o.setSelection(c):i.setTo(c));const l=s.getAffectedRange()||t.createRange(i.anchor);return s.destroy(),l})}(this,t,e,n)}deleteContent(t,e){!function(t,e,n={}){if(e.isCollapsed)return;const r=e.getFirstRange();if("$graveyard"==r.root.rootName)return;const o=t.schema;t.change(t=>{if(!n.doNotResetEntireContent&&function(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const r=e.getFirstRange();return r.start.parent!=r.end.parent&&t.checkChild(n,"paragraph")}(o,e))return void function(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),ea(t,t.createPositionAt(n,0),e)}(t,e);const[i,s]=function(t){const e=t.root.document.model,n=t.start;let r=t.end;if(e.hasContent(t,{ignoreMarkers:!0})){const n=function(t){const e=t.parent,n=e.root.document.model.schema,r=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const o of r){if(n.isLimit(o))return null;if(n.isBlock(o))return o}}(r);if(n&&r.isTouching(e.createPositionAt(n,0))){const n=e.createSelection(t);e.modifySelection(n,{direction:"backward"}),r=n.getLastPosition()}}return[Zs.fromPosition(n,"toPrevious"),Zs.fromPosition(r,"toNext")]}(r);r.start.isTouching(r.end)||t.remove(r),n.leaveUnmerged||(function(t,e,n){const r=t.model;if(!ta(t.model.schema,e,n))return;const[o,i]=function(t,e){const n=t.getAncestors(),r=e.getAncestors();let o=0;for(;n[o]&&n[o]==r[o];)o++;return[n[o],r[o]]}(e,n);!r.hasContent(o,{ignoreMarkers:!0})&&r.hasContent(i,{ignoreMarkers:!0})?function t(e,n,r,o){const i=n.parent,s=r.parent;if(i!=o&&s!=o){for(n=e.createPositionAfter(i),(r=e.createPositionBefore(s)).isEqual(n)||e.insert(i,r);n.parent.isEmpty;){const t=n.parent;n=e.createPositionBefore(t),e.remove(t)}r=e.createPositionBefore(s),function(t,e){const n=e.nodeBefore,r=e.nodeAfter;n.name!=r.name&&t.rename(n,r.name),t.clearAttributes(n),t.setAttributes(Object.fromEntries(r.getAttributes()),n),t.merge(e)}(e,r),ta(e.model.schema,n,r)&&t(e,n,r,o)}}(t,e,n,o.parent):function t(e,n,r,o){const i=n.parent,s=r.parent;if(i!=o&&s!=o){for(n=e.createPositionAfter(i),(r=e.createPositionBefore(s)).isEqual(n)||e.insert(s,n),e.merge(n);r.parent.isEmpty;){const t=r.parent;r=e.createPositionBefore(t),e.remove(t)}ta(e.model.schema,n,r)&&t(e,n,r,o)}}(t,e,n,o.parent)}(t,i,s),o.removeDisallowedAttributes(i.parent.getChildren(),t)),na(t,e,i),!n.doNotAutoparagraph&&function(t,e){const n=t.checkChild(e,"$text"),r=t.checkChild(e,"paragraph");return!n&&r}(o,i)&&ea(t,i,e),i.detach(),s.detach()})}(this,t,e)}modifySelection(t,e){!function(t,e,n={}){const r=t.schema,o="backward"!=n.direction,i=n.unit?n.unit:"character",s=new ri({boundaries:oa(e.focus,o),singleCharacters:!0,direction:o?"forward":"backward"}),a={walker:s,schema:r,isForward:o,unit:i};let c;for(;c=s.next();){if(c.done)return;const n=ra(a,c.value);if(n)return void(e instanceof Ci?t.change(t=>{t.setSelectionFocus(n)}):e.setFocus(n))}}(this,t,e)}getSelectedContent(t){return function(t,e){return t.change(t=>{const n=t.createDocumentFragment(),r=e.getFirstRange();if(!r||r.isCollapsed)return n;const o=r.start.root,i=r.start.getCommonPath(r.end),s=o.getNodeByPath(i);let a;a=r.start.parent==r.end.parent?r:t.createRange(t.createPositionAt(s,r.start.path[i.length]),t.createPositionAt(s,r.end.path[i.length]+1));const c=a.end.offset-a.start.offset;for(const e of a.getItems({shallow:!0}))e.is("$textProxy")?t.appendText(e.data,e.getAttributes(),n):t.append(t.cloneElement(e,!0),n);if(a!=r){const e=r._getTransformedByMove(a.start,t.createPositionAt(n,0),c)[0],o=t.createRange(t.createPositionAt(n,0),e.start);aa(t.createRange(e.end,t.createPositionAt(n,"end")),t),aa(o,t)}return n})}(this,t)}hasContent(t,e={}){const n=t instanceof ni?li._createIn(t):t;if(n.isCollapsed)return!1;const{ignoreWhitespaces:r=!1,ignoreMarkers:o=!1}=e;if(!o)for(const i of this.markers.getMarkersIntersectingRange(n))if(i.affectsData)return!0;for(const i of n.getItems())if(i.is("$textProxy")){if(!r)return!0;if(-1!==i.data.search(/\S/))return!0}else if(this.schema.isObject(i))return!0;return!1}createPositionFromPath(t,e,n){return new ii(t,e,n)}createPositionAt(t,e){return ii._createAt(t,e)}createPositionAfter(t){return ii._createAfter(t)}createPositionBefore(t){return ii._createBefore(t)}createRange(t,e){return new li(t,e)}createRangeIn(t){return li._createIn(t)}createRangeOn(t){return li._createOn(t)}createSelection(t,e,n){return new gi(t,e,n)}createBatch(t){return new us(t)}createOperationFromJSON(t){return class{static fromJSON(t,e){return Qs[t.__className].fromJSON(t,e)}}.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){this._currentWriter=new Os(this,this._pendingChanges[0].batch);const e=this._pendingChanges[0].callback(this._currentWriter);t.push(e),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}Ae(da,En);class ha{constructor(){this._listener=Object.create(Jr)}listenTo(t){this._listener.listenTo(t,"keydown",(t,e)=>{this._listener.fire("_keydown:"+nr(e),e)})}set(t,e,n={}){const r=rr(t);this._listener.listenTo(this._listener,"_keydown:"+r,(t,n)=>{e(n,()=>{n.preventDefault(),n.stopPropagation(),t.stop()}),t.return=!0},{priority:n.priority})}press(t){return!!this._listener.fire("_keydown:"+nr(t),t)}destroy(){this._listener.stopListening()}}class fa extends ha{constructor(t){super(),this.editor=t}set(t,e,n={}){if("string"==typeof e){const t=e;e=(e,n)=>{this.editor.execute(t),n()}}super.set(t,e,n)}}class pa{constructor(t={}){this._context=t.context||new Oe({language:t.language}),this._context._addEditor(this,!t.context);const e=Array.from(this.constructor.builtinPlugins||[]);this.config=new ae(t,this.constructor.defaultConfig),this.config.define("plugins",e),this.config.define(this._context._getEditorConfig()),this.plugins=new Se(this,e,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new Hi,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new da;const n=new pn;this.data=new ss(this.model,n),this.editing=new Ui(this.model,n),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new as([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new fa(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],r=t.get("extraPlugins")||[];return this.plugins.init(e.concat(r),n)}destroy(){let t=Promise.resolve();return"initializing"==this.state&&(t=new Promise(t=>this.once("ready",t))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...t){try{return this.commands.execute(...t)}catch(t){pe.b.rethrowUnexpectedError(t,this)}}}Ae(pa,En);var ga={setData(t){this.data.set(t)},getData(t){return this.data.get(t)}},ma={updateSourceElement(){if(!this.sourceElement)throw new pe.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);var t,e;t=this.sourceElement,e=this.data.get(),t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}};class ba{getHtml(t){const e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class wa{constructor(t){this._domParser=new DOMParser,this._domConverter=new Gr(t,{blockFillerMode:"nbsp"}),this._htmlWriter=new ba}toData(t){const e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this._domConverter.domToView(e)}_toDom(t){const e=this._domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),r=e.body.childNodes;for(;r.length>0;)n.appendChild(r[0]);return n}}class _a{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){if(this.has(t))throw new pe.b("componentfactory-item-exists: The item already exists in the component factory.",this,{name:t});this._components.set(va(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new pe.b("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:t});return this._components.get(va(t)).callback(this.editor.locale)}has(t){return this._components.has(va(t))}}function va(t){return String(t).toLowerCase()}class ya{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new pe.b("focusTracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}Ae(ya,Jr),Ae(ya,En);class ka{constructor(t){this.editor=t,this.componentFactory=new _a(t),this.focusTracker=new ya,this._editableElementsMap=new Map,this.listenTo(t.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}Ae(ka,be),n(13);const Ca=new WeakMap;function xa(t){const{view:e,element:n,text:r,isDirectHost:o=!0}=t,i=e.document;Ca.has(i)||(Ca.set(i,new Map),i.registerPostFixer(t=>Aa(i,t))),Ca.get(i).set(n,{text:r,isDirectHost:o}),e.change(t=>Aa(i,t))}function Aa(t,e){const n=Ca.get(t);let r=!1;for(const[o,i]of n)Ea(e,o,i)&&(r=!0);return r}function Ea(t,e,n){const{text:r,isDirectHost:o}=n,i=o?e:function(t){if(1===t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement"))return e}return null}(e);let s=!1;return!!i&&(n.hostElement=i,i.getAttribute("data-placeholder")!==r&&(t.setAttribute("data-placeholder",r,i),s=!0),function(t){if(!t.isAttached())return!1;const e=!Array.from(t.getChildren()).some(t=>!t.is("uiElement")),n=t.document;if(!n.isFocused&&e)return!0;const r=n.selection.anchor;return!(!e||!r||r.parent===t)}(i)?function(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}(t,i)&&(s=!0):function(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}(t,i)&&(s=!0),s)}class Sa{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}class Ta extends ka{constructor(t,e){var n;super(t),this.view=e,this._toolbarConfig=(n=t.config.get("toolbar"),Array.isArray(n)?{items:n}:n?Object.assign({items:[]},n):{items:[]}),this._elementReplacer=new Sa}get element(){return this.view.element}init(t){const e=this.view,n=this.editor.editing.view,r=e.editable,o=n.document.getRoot();r.name=o.rootName,e.render();const i=r.element;this.setEditableElement(r.name,i),this.focusTracker.add(i),e.editable.bind("isFocused").to(this.focusTracker),n.attachDomRoot(i),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy(),super.destroy()}_initToolbar(){const t=this.editor,e=this.view,n=t.editing.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,this._toolbarConfig.viewportTopOffset&&(e.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),e.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function({origin:t,originKeystrokeHandler:e,originFocusTracker:n,toolbar:r,beforeFocus:o,afterBlur:i}){n.add(r.element),e.set("Alt+F10",(t,e)=>{n.isFocused&&!r.focusTracker.isFocused&&(o&&o(),r.focus(),e())}),r.keystrokes.set("Esc",(e,n)=>{r.focusTracker.isFocused&&(t.focus(),i&&i(),n())})}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.toolbar})}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),r=t.sourceElement,o=t.config.get("placeholder")||r&&"textarea"===r.tagName.toLowerCase()&&r.getAttribute("placeholder");o&&xa({view:e,element:n,text:o,isDirectHost:!1})}}class Pa extends Ee{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",(t,e,n)=>{this._renderViewIntoCollectionParent(e,n)}),this.on("remove",(t,e)=>{e.element&&this._parentElement&&e.element.remove()}),this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t;for(const e of this)this._renderViewIntoCollectionParent(e)}delegate(...t){if(!t.length||!t.every(t=>"string"==typeof t))throw new pe.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:e=>{for(const n of this)for(const r of t)n.delegate(r).to(e);this.on("add",(n,r)=>{for(const o of t)r.delegate(o).to(e)}),this.on("remove",(n,r)=>{for(const o of t)r.stopDelegating(o,e)})}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}}class Ma{constructor(t){Object.assign(this,Ba(Va(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new pe.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)$a(n)?yield n:Wa(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,r)=>new Ia({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:r}),if:(n,r,o)=>new Da({observable:t,emitter:e,attribute:n,valueIfTrue:r,callback:o})}}static extend(t,e){if(t._isRendered)throw new pe.b("template-extend-render: Attempting to extend a template which has already been rendered.",[this,t]);!function t(e,n){if(n.attributes&&(e.attributes||(e.attributes={}),Ha(e.attributes,n.attributes)),n.eventListeners&&(e.eventListeners||(e.eventListeners={}),Ha(e.eventListeners,n.eventListeners)),n.text&&e.text.push(...n.text),n.children&&n.children.length){if(e.children.length!=n.children.length)throw new pe.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",e);let r=0;for(const o of n.children)t(e.children[r++],o)}}(t,Ba(Va(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new pe.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),Na(this.text)?this._bindToObservable({schema:this.text,updater:ja(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){let e,n,r,o;if(!this.attributes)return;const i=t.node,s=t.revertData;for(e in this.attributes)if(r=i.getAttribute(e),n=this.attributes[e],s&&(s.attributes[e]=r),o=A(n[0])&&n[0].ns?n[0].ns:null,Na(n)){const a=o?n[0].value:n;s&&Ya(e)&&a.unshift(r),this._bindToObservable({schema:a,updater:La(i,e,o),data:t})}else"style"==e&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],t):(s&&r&&Ya(e)&&n.unshift(r),n=n.map(t=>t&&t.value||t).reduce((t,e)=>t.concat(e),[]).reduce(Ua,""),qa(n)||i.setAttributeNS(o,e,n))}_renderStyleAttribute(t,e){const n=e.node;for(const r in t){const o=t[r];Na(o)?this._bindToObservable({schema:[o],updater:Fa(n,r),data:e}):n.style[r]=o}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,r=t.isApplying;let o=0;for(const i of this.children)if(Ga(i)){if(!r){i.setParent(e);for(const t of i)n.appendChild(t.element)}}else if($a(i))r||(i.isRendered||i.render(),n.appendChild(i.element));else if(Fr(i))n.appendChild(i);else if(r){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),i._renderNode({node:n.childNodes[o++],isApplying:!0,revertData:e})}else n.appendChild(i.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map(n=>{const[r,o]=e.split("@");return n.activateDomEventListener(r,o,t)});t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const r=n.revertData;Ra(t,e,n);const o=t.filter(t=>!qa(t)).filter(t=>t.observable).map(r=>r.activateAttributeListener(t,e,n));r&&r.bindings.push(o)}_revertTemplateFromNode(t,e){for(const n of e.bindings)for(const t of n)t();if(e.text)t.textContent=e.text;else{for(const n in e.attributes){const r=e.attributes[n];null===r?t.removeAttribute(n):t.setAttribute(n,r)}for(let n=0;n<e.children.length;++n)this._revertTemplateFromNode(t.childNodes[n],e.children[n])}}}Ae(Ma,be);class Oa{constructor(t){Object.assign(this,t)}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const r=()=>Ra(t,e,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,r),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,r)}}}class Ia extends Oa{activateDomEventListener(t,e,n){const r=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,r),()=>{this.emitter.stopListening(n.node,t,r)}}}class Da extends Oa{getValue(t){return!qa(super.getValue(t))&&(this.valueIfTrue||!0)}}function Na(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(Na):t instanceof Oa)}function Ra(t,e,{node:n}){let r=function(t,e){return t.map(t=>t instanceof Oa?t.getValue(e):t)}(t,n);r=1==t.length&&t[0]instanceof Da?r[0]:r.reduce(Ua,""),qa(r)?e.remove():e.set(r)}function ja(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function La(t,e,n){return{set(r){t.setAttributeNS(n,e,r)},remove(){t.removeAttributeNS(n,e)}}}function Fa(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function Va(t){return ie(t,t=>{if(t&&(t instanceof Oa||Wa(t)||$a(t)||Ga(t)))return t})}function Ba(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){Array.isArray(t.text)||(t.text=[t.text])}(t),t.on&&(t.eventListeners=function(t){for(const e in t)za(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=[].concat(t[e].value)),za(t,e)}(t.attributes);const e=[];if(t.children)if(Ga(t.children))e.push(t.children);else for(const n of t.children)Wa(n)||$a(n)||Fr(n)?e.push(n):e.push(new Ma(n));t.children=e}return t}function za(t,e){Array.isArray(t[e])||(t[e]=[t[e]])}function Ua(t,e){return qa(e)?t:qa(t)?e:`${t} ${e}`}function Ha(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function qa(t){return!t&&0!==t}function $a(t){return t instanceof Qa}function Wa(t){return t instanceof Ma}function Ga(t){return t instanceof Pa}function Ya(t){return"class"==t||"style"==t}n(15);class Qa{constructor(t){this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Ee,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,n)=>{n.locale=t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Ma.bind(this,this)}createCollection(t){const e=new Pa(t);return this._viewCollections.add(e),e}registerChild(t){xe(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){xe(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new Ma(t)}extendTemplate(t){Ma.extend(this.template,t)}render(){if(this.isRendered)throw new pe.b("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}Ae(Qa,Jr),Ae(Qa,En);var Za=function(t){return"string"==typeof t||!et(t)&&p(t)&&"[object String]"==d(t)};class Ka extends Pa{constructor(t,e=[]){super(e),this.locale=t}attachToDom(){this._bodyCollectionContainer=new Ma({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=function(t,e,n={},r=[]){const o=n&&n.xmlns,i=o?t.createElementNS(o,e):t.createElement(e);for(const s in n)i.setAttribute(s,n[s]);!Za(r)&&xe(r)||(r=[r]);for(let s of r)Za(s)&&(s=t.createTextNode(s)),i.appendChild(s);return i}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&0==t.childElementCount&&t.remove()}}n(17);class Ja extends Qa{constructor(t){super(t),this.body=new Ka(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}n(19);class Xa extends Qa{constructor(t){super(t),this.set("text"),this.set("for"),this.id="ck-editor__label_"+he();const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class tc extends Ja{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,e=new Xa;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}class ec extends Qa{constructor(t,e,n){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const t=this._editingView;function e(e){t.change(n=>{const r=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",r),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",r)})}t.isRenderingInProgress?function n(r){t.once("change:isRenderingInProgress",(t,o,i)=>{i?n(r):e(r)})}(this):e(this)}}class nc extends ec{constructor(t,e,n){super(t,e,n),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const t=this._editingView,e=this.t;t.change(n=>{const r=t.document.getRoot(this.name);n.setAttribute("aria-label",e("Rich Text Editor, %0",[this.name]),r)})}}function rc(t){return e=>e+t}n(21);const oc=rc("px");class ic extends Qa{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Ma({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",t=>t?"block":"none"),height:e.to("isSticky",t=>t?oc(this._panelRect.height):null)}}}).render(),this._contentPanel=new Ma({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",t=>t?oc(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:e.to("_hasViewportTopOffset",t=>t?oc(this.viewportTopOffset):null),bottom:e.to("_isStickyToTheLimiter",t=>t?oc(this.limiterBottomOffset):null),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Hr.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:oc(-Hr.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}class sc{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const r of n)t.keystrokeHandler.set(r,(t,n)=>{this[e](),n()})}}get first(){return this.focusables.find(ac)||null}get last(){return this.focusables.filter(ac).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((e,n)=>{const r=e.element===this.focusTracker.focusedElement;return r&&(t=n),r}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];let r=(e+n+t)%n;do{const e=this.focusables.get(r);if(ac(e))return e;r=(r+n+t)%n}while(r!==e);return null}}function ac(t){return!(!t.focus||"none"==Hr.window.getComputedStyle(t.element).display)}class cc extends Qa{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class lc{constructor(t,e){lc._observerInstance||lc._createObserver(),this._element=t,this._callback=e,lc._addElementCallback(t,e),lc._observerInstance.observe(t)}destroy(){lc._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){lc._elementCallbacks||(lc._elementCallbacks=new Map);let n=lc._elementCallbacks.get(t);n||(n=new Set,lc._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=lc._getElementCallbacks(t);n&&(n.delete(e),n.size||(lc._elementCallbacks.delete(t),lc._observerInstance.unobserve(t))),lc._elementCallbacks&&!lc._elementCallbacks.size&&(lc._observerInstance=null,lc._elementCallbacks=null)}static _getElementCallbacks(t){return lc._elementCallbacks?lc._elementCallbacks.get(t):null}static _createObserver(){let t;t="function"==typeof Hr.window.ResizeObserver?Hr.window.ResizeObserver:uc,lc._observerInstance=new t(t=>{for(const e of t){if(!e.target.offsetParent)continue;const t=lc._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}})}}lc._observerInstance=null,lc._elementCallbacks=null;class uc{constructor(t){this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(t){this._elements.add(t),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}unobserve(t){this._elements.delete(t),this._previousRects.delete(t),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const t=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(t,100)};this.listenTo(Hr.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(t,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const t=[];for(const e of this._elements)this._hasRectChanged(e)&&t.push({target:e,contentRect:this._previousRects.get(e)});t.length&&this._callback(t)}_hasRectChanged(t){if(!t.ownerDocument.body.contains(t))return!1;const e=new Fo(t),n=this._previousRects.get(t),r=!n||!n.isEqual(e);return this._previousRects.set(t,e),r}}Ae(uc,Jr);class dc extends Qa{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",t=>"ck-dropdown__panel_"+t),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to(t=>t.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}function hc({element:t,target:e,positions:n,limiter:r,fitInViewport:o}){E(e)&&(e=e()),E(r)&&(r=r());const i=function(t){return t&&t.parentNode?t.offsetParent===Hr.document.body?null:t.offsetParent:null}(t),s=new Fo(t),a=new Fo(e);let c,l;if(r||o){const t=function(t,e){const{elementRect:n,viewportRect:r}=e,o=n.getArea(),i=function(t,{targetRect:e,elementRect:n,limiterRect:r,viewportRect:o}){const i=[],s=n.getArea();for(const a of t){const t=fc(a,e,n);if(!t)continue;const[c,l]=t;let u=0,d=0;if(r)if(o){const t=r.getIntersection(o);t&&(u=t.getIntersectionArea(l))}else u=r.getIntersectionArea(l);o&&(d=o.getIntersectionArea(l));const h={positionName:c,positionRect:l,limiterIntersectArea:u,viewportIntersectArea:d};if(u===s)return[h];i.push(h)}return i}(t,e);if(r){const t=pc(i.filter(({viewportIntersectArea:t})=>t===o),o);if(t)return t}return pc(i,o)}(n,{targetRect:a,elementRect:s,limiterRect:r&&new Fo(r).getVisible(),viewportRect:o&&new Fo(Hr.window)});[l,c]=t||fc(n[0],a,s)}else[l,c]=fc(n[0],a,s);let u=gc(c);return i&&(u=function({left:t,top:e},n){const r=gc(new Fo(n)),o=jo(n);return t-=r.left,e-=r.top,t+=n.scrollLeft,e+=n.scrollTop,{left:t-=o.left,top:e-=o.top}}(u,i)),{left:u.left,top:u.top,name:l}}function fc(t,e,n){const r=t(e,n);if(!r)return null;const{left:o,top:i,name:s}=r;return[s,n.clone().moveTo(o,i)]}function pc(t,e){let n,r,o=0;for(const{positionName:i,positionRect:s,limiterIntersectArea:a,viewportIntersectArea:c}of t){if(a===e)return[i,s];const t=c**2+a**2;t>o&&(o=t,n=s,r=i)}return n?[r,n]:null}function gc({left:t,top:e}){const{scrollX:n,scrollY:r}=Hr.window;return{left:t+n,top:e+r}}n(23);class mc extends Qa{constructor(t,e,n){super(t);const r=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.keystrokes=new ha,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",t=>!t)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&(this.panelView.position="auto"===this.panelPosition?mc._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element);const t=(t,e)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,e())};this.keystrokes.set("arrowdown",(t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())}),this.keystrokes.set("arrowright",(t,e)=>{this.isOpen&&e()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:t,southWest:e,northEast:n,northWest:r}=mc.defaultPanelPositions;return"ltr"===this.locale.uiLanguageDirection?[t,e,n,r]:[e,t,r,n]}}mc.defaultPanelPositions={southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.bottom-e.height,left:t.left-e.width+t.width,name:"nw"})},mc._getOptimalPosition=hc,n(25);class bc extends Qa{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");for(e&&(this.viewBox=e),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}n(27);class wc extends Qa{constructor(t){super(t),this.set("text",""),this.set("position","s");const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",t=>"ck-tooltip_"+t),e.if("text","ck-hidden",t=>!t.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]})}}n(29);class _c extends Qa{constructor(t){super(t);const e=this.bindTemplate,n=he();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new bc,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("isVisible","ck-hidden",t=>!t),e.to("isOn",t=>t?"ck-on":"ck-off"),e.if("withText","ck-button_with-text"),e.if("withKeystroke","ck-button_with-keystroke")],type:e.to("type",t=>t||"button"),tabindex:e.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+n,"aria-disabled":e.if("isEnabled",!0,t=>!t),"aria-pressed":e.to("isOn",t=>!!this.isToggleable&&String(t))},children:this.children,on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(t=>{this.isEnabled?this.fire("execute"):t.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const t=new wc;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}_createLabelView(t){const e=new Qa;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:"ck-editor__aria-label_"+t},children:[{text:this.bindTemplate.to("label")}]}),e}_createKeystrokeView(){const t=new Qa;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>or(t))}]}),t}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=or(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}var vc='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class yc extends _c{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new bc;return t.content=vc,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}n(31);class kc extends Qa{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new ya,this.keystrokes=new ha,this._focusCycler=new sc({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Cc extends Qa{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class xc extends Qa{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}n(33);class Ac extends _c{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Qa;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}function Ec({emitter:t,activator:e,callback:n,contextElements:r}){t.listenTo(document,"mousedown",(t,{target:o})=>{if(e()){for(const t of r)if(t.contains(o))return;n()}})}function Sc(t,e=yc){const n=new e(t),r=new dc(t),o=new mc(t,n,r);return n.bind("isEnabled").to(o),n instanceof yc?n.bind("isOn").to(o,"isOpen"):n.arrowView.bind("isOn").to(o,"isOpen"),function(t){(function(t){t.on("render",()=>{Ec({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:[t.element]})})})(t),function(t){t.on("execute",e=>{e.source instanceof Ac||(t.isOpen=!1)})}(t),function(t){t.keystrokes.set("arrowdown",(e,n)=>{t.isOpen&&(t.panelView.focus(),n())}),t.keystrokes.set("arrowup",(e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())})}(t)}(o),o}function Tc(t,e){const n=t.locale,r=t.listView=new kc(n);r.items.bindTo(e).using(({type:t,model:e})=>{if("separator"===t)return new xc(n);if("button"===t||"switchbutton"===t){const r=new Cc(n);let o;return o="button"===t?new _c(n):new Ac(n),o.bind(...Object.keys(e)).to(e),o.delegate("execute").to(r),r.children.add(o),r}}),t.panelView.children.add(r),r.items.delegate("execute").to(t)}n(35),n(37),n(39);class Pc extends Qa{constructor(t,e){super(t);const n=this.bindTemplate,r=this.t;var o;this.options=e||{},this.set("ariaLabel",r("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new ya,this.keystrokes=new ha,this.set("class"),this.set("isCompact",!1),this.itemsView=new Mc(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection(),this._focusCycler=new sc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:(o=this,o.bindTemplate.to(t=>{t.target===o.element&&t.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Ic(this):new Oc(this)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e){this.items.addMany(t.map(t=>"|"==t?new cc:e.has(t)?e.create(t):void console.warn(Object(pe.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:t})).filter(t=>void 0!==t))}}class Mc extends Qa{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Oc{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(t=>t),t.focusables.bindTo(t.items).using(t=>t),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Ic{constructor(t){this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,t.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(t,e)=>{const n=e.index;for(const r of e.removed)n>=this.ungroupedItems.length?this.groupedItems.remove(r):this.ungroupedItems.remove(r);for(let r=n;r<n+e.added.length;r++){const t=e.added[r-n];r>this.ungroupedItems.length?this.groupedItems.add(t,r-this.ungroupedItems.length):this.ungroupedItems.add(t,r)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!this.viewElement.offsetParent)return void(this.shouldUpdateGroupingOnNextResize=!0);let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new Fo(t.lastChild),r=new Fo(t);if(!this.cachedPadding){const n=Hr.window.getComputedStyle(t);this.cachedPadding=Number.parseInt(n["ltr"===e?"paddingRight":"paddingLeft"])}return"ltr"===e?n.right>r.right-this.cachedPadding:n.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new lc(this.viewElement,e=>{t&&t===e.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new cc),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=Sc(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",function(t,e){const n=t.locale,r=n.t,o=t.toolbarView=new Pc(n);o.set("ariaLabel",r("Dropdown toolbar")),t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),[].map(t=>o.items.add(t)),t.panelView.children.add(o),o.items.delegate("execute").to(t)}(n),n.buttonView.set({label:e("Show more items"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),n.toolbarView.items.bindTo(this.groupedItems).using(t=>t),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}n(41);class Dc extends tc{constructor(t,e,n={}){super(t),this.stickyPanel=new ic(t),this.toolbar=new Pc(t,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new nc(t,e)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Nc extends pa{constructor(t,e){super(e),se(t)&&(this.sourceElement=t),this.data.processor=new wa(this.data.viewDocument),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=new Dc(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new Ta(this,r),function(t){if(!E(t.updateSourceElement))throw new pe.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",t);const e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){let n;const r=e.form,o=()=>t.updateSourceElement();E(r.submit)&&(n=r.submit,r.submit=()=>{o(),n.apply(r)}),r.addEventListener("submit",o),t.on("destroy",()=>{r.removeEventListener("submit",o),n&&(r.submit=n)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise(n=>{const r=new this(t,e);n(r.initPlugins().then(()=>r.ui.init(se(t)?t:null)).then(()=>{if(!se(t)&&e.initialData)throw new pe.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);const n=e.initialData||function(t){return se(t)?(e=t)instanceof HTMLTextAreaElement?e.value:e.innerHTML:t;var e}(t);return r.data.init(n)}).then(()=>r.fire("ready")).then(()=>r))})}}Ae(Nc,ga),Ae(Nc,ma);class Rc{constructor(t){this.editor=t,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",jc,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",jc),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function jc(t){t.return=!1,t.stop()}Ae(Rc,En);class Lc{constructor(t){this.files=function(t){const e=t.files?Array.from(t.files):[],n=t.items?Array.from(t.items):[];return e.length?e:n.filter(t=>"file"===t.kind).map(t=>t.getAsFile())}(t),this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}}class Fc extends wo{constructor(t){super(t);const e=this.document;function n(t,n){n.preventDefault();const r=n.dropRange?[n.dropRange]:Array.from(e.selection.getRanges()),o=new ue(e,"clipboardInput");e.fire(o,{dataTransfer:n.dataTransfer,targetRanges:r}),o.stop.called&&n.stopPropagation()}this.domEventType=["paste","copy","cut","drop","dragover"],this.listenTo(e,"paste",n,{priority:"low"}),this.listenTo(e,"drop",n,{priority:"low"})}onDomEvent(t){const e={dataTransfer:new Lc(t.clipboardData?t.clipboardData:t.dataTransfer)};"drop"==t.type&&(e.dropRange=function(t,e){const n=e.target.ownerDocument,r=e.clientX,o=e.clientY;let i;return n.caretRangeFromPoint&&n.caretRangeFromPoint(r,o)?i=n.caretRangeFromPoint(r,o):e.rangeParent&&(i=n.createRange(),i.setStart(e.rangeParent,e.rangeOffset),i.collapse(!0)),i?t.domConverter.domRangeToView(i):t.document.selection.getFirstRange()}(this.view,t)),this.fire(t.type,t,e)}}const Vc=["figcaption","li"];class Bc extends Rc{static get pluginName(){return"Clipboard"}init(){const t=this.editor,e=t.model.document,n=t.editing.view,r=n.document;function o(n,o){const i=o.dataTransfer;o.preventDefault();const s=t.data.toView(t.model.getSelectedContent(e.selection));r.fire("clipboardOutput",{dataTransfer:i,content:s,method:n.name})}this._htmlDataProcessor=new wa(r),n.addObserver(Fc),this.listenTo(r,"clipboardInput",e=>{t.isReadOnly&&e.stop()},{priority:"highest"}),this.listenTo(r,"clipboardInput",(t,e)=>{const r=e.dataTransfer;let o="";var i;r.getData("text/html")?o=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>1==e.length?" ":e)}(r.getData("text/html")):r.getData("text/plain")&&((i=(i=r.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(i=`<p>${i}</p>`),o=i),o=this._htmlDataProcessor.toView(o);const s=new ue(this,"inputTransformation");this.fire(s,{content:o,dataTransfer:r}),s.stop.called&&t.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(t,e)=>{if(!e.content.isEmpty){const n=this.editor.model,r=this.editor.data.toModel(e.content,"$clipboardHolder");if(0==r.childCount)return;n.insertContent(r),t.stop()}},{priority:"low"}),this.listenTo(r,"copy",o,{priority:"low"}),this.listenTo(r,"cut",(e,n)=>{t.isReadOnly?n.preventDefault():o(e,n)},{priority:"low"}),this.listenTo(r,"clipboardOutput",(n,r)=>{r.content.isEmpty||(r.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(r.content)),r.dataTransfer.setData("text/plain",function t(e){let n="";if(e.is("$text")||e.is("$textProxy"))n=e.data;else if(e.is("element","img")&&e.hasAttribute("alt"))n=e.getAttribute("alt");else{let r=null;for(const o of e.getChildren()){const e=t(o);r&&(r.is("containerElement")||o.is("containerElement"))&&(Vc.includes(r.name)||Vc.includes(o.name)?n+="\n":n+="\n\n"),n+=e,r=o}}return n}(r.content))),"cut"==r.method&&t.model.deleteContent(e.selection)},{priority:"low"})}}class zc{constructor(t){this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(t,"change:isReadOnly",(t,e,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",Uc,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",Uc),this.refresh())}execute(){}destroy(){this.stopListening()}}function Uc(t){t.return=!1,t.stop()}function*Hc(t,e){for(const n of e)n&&t.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}Ae(zc,En);class qc extends zc{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n,r){const o=n.isCollapsed,i=n.getFirstRange(),s=i.start.parent,a=i.end.parent;if(r.isLimit(s)||r.isLimit(a))o||s!=a||t.deleteContent(n);else if(o){const t=Hc(e.model.schema,n.getAttributes());$c(e,i.start),e.setSelectionAttribute(t)}else{const r=!(i.start.isAtStart&&i.end.isAtEnd),o=s==a;t.deleteContent(n,{leaveUnmerged:r}),r&&(o?$c(e,n.focus):e.setSelection(a,0))}}(this.editor.model,n,e.selection,t.schema),this.fire("afterExecute",{writer:n})})}}function $c(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}class Wc extends eo{constructor(t){super(t);const e=this.document;e.on("keydown",(t,n)=>{if(this.isEnabled&&n.keyCode==er.enter){let r;e.once("enter",t=>r=t,{priority:"highest"}),e.fire("enter",new bo(e,n.domEvent,{isSoft:n.shiftKey})),r&&r.stop.called&&t.stop()}})}observe(){}}class Gc extends Rc{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(Wc),t.commands.add("enter",new qc(t)),this.listenTo(n,"enter",(n,r)=>{r.preventDefault(),r.isSoft||(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"})}}class Yc extends zc{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n){const r=n.isCollapsed,o=n.getFirstRange(),i=o.end.parent,s=o.start.parent==i;if(r){const r=Hc(t.schema,n.getAttributes());Qc(t,e,o.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(r)}else{const r=!(o.start.isAtStart&&o.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:r}),s?Qc(t,e,n.focus):r&&e.setSelection(i,0)}}(t,n,e.selection),this.fire("afterExecute",{writer:n})})}refresh(){const t=this.editor.model;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const r=e.getFirstRange(),o=r.start.parent,i=r.end.parent;return!Zc(o,t)&&!Zc(i,t)||o===i}(t.schema,t.document.selection)}}function Qc(t,e,n){const r=e.createElement("softBreak");t.insertContent(r,n),e.setSelection(r,"after")}function Zc(t,e){return!t.is("rootElement")&&(e.isLimit(t)||Zc(t.parent,e))}class Kc extends Rc{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.conversion,n=t.editing.view,r=n.document;t.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),e.for("upcast").elementToElement({model:"softBreak",view:"br"}),e.for("downcast").elementToElement({model:"softBreak",view:(t,e)=>e.createEmptyElement("br")}),n.addObserver(Wc),t.commands.add("shiftEnter",new Yc(t)),this.listenTo(r,"enter",(e,r)=>{r.preventDefault(),r.isSoft&&(t.execute("shiftEnter"),n.scrollToTheSelection())},{priority:"low"})}}class Jc extends zc{execute(){const t=this.editor.model,e=t.document.selection;let n=t.schema.getLimitElement(e);if(e.containsEntireContent(n)||!Xc(t.schema,n))do{if(n=n.parent,!n)return}while(!Xc(t.schema,n));t.change(t=>{t.setSelection(n,"in")})}}function Xc(t,e){return t.isLimit(e)&&(t.checkChild(e,"$text")||t.checkChild(e,"paragraph"))}const tl=rr("Ctrl+A");class el extends Rc{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,e=t.editing.view.document;t.commands.add("selectAll",new Jc(t)),this.listenTo(e,"keydown",(e,n)=>{nr(n)===tl&&(t.execute("selectAll"),n.preventDefault())})}}class nl extends Rc{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",e=>{const n=t.commands.get("selectAll"),r=new _c(e);return r.set({label:(0,e.t)("Select all"),icon:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),r.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(r,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),r})}}class rl extends Rc{static get requires(){return[el,nl]}static get pluginName(){return"SelectAll"}}class ol{constructor(t,e=20){this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=(t,e)=>{"transparent"!=e.type&&e!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}class il extends zc{constructor(t,e){super(t),this._buffer=new ol(t.model,e),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,r=t.text||"",o=r.length,i=t.range?e.createSelection(t.range):n.selection,s=t.resultRange;e.enqueueChange(this._buffer.batch,t=>{this._buffer.lock(),this._batches.add(this._buffer.batch),e.deleteContent(i),r&&e.insertContent(t.createText(r,n.selection.getAttributes()),i),s?t.setSelection(s):i.is("documentSelection")||t.setSelection(i),this._buffer.unlock(),this._buffer.input(o)})}}const sl=[nr("arrowUp"),nr("arrowRight"),nr("arrowDown"),nr("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let jg=112;jg<=135;jg++)sl.push(jg);function al(t){return!!t.ctrlKey||sl.includes(t.keyCode)}function cl(t){if(t.newChildren.length-t.oldChildren.length!=1)return;const e=function(t,e){const n=[];let r,o=0;return t.forEach(t=>{"equal"==t?(i(),o++):"insert"==t?(s("insert")?r.values.push(e[o]):(i(),r={type:"insert",index:o,values:[e[o]]}),o++):s("delete")?r.howMany++:(i(),r={type:"delete",index:o,howMany:1})}),i(),n;function i(){r&&(n.push(r),r=null)}function s(t){return r&&r.type==t}}(Rr(t.oldChildren,t.newChildren,ll),t.newChildren);if(e.length>1)return;const n=e[0];return n.values[0]&&n.values[0].is("$text")?n:void 0}function ll(t,e){return t&&t.is("$text")&&e&&e.is("$text")?t.data===e.data:t===e}class ul{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(t,e){if(function(t){if(0==t.length)return!1;for(const e of t)if("children"===e.type&&!cl(e))return!0;return!1}(t))this._handleContainerChildrenMutations(t,e);else for(const n of t)this._handleTextMutation(n,e),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(t,e){const n=function(t){const e=t.map(t=>t.node).reduce((t,e)=>t.getCommonAncestor(e,{includeSelf:!0}));if(e)return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(t=>t.is("containerElement")||t.is("rootElement"))}(t);if(!n)return;const r=this.editor.editing.view.domConverter.mapViewToDom(n),o=new Gr(this.editor.editing.view.document),i=this.editor.data.toModel(o.domToView(r)).getChild(0),s=this.editor.editing.mapper.toModelElement(n);if(!s)return;const a=Array.from(i.getChildren()),c=Array.from(s.getChildren()),l=a[a.length-1],u=c[c.length-1],d=l&&l.is("element","softBreak"),h=u&&!u.is("element","softBreak");d&&h&&a.pop();const f=this.editor.model.schema;if(!dl(a,f)||!dl(c,f))return;const p=a.map(t=>t.is("$text")?t.data:"@").join("").replace(/\u00A0/g," "),g=c.map(t=>t.is("$text")?t.data:"@").join("").replace(/\u00A0/g," ");if(g===p)return;const m=Rr(g,p),{firstChangeAt:b,insertions:w,deletions:_}=hl(m);let v=null;e&&(v=this.editing.mapper.toModelRange(e.getFirstRange()));const y=p.substr(b,w),k=this.editor.model.createRange(this.editor.model.createPositionAt(s,b),this.editor.model.createPositionAt(s,b+_));this.editor.execute("input",{text:y,range:k,resultRange:v})}_handleTextMutation(t,e){if("text"!=t.type)return;const n=t.newText.replace(/\u00A0/g," "),r=t.oldText.replace(/\u00A0/g," ");if(r===n)return;const o=Rr(r,n),{firstChangeAt:i,insertions:s,deletions:a}=hl(o);let c=null;e&&(c=this.editing.mapper.toModelRange(e.getFirstRange()));const l=this.editing.view.createPositionAt(t.node,i),u=this.editing.mapper.toModelPosition(l),d=this.editor.model.createRange(u,u.getShiftedBy(a)),h=n.substr(i,s);this.editor.execute("input",{text:h,range:d,resultRange:c})}_handleTextNodeInsertion(t){if("children"!=t.type)return;const e=cl(t),n=this.editing.view.createPositionAt(t.node,e.index),r=this.editing.mapper.toModelPosition(n);this.editor.execute("input",{text:e.values[0].data.replace(/\u00A0/g," "),range:this.editor.model.createRange(r)})}}function dl(t,e){return t.every(t=>e.isInline(t))}function hl(t){let e=null,n=null;for(let i=0;i<t.length;i++)"equal"!=t[i]&&(e=null===e?i:e,n=i);let r=0,o=0;for(let i=e;i<=n;i++)"insert"!=t[i]&&r++,"delete"!=t[i]&&o++;return{insertions:o,deletions:r,firstChangeAt:e}}class fl extends Rc{static get pluginName(){return"Input"}init(){const t=this.editor,e=new il(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),function(t){let e=null;const n=t.model,r=t.editing.view,o=t.commands.get("input");function i(t){const i=n.document,a=r.document.isComposing,c=e&&e.isEqual(i.selection);e=null,o.isEnabled&&(al(t)||i.selection.isCollapsed||a&&229===t.keyCode||!a&&229===t.keyCode&&c||s())}function s(){const t=o.buffer;t.lock();const e=t.batch;o._batches.add(e),n.enqueueChange(e,()=>{n.deleteContent(n.document.selection)}),t.unlock()}r.document.on(Jn?"beforeinput":"keydown",(t,e)=>i(e),{priority:"lowest"}),r.document.on("compositionstart",(function(){const t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;t.selection.isCollapsed||e||s()}),{priority:"lowest"}),r.document.on("compositionend",()=>{e=n.createSelection(n.document.selection)},{priority:"lowest"})}(t),function(t){t.editing.view.document.on("mutations",(e,n,r)=>{new ul(t).handle(n,r)})}(t)}isInput(t){return this.editor.commands.get("input")._batches.has(t)}}class pl extends zc{constructor(t,e){super(t),this.direction=e,this._buffer=new ol(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,r=>{this._buffer.lock();const o=r.createSelection(t.selection||n.selection),i=o.isCollapsed;if(o.isCollapsed&&e.modifySelection(o,{direction:this.direction,unit:t.unit}),this._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))return void this._replaceEntireContentWithParagraph(r);if(o.isCollapsed)return;let s=0;o.getFirstRange().getMinimalFlatRanges().forEach(t=>{s+=Vn(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(o,{doNotResetEntireContent:i,direction:this.direction}),this._buffer.input(s),r.setSelection(o),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,r=e.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(r))return!1;if(!e.schema.checkChild(r,"paragraph"))return!1;const o=r.getChild(0);return!o||"paragraph"!==o.name}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.schema.getLimitElement(e.document.selection),r=t.createElement("paragraph");t.remove(t.createRangeIn(n)),t.insert(r,n),t.setSelection(r,0)}}class gl extends eo{constructor(t){super(t);const e=t.document;let n=0;function r(t,n,r){let o;e.once("delete",t=>o=t,{priority:Number.POSITIVE_INFINITY}),e.fire("delete",new bo(e,n,r)),o&&o.stop.called&&t.stop()}e.on("keyup",(t,e)=>{e.keyCode!=er.delete&&e.keyCode!=er.backspace||(n=0)}),e.on("keydown",(t,e)=>{const o={};if(e.keyCode==er.delete)o.direction="forward",o.unit="character";else{if(e.keyCode!=er.backspace)return;o.direction="backward",o.unit="codePoint"}o.unit=(Qn?e.altKey:e.ctrlKey)?"word":o.unit,o.sequence=++n,r(t,e.domEvent,o)}),Jn&&e.on("beforeinput",(e,n)=>{if("deleteContentBackward"!=n.domEvent.inputType)return;const o={unit:"codepoint",direction:"backward",sequence:1},i=n.domTarget.ownerDocument.defaultView.getSelection();i.anchorNode==i.focusNode&&i.anchorOffset+1!=i.focusOffset&&(o.selectionToRemove=t.domConverter.domSelectionToView(i)),r(e,n.domEvent,o)})}observe(){}}class ml extends Rc{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document;if(e.addObserver(gl),t.commands.add("forwardDelete",new pl(t,"forward")),t.commands.add("delete",new pl(t,"backward")),this.listenTo(n,"delete",(n,r)=>{const o={unit:r.unit,sequence:r.sequence};if(r.selectionToRemove){const e=t.model.createSelection(),n=[];for(const o of r.selectionToRemove.getRanges())n.push(t.editing.mapper.toModelRange(o));e.setTo(n),o.selection=e}t.execute("forward"==r.direction?"forwardDelete":"delete",o),r.preventDefault(),e.scrollToTheSelection()}),Jn){let t=null;this.listenTo(n,"delete",(e,n)=>{const r=n.domTarget.ownerDocument.defaultView.getSelection();t={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}},{priority:"lowest"}),this.listenTo(n,"keyup",(e,n)=>{if(t){const e=n.domTarget.ownerDocument.defaultView.getSelection();e.collapse(t.anchorNode,t.anchorOffset),e.extend(t.focusNode,t.focusOffset),t=null}})}}}class bl extends Rc{static get requires(){return[fl,ml]}static get pluginName(){return"Typing"}}const wl=new Map;function _l(t,e,n){let r=wl.get(t);r||(r=new Map,wl.set(t,r)),r.set(e,n)}function vl(t){return[t]}function yl(t,e,n={}){const r=function(t,e){const n=wl.get(t);return n&&n.has(e)?n.get(e):vl}(t.constructor,e.constructor);try{return r(t=t.clone(),e,n)}catch(t){throw t}}function kl(t,e,n){t=t.slice(),e=e.slice();const r=new Cl(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(t),r.setOriginalOperations(e);const o=r.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:o};const i=new WeakMap;for(const c of t)i.set(c,0);const s={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let a=0;for(;a<t.length;){const n=t[a],o=i.get(n);if(o==e.length){a++;continue}const s=e[o],c=yl(n,s,r.getContext(n,s,!0)),l=yl(s,n,r.getContext(s,n,!1));r.updateRelation(n,s),r.setOriginalOperations(c,n),r.setOriginalOperations(l,s);for(const t of c)i.set(t,o+l.length);t.splice(a,1,...c),e.splice(o,1,...l)}if(n.padWithNoOps){const n=t.length-s.originalOperationsACount,r=e.length-s.originalOperationsBCount;Al(t,r-n),Al(e,n-r)}return xl(t,s.nextBaseVersionB),xl(e,s.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:o}}class Cl{constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const r of t)this.originalOperations.set(r,n||r)}updateRelation(t,e){switch(t.constructor){case Cs:switch(e.constructor){case Ts:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case Cs:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter")}break;case Ps:switch(e.constructor){case Ts:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case Cs:(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))&&this._setRelation(t,e,"splitBefore")}break;case Ts:switch(e.constructor){case Ts:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case Ps:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case As:{const n=t.newRange;if(!n)return;switch(e.constructor){case Cs:{const r=li._createFromPositionAndShift(e.sourcePosition,e.howMany),o=r.containsPosition(n.start)||r.start.isEqual(n.start),i=r.containsPosition(n.end)||r.end.isEqual(n.end);!o&&!i||r.containsRange(n)||this._setRelation(t,e,{side:o?"left":"right",path:o?n.start.path.slice():n.end.path.slice()});break}case Ts:{const r=n.start.isEqual(e.targetPosition),o=n.start.isEqual(e.deletionPosition),i=n.end.isEqual(e.deletionPosition),s=n.end.isEqual(e.sourcePosition);(r||o||i||s)&&this._setRelation(t,e,{wasInLeftElement:r,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:i,wasInRightElement:s});break}}break}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),r=this._history.getUndoneOperation(n);if(!r)return null;const o=this.originalOperations.get(t),i=this._relations.get(o);return i&&i.get(r)||null}_setRelation(t,e,n){const r=this.originalOperations.get(t),o=this.originalOperations.get(e);let i=this._relations.get(r);i||(i=new Map,this._relations.set(r,i)),i.set(o,n)}}function xl(t,e){for(const n of t)n.baseVersion=e++}function Al(t,e){for(let n=0;n<e;n++)t.push(new Ys(0))}function El(t,e,n){const r=t.nodes.getNode(0).getAttribute(e);if(r==n)return null;const o=new li(t.position,t.position.getShiftedBy(t.howMany));return new ys(o,e,r,n,0)}function Sl(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function Tl(t,e){const n=[];for(let r=0;r<t.length;r++){const o=t[r],i=new Cs(o.start,o.end.offset-o.start.offset,e,0);n.push(i);for(let e=r+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];e=e._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}return n}_l(ys,ys,(t,e,n)=>{if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){const r=t.range.getDifference(e.range).map(e=>new ys(e,t.key,t.oldValue,t.newValue,0)),o=t.range.getIntersection(e.range);return o&&n.aIsStrong&&r.push(new ys(o,e.key,e.newValue,t.newValue,0)),0==r.length?[new Ys(0)]:r}return[t]}),_l(ys,xs,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(e=>new ys(e,t.key,t.oldValue,t.newValue,t.baseVersion));if(e.shouldReceiveAttributes){const r=El(e,t.key,t.oldValue);r&&n.unshift(r)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]}),_l(ys,Ts,(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(li._createFromPositionAndShift(e.graveyardPosition,1));const r=t.range._getTransformedByMergeOperation(e);return r.isCollapsed||n.push(r),n.map(e=>new ys(e,t.key,t.oldValue,t.newValue,t.baseVersion))}),_l(ys,Cs,(t,e)=>function(t,e){const n=li._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=null,o=[];n.containsRange(t,!0)?r=t:t.start.hasSameParentAs(n.start)?(o=t.getDifference(n),r=t.getIntersection(n)):o=[t];const i=[];for(let s of o){s=s._getTransformedByDeletion(e.sourcePosition,e.howMany);const t=e.getMovedRangeStart(),n=s.start.hasSameParentAs(t);s=s._getTransformedByInsertion(t,e.howMany,n),i.push(...s)}return r&&i.push(r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),i}(t.range,e).map(e=>new ys(e,t.key,t.oldValue,t.newValue,t.baseVersion))),_l(ys,Ps,(t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new li(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]}),_l(xs,ys,(t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const r=El(t,e.key,e.newValue);r&&n.push(r)}return n}),_l(xs,xs,(t,e,n)=>(t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t])),_l(xs,Cs,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),_l(xs,Ps,(t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t])),_l(xs,Ts,(t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t])),_l(As,xs,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t])),_l(As,As,(t,e,n)=>{if(t.name==e.name){if(!n.aIsStrong)return[new Ys(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]}),_l(As,Ts,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t])),_l(As,Cs,(t,e,n)=>{if(t.oldRange&&(t.oldRange=li._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){const r=li._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=n.abRelation.path,t.newRange.end=r.end,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=r.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=li._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]}),_l(As,Ps,(t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const r=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=ii._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=ii._createAt(e.moveTargetPosition)),t.newRange.end=t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?ii._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?ii._createAt(e.insertionPosition):r.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]}),_l(Ts,xs,(t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t])),_l(Ts,Ts,(t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new ii(e.graveyardPosition.root,n),t.howMany=0,[t]}return[new Ys(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const r="$graveyard"==t.targetPosition.root.rootName,o="$graveyard"==e.targetPosition.root.rootName,i=r&&!o;if(o&&!r||!i&&n.aIsStrong){const n=e.targetPosition._getTransformedByMergeOperation(e),r=t.targetPosition._getTransformedByMergeOperation(e);return[new Cs(n,t.howMany,r,0)]}return[new Ys(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),_l(Ts,Cs,(t,e,n)=>{const r=li._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition)?[new Ys(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])}),_l(Ts,Ps,(t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const r=0!=e.howMany,o=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(r||o||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}),_l(Cs,xs,(t,e)=>{const n=li._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]}),_l(Cs,Cs,(t,e,n)=>{const r=li._createFromPositionAndShift(t.sourcePosition,t.howMany),o=li._createFromPositionAndShift(e.sourcePosition,e.howMany);let i,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),i=t.targetPosition.isEqual(e.targetPosition)&&a?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Sl(t,e)&&Sl(e,t))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(o,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Tl([r],i);if(o.containsPosition(t.targetPosition)&&o.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Tl([r],i);const c=Ie(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==c||"extension"==c)return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Tl([r],i);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;const l=[],u=r.getDifference(o);for(const h of u){h.start=h.start._getTransformedByDeletion(e.sourcePosition,e.howMany),h.end=h.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const t="same"==Ie(h.start.getParentPath(),e.getMovedRangeStart().getParentPath()),n=h._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,t);l.push(...n)}const d=r.getIntersection(o);return null!==d&&s&&(d.start=d.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),d.end=d.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===l.length?l.push(d):1==l.length?o.start.isBefore(r.start)||o.start.isEqual(r.start)?l.unshift(d):l.push(d):l.splice(1,0,d)),0===l.length?[new Ys(t.baseVersion)]:Tl(l,i)}),_l(Cs,Ps,(t,e,n)=>{let r=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=t.targetPosition._getTransformedBySplitOperation(e));const o=li._createFromPositionAndShift(t.sourcePosition,t.howMany);if(o.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=r,[t];if(o.start.hasSameParentAs(e.splitPosition)&&o.containsPosition(e.splitPosition)){let t=new li(e.splitPosition,o.end);return t=t._getTransformedBySplitOperation(e),Tl([new li(o.start,e.splitPosition),t],r)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(r=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(r=t.targetPosition);const i=[o._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const r=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);t.howMany>1&&r&&!n.aWasUndone&&i.push(li._createFromPositionAndShift(e.insertionPosition,1))}return Tl(i,r)}),_l(Cs,Ts,(t,e,n)=>{const r=li._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new Ys(0)]}else if(!n.aWasUndone){const n=[];let r=e.graveyardPosition.clone(),o=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(n.push(new Cs(t.sourcePosition,t.howMany-1,t.targetPosition,0)),r=r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),o=o._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const i=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),s=new Cs(r,1,i,0),a=s.getMovedRangeStart().path.slice();a.push(0);const c=new ii(s.targetPosition.root,a);o=o._getTransformedByMove(r,i,1);const l=new Cs(o,e.howMany,c,0);return n.push(s),n.push(l),n}const o=li._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=o.start,t.howMany=o.end.offset-o.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]}),_l(Es,xs,(t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t])),_l(Es,Ts,(t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])),_l(Es,Cs,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),_l(Es,Es,(t,e,n)=>{if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new Ys(0)];t.oldName=e.newName}return[t]}),_l(Es,Ps,(t,e)=>{if("same"==Ie(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){const e=new Es(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,e]}return t.position=t.position._getTransformedBySplitOperation(e),[t]}),_l(Ss,Ss,(t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new Ys(0)];t.oldValue=e.newValue}return[t]}),_l(Ps,xs,(t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=Ps.getInsertionPosition(t.splitPosition),[t])),_l(Ps,Ts,(t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const r=new ii(e.graveyardPosition.root,n),o=Ps.getInsertionPosition(new ii(e.graveyardPosition.root,n)),i=new Ps(r,0,null,0);return i.insertionPosition=o,t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Ps.getInsertionPosition(t.splitPosition),t.graveyardPosition=i.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[i,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=Ps.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),_l(Ps,Cs,(t,e,n)=>{const r=li._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const o=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&o){const n=t.splitPosition._getTransformedByMoveOperation(e),r=t.graveyardPosition._getTransformedByMoveOperation(e),o=r.path.slice();o.push(0);const i=new ii(r.root,o);return[new Cs(n,t.howMany,i,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}return t.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.splitPosition)?(t.howMany-=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=Ps.getInsertionPosition(t.splitPosition),[t]):!t.splitPosition.isEqual(e.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.insertionPosition=t.graveyardPosition?t.insertionPosition._getTransformedByMoveOperation(e):Ps.getInsertionPosition(t.splitPosition),[t]):(t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=Ps.getInsertionPosition(t.splitPosition),[t])}),_l(Ps,Ps,(t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new Ys(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new Ys(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const r="$graveyard"==t.splitPosition.root.rootName,o="$graveyard"==e.splitPosition.root.rootName,i=r&&!o;if(o&&!r||!i&&n.aIsStrong){const n=[];return e.howMany&&n.push(new Cs(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&n.push(new Cs(t.splitPosition,t.howMany,t.moveTargetPosition,0)),n}return[new Ys(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){const n=e.insertionPosition.path.slice();n.push(0);const r=new ii(e.insertionPosition.root,n);return[t,new Cs(t.insertionPosition,1,r,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=Ps.getInsertionPosition(t.splitPosition),[t]});class Pl extends zc{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(t.data,"set",()=>this.clearStack())}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const r=this.editor.model,o=r.document,i=[],s=t.map(t=>t.getTransformedByOperations(n)),a=s.flat();for(const c of s){const t=c.filter(t=>!Ol(t,a));Ml(t);const e=t.find(t=>t.root!=o.graveyard);e&&i.push(e)}i.length&&r.change(t=>{t.setSelection(i,{backward:e})})}_undo(t,e){const n=this.editor.model,r=n.document;this._createdBatches.add(e);const o=t.operations.slice().filter(t=>t.isDocumentOperation);o.reverse();for(const i of o){const t=Array.from(r.history.getOperations(i.baseVersion+1)),o=kl([i.getReversed()],t,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const s of o)e.addOperation(s),n.applyOperation(s),r.history.setOperationAsUndone(i,s)}}}function Ml(t){t.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let e=1;e<t.length;e++){const n=t[e-1].getJoined(t[e],!0);n&&(e--,t.splice(e,2,n))}}function Ol(t,e){return e.some(e=>e!==t&&e.containsRange(t,!0))}class Il extends Pl{execute(t=null){const e=t?this._stack.findIndex(e=>e.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],r=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(r,()=>{this._undo(n.batch,r);const t=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,t),this.fire("revert",n.batch,r)}),this.refresh()}}class Dl extends Pl{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(e,()=>{const n=this.editor.model.document.history.getOperations(t.batch.operations[t.batch.operations.length-1].baseVersion+1);this._restoreSelection(t.selection.ranges,t.selection.isBackward,n),this._undo(t.batch,e)}),this.refresh()}}class Nl extends Rc{static get pluginName(){return"UndoEditing"}constructor(t){super(t),this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new Il(t),this._redoCommand=new Dl(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(t,e)=>{const n=e[0];if(!n.isDocumentOperation)return;const r=n.batch,o=this._redoCommand._createdBatches.has(r),i=this._undoCommand._createdBatches.has(r);this._batchRegistry.has(r)||"transparent"==r.type&&!o&&!i||(o?this._undoCommand.addBatch(r):i||(this._undoCommand.addBatch(r),this._redoCommand.clearStack()),this._batchRegistry.add(r))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,e,n)=>{this._redoCommand.addBatch(n)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}var Rl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',jl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Ll extends Rc{init(){const t=this.editor,e=t.locale,n=t.t,r="ltr"==e.uiLanguageDirection?Rl:jl,o="ltr"==e.uiLanguageDirection?jl:Rl;this._addButton("undo",n("Undo"),"CTRL+Z",r),this._addButton("redo",n("Redo"),"CTRL+Y",o)}_addButton(t,e,n,r){const o=this.editor;o.ui.componentFactory.add(t,i=>{const s=o.commands.get(t),a=new _c(i);return a.set({label:e,icon:r,keystroke:n,tooltip:!0}),a.bind("isEnabled").to(s,"isEnabled"),this.listenTo(a,"execute",()=>{o.execute(t),o.editing.view.focus()}),a})}}class Fl extends Rc{static get requires(){return[Nl,Ll]}static get pluginName(){return"Undo"}}class Vl{constructor(t){this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}Ae(Vl,En);class Bl extends Vl{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Ee({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if("string"!=typeof t)throw new pe.b("pendingactions-add-invalid-message: The message must be a string.",this);const e=Object.create(En);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class zl{constructor(){const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise((n,r)=>{e.onload=()=>{const t=e.result;this._data=t,n(t)},e.onerror=()=>{r("error")},e.onabort=()=>{r("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}Ae(zl,En);class Ul extends Rc{static get pluginName(){return"FileRepository"}static get requires(){return[Bl]}init(){this.loaders=new Ee,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return console.warn(Object(pe.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;const e=new Hl(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then(t=>{this._loadersMap.set(t,e)}).catch(()=>{}),e.on("change:uploaded",()=>{let t=0;for(const e of this.loaders)t+=e.uploaded;this.uploaded=t}),e.on("change:uploadTotal",()=>{let t=0;for(const e of this.loaders)e.uploadTotal&&(t+=e.uploadTotal);this.uploadTotal=t}),e}destroyLoader(t){const e=t instanceof Hl?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach((t,n)=>{t===e&&this._loadersMap.delete(n)})}_updatePendingAction(){const t=this.editor.plugins.get(Bl);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=t=>`${e("Upload in progress")} ${parseInt(t)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}Ae(Ul,En);class Hl{constructor(t,e){this.id=he(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new zl,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new pe.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>{if("reading"!==this.status)throw this.status;return this.status="idle",t}).catch(t=>{if("aborted"===t)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:t})}upload(){if("idle"!=this.status)throw new pe.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{if("aborted"===this.status)throw"aborted";throw this.status="error",t})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise((n,r)=>{e.rejecter=r,e.isFulfilled=!1,t.then(t=>{e.isFulfilled=!0,n(t)}).catch(t=>{e.isFulfilled=!0,r(t)})}),e}}Ae(Hl,En);class ql extends Rc{static get requires(){return[Ul]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(Ul).createUploadAdapter=e=>new $l(e,t,this.editor.t))}}class $l{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return this.loader.file.then(t=>new Promise((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e,n){const r=this.xhr,o=this.loader,i=(0,this.t)("Cannot upload file:")+` ${n.name}.`;r.addEventListener("error",()=>e(i)),r.addEventListener("abort",()=>e()),r.addEventListener("load",()=>{const n=r.response;if(!n||!n.uploaded)return e(n&&n.error&&n.error.message?n.error.message:i);t({default:n.url})}),r.upload&&r.upload.addEventListener("progress",t=>{t.lengthComputable&&(o.uploadTotal=t.total,o.uploaded=t.loaded)})}_sendRequest(t){const e=new FormData;e.append("upload",t),e.append("ckCsrfToken",function(){let t=function(t){t=t.toLowerCase();const e=document.cookie.split(";");for(const n of e){const e=n.split("=");if(decodeURIComponent(e[0].trim().toLowerCase())===t)return decodeURIComponent(e[1])}return null}("ckCsrfToken");var e;return t&&40==t.length||(t=function(t){let e="";const n=new Uint8Array(40);window.crypto.getRandomValues(n);for(let r=0;r<n.length;r++){const t="abcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%"abcdefghijklmnopqrstuvwxyz0123456789".length);e+=Math.random()>.5?t.toUpperCase():t}return e}(),e=t,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(e)+";path=/"),t}()),this.xhr.send(e)}}function Wl(t){const e=t.next();return e.done?null:e.value}function Gl(t,e,n,r){let o,i=null;"function"==typeof r?o=r:(i=t.commands.get(r),o=()=>{t.execute(r)}),t.model.document.on("change:data",(r,s)=>{if(i&&!i.isEnabled||!e.isEnabled)return;const a=Wl(t.model.document.selection.getRanges());if(!a.isCollapsed)return;if("transparent"==s.type)return;const c=Array.from(t.model.document.differ.getChanges()),l=c[0];if(1!=c.length||"insert"!==l.type||"$text"!=l.name||1!=l.length)return;const u=l.position.parent;if(u.is("element","codeBlock"))return;if(i&&!0===i.value)return;const d=u.getChild(0),h=t.model.createRangeOn(d);if(!h.containsRange(a)&&!a.end.isEqual(h.end))return;const f=n.exec(d.data.substr(0,a.end.offset));f&&t.model.enqueueChange(t=>{const e=t.createPositionAt(u,0),n=t.createPositionAt(u,f[0].length),r=new vi(e,n);!1!==o({match:f})&&t.remove(r),r.detach()})})}function Yl(t,e,n,r){let o,i;n instanceof RegExp?o=n:i=n,i=i||(t=>{let e;const n=[],r=[];for(;null!==(e=o.exec(t))&&!(e&&e.length<4);){let{index:t,1:o,2:i,3:s}=e;t+=e[0].length-(o+i+s).length;const a=[t+o.length+i.length,t+o.length+i.length+s.length];n.push([t,t+o.length]),n.push(a),r.push([t+o.length,t+o.length+i.length])}return{remove:n,format:r}}),t.model.document.on("change:data",(n,o)=>{if("transparent"==o.type||!e.isEnabled)return;const s=t.model,a=s.document.selection;if(!a.isCollapsed)return;const c=Array.from(s.document.differ.getChanges()),l=c[0];if(1!=c.length||"insert"!==l.type||"$text"!=l.name||1!=l.length)return;const u=a.focus,d=u.parent,{text:h,range:f}=function(t,e){let n=t.start;return{text:Array.from(t.getItems()).reduce((t,r)=>!r.is("$text")&&!r.is("$textProxy")||r.getAttribute("code")?(n=e.createPositionAfter(r),""):t+r.data,""),range:e.createRange(n,t.end)}}(s.createRange(s.createPositionAt(d,0),u),s),p=i(h),g=Ql(f.start,p.format,s),m=Ql(f.start,p.remove,s);g.length&&m.length&&s.enqueueChange(t=>{if(!1!==r(t,g))for(const e of m.reverse())t.remove(e)})})}function Ql(t,e,n){return e.filter(t=>void 0!==t[0]&&void 0!==t[1]).map(e=>n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1])))}function Zl(t,e){return(n,r)=>{if(!t.commands.get(e).isEnabled)return!1;const o=t.model.schema.getValidRanges(r,e);for(const t of o)n.setAttribute(e,!0,t);n.removeSelectionAttribute(e)}}class Kl extends zc{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,r=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(n.isCollapsed)r?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const o=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of o)r?t.setAttribute(this.attributeKey,r,e):t.removeAttribute(this.attributeKey,e)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const r of n.getRanges())for(const t of r.getItems())if(e.checkAttribute(t,this.attributeKey))return t.hasAttribute(this.attributeKey);return!1}}class Jl extends Rc{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"bold"}),t.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",t=>{const e=t.getStyle("font-weight");return e?"bold"==e||Number(e)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add("bold",new Kl(t,"bold")),t.keystrokes.set("CTRL+B","bold")}}class Xl extends Rc{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("bold",n=>{const r=t.commands.get("bold"),o=new _c(n);return o.set({label:e("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(o,"execute",()=>{t.execute("bold"),t.editing.view.focus()}),o})}}class tu extends Rc{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"italic"}),t.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add("italic",new Kl(t,"italic")),t.keystrokes.set("CTRL+I","italic")}}class eu extends Rc{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("italic",n=>{const r=t.commands.get("italic"),o=new _c(n);return o.set({label:e("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(o,"execute",()=>{t.execute("italic"),t.editing.view.focus()}),o})}}class nu extends zc{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.schema,r=Array.from(e.document.selection.getSelectedBlocks()),o=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(o){const e=r.filter(t=>ru(t)||iu(n,t));this._applyQuote(t,e)}else this._removeQuote(t,r.filter(ru))})}_getValue(){const t=Wl(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!ru(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.schema,e=Wl(this.editor.model.document.selection.getSelectedBlocks());return!!e&&iu(t,e)}_removeQuote(t,e){ou(t,e).reverse().forEach(e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){const n=t.createPositionBefore(e.start.parent);return void t.move(e,n)}e.end.isAtEnd||t.split(e.end);const n=t.createPositionAfter(e.end.parent);t.move(e,n)})}_applyQuote(t,e){const n=[];ou(t,e).reverse().forEach(e=>{let r=ru(e.start);r||(r=t.createElement("blockQuote"),t.wrap(e,r)),n.push(r)}),n.reverse().reduce((e,n)=>e.nextSibling==n?(t.merge(t.createPositionAfter(e)),e):n)}}function ru(t){return"blockQuote"==t.parent.name?t.parent:null}function ou(t,e){let n,r=0;const o=[];for(;r<e.length;){const i=e[r],s=e[r+1];n||(n=t.createPositionBefore(i)),s&&i.nextSibling==s||(o.push(t.createRange(n,t.createPositionAfter(i))),n=null),r++}return o}function iu(t,e){const n=t.checkChild(e.parent,"blockQuote"),r=t.checkChild(["$root","blockQuote"],e);return n&&r}class su extends Rc{static get pluginName(){return"BlockQuoteEditing"}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new nu(t)),e.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),e.addChildCheck((t,e)=>{if(t.endsWith("blockQuote")&&"blockQuote"==e.name)return!1}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(n=>{const r=t.model.document.differ.getChanges();for(const t of r)if("insert"==t.type){const r=t.position.nodeAfter;if(!r)continue;if(r.is("element","blockQuote")&&r.isEmpty)return n.remove(r),!0;if(r.is("element","blockQuote")&&!e.checkChild(t.position,r))return n.unwrap(r),!0;if(r.is("element")){const t=n.createRangeIn(r);for(const r of t.getItems())if(r.is("element","blockQuote")&&!e.checkChild(n.createPositionBefore(r),r))return n.unwrap(r),!0}}else if("remove"==t.type){const e=t.position.parent;if(e.is("element","blockQuote")&&e.isEmpty)return n.remove(e),!0}return!1})}afterInit(){const t=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(e,n)=>{const r=this.editor.model.document,o=r.selection.getLastPosition().parent;r.selection.isCollapsed&&o.isEmpty&&t.value&&(this.editor.execute("blockQuote"),this.editor.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())})}}n(43);class au extends Rc{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",n=>{const r=t.commands.get("blockQuote"),o=new _c(n);return o.set({label:e("Block quote"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(o,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),o})}}class cu extends Rc{static get pluginName(){return"CKFinderUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("ckfinder",n=>{const r=t.commands.get("ckfinder"),o=new _c(n);return o.set({label:e("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),o.bind("isEnabled").to(r),o.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),o})}}class lu extends eo{observe(t){this.listenTo(t,"load",(t,e)=>{"IMG"==e.target.tagName&&this._fireEvents(e)},{useCapture:!0})}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class uu{constructor(){this._stack=[]}add(t,e){const n=this._stack,r=n[0];this._insertDescriptor(t);const o=n[0];r===o||du(r,o)||this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:e})}remove(t,e){const n=this._stack,r=n[0];this._removeDescriptor(t);const o=n[0];r===o||du(r,o)||this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t.id);if(du(t,e[n]))return;n>-1&&e.splice(n,1);let r=0;for(;e[r]&&hu(e[r],t);)r++;e.splice(r,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t);n>-1&&e.splice(n,1)}}function du(t,e){return t&&e&&t.priority==e.priority&&fu(t.classes)==fu(e.classes)}function hu(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&fu(t.classes)>fu(e.classes)}function fu(t){return Array.isArray(t)?t.sort().join(","):t}Ae(uu,be),n(45);const pu=rc("px"),gu=Hr.document.body;class mu extends Qa{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>"ck-balloon-panel_"+t),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",pu),left:e.to("left",pu)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=mu.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast],limiter:gu,fitInViewport:!0},t),r=mu._getOptimalPosition(n),o=parseInt(r.left),i=parseInt(r.top);Object.assign(this,{top:i,left:o,position:r.name})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=bu(t.target),n=t.limiter?bu(t.limiter):gu;this.listenTo(Hr.document,"scroll",(r,o)=>{const i=o.target,s=e&&i.contains(e),a=n&&i.contains(n);!s&&!a&&e&&n||this.attachTo(t)},{useCapture:!0}),this.listenTo(Hr.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(Hr.document,"scroll"),this.stopListening(Hr.window,"resize")}}function bu(t){return se(t)?t:Ro(t)?t.commonAncestorContainer:"function"==typeof t?bu(t()):null}function wu(t,e){return t.top-e.height-mu.arrowVerticalOffset}function _u(t){return t.bottom+mu.arrowVerticalOffset}function vu(t,e,n){return t&&ku(t)&&!n.isInline(e)}function yu(t){return t.getAttribute("widget-type-around")}function ku(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function Cu(t,e,n={}){if(!t.is("containerElement"))throw new pe.b("widget-to-widget-wrong-element-type: The element passed to toWidget() must be a container element instance.",null,{element:t});return e.setAttribute("contenteditable","false",t),e.addClass("ck-widget",t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=Pu,n.label&&function(t,e,n){n.setCustomProperty("widgetLabel",e,t)}(t,n.label,e),n.hasSelectionHandle&&function(t,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(t){const e=this.toDomElement(t),n=new bc;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),e.appendChild(n.element),e}));e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handle"],t)}(t,e),xu(t,e,(t,e,n)=>n.addClass(r(e.classes),t),(t,e,n)=>n.removeClass(r(e.classes),t)),t;function r(t){return Array.isArray(t)?t:[t]}}function xu(t,e,n,r){const o=new uu;o.on("change:top",(e,o)=>{o.oldDescriptor&&r(t,o.oldDescriptor,o.writer),o.newDescriptor&&n(t,o.newDescriptor,o.writer)}),e.setCustomProperty("addHighlight",(t,e,n)=>o.add(e,n),t),e.setCustomProperty("removeHighlight",(t,e,n)=>o.remove(e,n),t)}function Au(t){const e=t.getCustomProperty("widgetLabel");return e?"function"==typeof e?e():e:""}function Eu(t,e){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",(n,r,o)=>{e.setAttribute("contenteditable",o?"false":"true",t)}),t.on("change:isFocused",(n,r,o)=>{o?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)}),t}function Su(t,e){const n=t.getSelectedElement();if(n){const r=yu(t);if(r)return e.createPositionAt(n,r);if(e.schema.isBlock(n))return e.createPositionAfter(n)}const r=t.getSelectedBlocks().next().value;if(r){if(r.isEmpty)return e.createPositionAt(r,0);const n=e.createPositionAfter(r);return t.focus.isTouching(n)?n:e.createPositionBefore(r)}return t.focus}function Tu(t,e){const n=new Fo(Hr.window),r=n.getIntersection(t),o=e.height+mu.arrowVerticalOffset;if(t.top-o>n.top||t.bottom+o<n.bottom)return null;const i=r||t,s=i.left+i.width/2-e.width/2;return{top:Math.max(t.top,0)+mu.arrowVerticalOffset,left:s,name:"arrow_n"}}function Pu(){return null}function Mu(t){const e=t.getSelectedElement();return e&&function(t){return!!t.getCustomProperty("image")&&ku(t)}(e)?e:null}function Ou(t){return!!t&&t.is("element","image")}function Iu(t,e,n={}){const r=t.createElement("image",n),o=Su(e.document.selection,e);e.insertContent(r,o),r.parent&&t.setSelection(r,"on")}function Du(t){const e=t.schema,n=t.document.selection;return function(t,e,n){const r=function(t,e){const n=Su(t,e).parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}(t,n);return e.checkChild(r,"image")}(n,e,t)&&!function(t,e){const n=t.getSelectedElement();return n&&e.isObject(n)}(n,e)&&function(t){return[...t.focus.getAncestors()].every(t=>!t.is("element","image"))}(n)}function Nu(t){const e=[];for(const n of t.getChildren())e.push(n),n.is("element")&&e.push(...n.getChildren());return e.find(t=>t.is("element","img"))}function Ru(t){return n=>{n.on(`attribute:${t}:image`,e)};function e(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const r=n.writer,o=Nu(n.mapper.toViewElement(e.item));r.setAttribute(e.attributeKey,e.attributeNewValue||"",o)}}mu.arrowHorizontalOffset=25,mu.arrowVerticalOffset=10,mu._getOptimalPosition=hc,mu.defaultPositions={northWestArrowSouthWest:(t,e)=>({top:wu(t,e),left:t.left-mu.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthMiddleWest:(t,e)=>({top:wu(t,e),left:t.left-.25*e.width-mu.arrowHorizontalOffset,name:"arrow_smw"}),northWestArrowSouth:(t,e)=>({top:wu(t,e),left:t.left-e.width/2,name:"arrow_s"}),northWestArrowSouthMiddleEast:(t,e)=>({top:wu(t,e),left:t.left-.75*e.width+mu.arrowHorizontalOffset,name:"arrow_sme"}),northWestArrowSouthEast:(t,e)=>({top:wu(t,e),left:t.left-e.width+mu.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(t,e)=>({top:wu(t,e),left:t.left+t.width/2-mu.arrowHorizontalOffset,name:"arrow_sw"}),northArrowSouthMiddleWest:(t,e)=>({top:wu(t,e),left:t.left+t.width/2-.25*e.width-mu.arrowHorizontalOffset,name:"arrow_smw"}),northArrowSouth:(t,e)=>({top:wu(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}),northArrowSouthMiddleEast:(t,e)=>({top:wu(t,e),left:t.left+t.width/2-.75*e.width+mu.arrowHorizontalOffset,name:"arrow_sme"}),northArrowSouthEast:(t,e)=>({top:wu(t,e),left:t.left+t.width/2-e.width+mu.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(t,e)=>({top:wu(t,e),left:t.right-mu.arrowHorizontalOffset,name:"arrow_sw"}),northEastArrowSouthMiddleWest:(t,e)=>({top:wu(t,e),left:t.right-.25*e.width-mu.arrowHorizontalOffset,name:"arrow_smw"}),northEastArrowSouth:(t,e)=>({top:wu(t,e),left:t.right-e.width/2,name:"arrow_s"}),northEastArrowSouthMiddleEast:(t,e)=>({top:wu(t,e),left:t.right-.75*e.width+mu.arrowHorizontalOffset,name:"arrow_sme"}),northEastArrowSouthEast:(t,e)=>({top:wu(t,e),left:t.right-e.width+mu.arrowHorizontalOffset,name:"arrow_se"}),southWestArrowNorthWest:(t,e)=>({top:_u(t),left:t.left-mu.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthMiddleWest:(t,e)=>({top:_u(t),left:t.left-.25*e.width-mu.arrowHorizontalOffset,name:"arrow_nmw"}),southWestArrowNorth:(t,e)=>({top:_u(t),left:t.left-e.width/2,name:"arrow_n"}),southWestArrowNorthMiddleEast:(t,e)=>({top:_u(t),left:t.left-.75*e.width+mu.arrowHorizontalOffset,name:"arrow_nme"}),southWestArrowNorthEast:(t,e)=>({top:_u(t),left:t.left-e.width+mu.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(t,e)=>({top:_u(t),left:t.left+t.width/2-mu.arrowHorizontalOffset,name:"arrow_nw"}),southArrowNorthMiddleWest:(t,e)=>({top:_u(t),left:t.left+t.width/2-.25*e.width-mu.arrowHorizontalOffset,name:"arrow_nmw"}),southArrowNorth:(t,e)=>({top:_u(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"}),southArrowNorthMiddleEast:(t,e)=>({top:_u(t),left:t.left+t.width/2-.75*e.width+mu.arrowHorizontalOffset,name:"arrow_nme"}),southArrowNorthEast:(t,e)=>({top:_u(t),left:t.left+t.width/2-e.width+mu.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(t,e)=>({top:_u(t),left:t.right-mu.arrowHorizontalOffset,name:"arrow_nw"}),southEastArrowNorthMiddleWest:(t,e)=>({top:_u(t),left:t.right-.25*e.width-mu.arrowHorizontalOffset,name:"arrow_nmw"}),southEastArrowNorth:(t,e)=>({top:_u(t),left:t.right-e.width/2,name:"arrow_n"}),southEastArrowNorthMiddleEast:(t,e)=>({top:_u(t),left:t.right-.75*e.width+mu.arrowHorizontalOffset,name:"arrow_nme"}),southEastArrowNorthEast:(t,e)=>({top:_u(t),left:t.right-e.width+mu.arrowHorizontalOffset,name:"arrow_ne"})};class ju extends zc{refresh(){this.isEnabled=Du(this.editor.model)}execute(t){const e=this.editor.model;e.change(n=>{const r=Array.isArray(t.source)?t.source:[t.source];for(const t of r)Iu(n,e,{src:t})})}}class Lu extends Rc{static get pluginName(){return"ImageEditing"}init(){const t=this.editor,e=t.model.schema,n=t.t,r=t.conversion;t.editing.view.addObserver(lu),e.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),r.for("dataDowncast").elementToElement({model:"image",view:(t,e)=>Fu(e)}),r.for("editingDowncast").elementToElement({model:"image",view:(t,e)=>{return r=Fu(e),o=e,i=n("image widget"),o.setCustomProperty("image",!0,r),Cu(r,o,{label:function(){const t=Nu(r).getAttribute("alt");return t?`${t} ${i}`:i}});var r,o,i}}),r.for("downcast").add(Ru("src")).add(Ru("alt")).add(function(){return e=>{e.on("attribute:srcset:image",t)};function t(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const r=n.writer,o=Nu(n.mapper.toViewElement(e.item));if(null===e.attributeNewValue){const t=e.attributeOldValue;t.data&&(r.removeAttribute("srcset",o),r.removeAttribute("sizes",o),t.width&&r.removeAttribute("width",o))}else{const t=e.attributeNewValue;t.data&&(r.setAttribute("srcset",t.data,o),r.setAttribute("sizes","100vw",o),t.width&&r.setAttribute("width",t.width,o))}}}()),r.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:(t,e)=>e.createElement("image",{src:t.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:t=>{const e={data:t.getAttribute("srcset")};return t.hasAttribute("width")&&(e.width=t.getAttribute("width")),e}}}).add(function(){return e=>{e.on("element:figure",t)};function t(t,e,n){if(!n.consumable.test(e.viewItem,{name:!0,classes:"image"}))return;const r=Nu(e.viewItem);if(!r||!r.hasAttribute("src")||!n.consumable.test(r,{name:!0}))return;const o=n.convertItem(r,e.modelCursor),i=Wl(o.modelRange.getItems());i&&(n.convertChildren(e.viewItem,n.writer.createPositionAt(i,0)),e.modelRange=o.modelRange,e.modelCursor=o.modelCursor)}}()),t.commands.add("imageInsert",new ju(t))}}function Fu(t){const e=t.createEmptyElement("img"),n=t.createContainerElement("figure",{class:"image"});return t.insert(t.createPositionAt(n,0),e),n}class Vu extends wo{constructor(t){super(t),this.domEventType="mousedown"}onDomEvent(t){this.fire(t.type,t)}}class Bu extends Rc{static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,e=t.locale,n=t.model.document.selection;this.listenTo(t.editing.view.document,"keydown",(t,r)=>{if(!n.isCollapsed)return;if(r.shiftKey||r.altKey||r.ctrlKey)return;const o=r.keyCode==er.arrowright,i=r.keyCode==er.arrowleft;if(!o&&!i)return;const s=e.contentLanguageDirection;let a=!1;a="ltr"===s&&o||"rtl"===s&&i?this._handleForwardMovement(r):this._handleBackwardMovement(r),!0===a&&t.stop()},{priority:fe.get("high")+1}),this._isNextGravityRestorationSkipped=!1,this.listenTo(n,"change:range",(t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&qu(n.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const e=this.attributes,n=this.editor.model.document.selection,r=n.getFirstPosition();return!this._isGravityOverridden&&(!r.isAtStart||!zu(n,e))&&(qu(r,e)?(Hu(t),this._overrideGravity(),!0):void 0)}_handleBackwardMovement(t){const e=this.attributes,n=this.editor.model,r=n.document.selection,o=r.getFirstPosition();return this._isGravityOverridden?(Hu(t),this._restoreGravity(),Uu(n,e,o),!0):o.isAtStart?!!zu(r,e)&&(Hu(t),Uu(n,e,o),!0):function(t,e){return qu(t.getShiftedBy(-1),e)}(o,e)?o.isAtEnd&&!zu(r,e)&&qu(o,e)?(Hu(t),Uu(n,e,o),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function zu(t,e){for(const n of e)if(t.hasAttribute(n))return!0;return!1}function Uu(t,e,n){const r=n.nodeBefore;t.change(t=>{r?t.setSelectionAttribute(r.getAttributes()):t.removeSelectionAttribute(e)})}function Hu(t){t.preventDefault()}function qu(t,e){const{nodeBefore:n,nodeAfter:r}=t;for(const o of e){const t=n?n.getAttribute(o):void 0;if((r?r.getAttribute(o):void 0)!==t)return!0}return!1}function $u(t,e,n,r){return r.createRange(Wu(t,e,n,!0,r),Wu(t,e,n,!1,r))}function Wu(t,e,n,r,o){let i=t.textNode||(r?t.nodeBefore:t.nodeAfter),s=null;for(;i&&i.getAttribute(e)==n;)s=i,i=r?i.previousSibling:i.nextSibling;return s?o.createPositionAt(s,r?"before":"after"):t}class Gu{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(t=>this._definitions.add(t)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(t,e,n)=>{if(!n.consumable.test(e.item,"attribute:linkHref"))return;const r=n.writer,o=r.document.selection;for(const i of this._definitions){const t=r.createAttributeElement("a",i.attributes,{priority:5});r.setCustomProperty("link",!0,t),i.callback(e.attributeNewValue)?e.item.is("selection")?r.wrap(o.getFirstRange(),t):r.wrap(n.mapper.toViewRange(e.range),t):r.unwrap(n.mapper.toViewRange(e.range),t)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:image",(t,e,n)=>{const r=n.mapper.toViewElement(e.item),o=Array.from(r.getChildren()).find(t=>"a"===t.name);for(const i of this._definitions){const t=Le(i.attributes);if(i.callback(e.attributeNewValue))for(const[e,r]of t)"class"===e?n.writer.addClass(r,o):n.writer.setAttribute(e,r,o);else for(const[e,r]of t)"class"===e?n.writer.removeClass(r,o):n.writer.removeAttribute(e,o)}})}}}var Yu=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Qu=function(t){return Yu.test(t)},Zu="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ku="\\ud83c[\\udffb-\\udfff]",Ju="[^\\ud800-\\udfff]",Xu="(?:\\ud83c[\\udde6-\\uddff]){2}",td="[\\ud800-\\udbff][\\udc00-\\udfff]",ed="(?:"+Zu+"|"+Ku+")?",nd="[\\ufe0e\\ufe0f]?"+ed+"(?:\\u200d(?:"+[Ju,Xu,td].join("|")+")[\\ufe0e\\ufe0f]?"+ed+")*",rd="(?:"+[Ju+Zu+"?",Zu,Xu,td,"[\\ud800-\\udfff]"].join("|")+")",od=RegExp(Ku+"(?="+Ku+")|"+rd+nd,"g"),id=function(t){t=Ze(t);var e=Qu(t)?function(t){return Qu(t)?function(t){return t.match(od)||[]}(t):function(t){return t.split("")}(t)}(t):void 0,n=e?e[0]:t.charAt(0),r=e?function(t,e,n){return tn(t,1,n=void 0===n?t.length:n)}(e).join(""):t.slice(1);return n.toUpperCase()+r};const sd=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ad=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function cd(t,e){const n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function ld(t){return function(t){return t.replace(sd,"").match(ad)}(t=String(t))?t:"#"}function ud(t,e){return!!t&&t.is("element","image")&&e.checkAttribute("image","linkHref")}class dd extends zc{constructor(t){super(t),this.manualDecorators=new Ee,this.automaticDecorators=new Gu}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document,n=Wl(e.selection.getSelectedBlocks());ud(n,t.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(n,"linkHref")):(this.value=e.selection.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"linkHref"));for(const r of this.manualDecorators)r.value=this._getDecoratorStateFromModel(r.id)}execute(t,e={}){const n=this.editor.model,r=n.document.selection,o=[],i=[];for(const s in e)e[s]?o.push(s):i.push(s);n.change(e=>{if(r.isCollapsed){const s=r.getFirstPosition();if(r.hasAttribute("linkHref")){const a=$u(s,"linkHref",r.getAttribute("linkHref"),n);e.setAttribute("linkHref",t,a),o.forEach(t=>{e.setAttribute(t,!0,a)}),i.forEach(t=>{e.removeAttribute(t,a)}),e.setSelection(e.createPositionAfter(a.end.nodeBefore))}else if(""!==t){const i=Le(r.getAttributes());i.set("linkHref",t),o.forEach(t=>{i.set(t,!0)});const a=e.createText(t,i);n.insertContent(a,s),e.setSelection(e.createPositionAfter(a))}["linkHref",...o,...i].forEach(t=>{e.removeSelectionAttribute(t)})}else{const s=n.schema.getValidRanges(r.getRanges(),"linkHref"),a=[];for(const t of r.getSelectedBlocks())n.schema.checkAttribute(t,"linkHref")&&a.push(e.createRangeOn(t));const c=a.slice();for(const t of s)this._isRangeToUpdate(t,a)&&c.push(t);for(const n of c)e.setAttribute("linkHref",t,n),o.forEach(t=>{e.setAttribute(t,!0,n)}),i.forEach(t=>{e.removeAttribute(t,n)})}})}_getDecoratorStateFromModel(t){const e=this.editor.model,n=e.document,r=Wl(n.selection.getSelectedBlocks());return ud(r,e.schema)?r.getAttribute(t):n.selection.getAttribute(t)}_isRangeToUpdate(t,e){for(const n of e)if(n.containsRange(t))return!1;return!0}}class hd extends zc{refresh(){const t=this.editor.model,e=t.document,n=Wl(e.selection.getSelectedBlocks());this.isEnabled=ud(n,t.schema)?t.schema.checkAttribute(n,"linkHref"):t.schema.checkAttributeInSelection(e.selection,"linkHref")}execute(){const t=this.editor.model,e=t.document.selection,n=this.editor.commands.get("link");t.change(r=>{const o=e.isCollapsed?[$u(e.getFirstPosition(),"linkHref",e.getAttribute("linkHref"),t)]:e.getRanges();for(const t of o)if(r.removeAttribute("linkHref",t),n)for(const e of n.manualDecorators)r.removeAttribute(e.id,t)})}}class fd{constructor({id:t,label:e,attributes:n,defaultValue:r}){this.id=t,this.set("value"),this.defaultValue=r,this.label=e,this.attributes=n}}Ae(fd,En),n(47);const pd=/^(https?:)?\/\//;class gd extends Rc{static get pluginName(){return"LinkEditing"}static get requires(){return[Bu,fl,Bc]}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:cd}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(t,e)=>cd(ld(t),e)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:t=>t.getAttribute("href")}}),t.commands.add("link",new dd(t)),t.commands.add("unlink",new hd(t));const e=function(t,e){const n={"Open in a new tab":t("Open in a new tab"),Downloadable:t("Downloadable")};return e.forEach(t=>(t.label&&n[t.label]&&(t.label=n[t.label]),t)),e}(t.t,function(t){const e=[];if(t)for(const[n,r]of Object.entries(t)){const t=Object.assign({},r,{id:"link"+id(n)});e.push(t)}return e}(t.config.get("link.decorators")));this._enableAutomaticDecorators(e.filter(t=>"automatic"===t.mode)),this._enableManualDecorators(e.filter(t=>"manual"===t.mode)),t.plugins.get(Bu).registerAttribute("linkHref"),function(t,e,n,r){const o=t.editing.view,i=new Set;o.document.registerPostFixer(n=>{const o=t.model.document.selection;let s=!1;if(o.hasAttribute(e)){const a=$u(o.getFirstPosition(),e,o.getAttribute(e),t.model),c=t.editing.mapper.toViewRange(a);for(const t of c.getItems())t.is("element","a")&&!t.hasClass(r)&&(n.addClass(r,t),i.add(t),s=!0)}return s}),t.conversion.for("editingDowncast").add(t=>{function e(){o.change(t=>{for(const e of i.values())t.removeClass(r,e),i.delete(e)})}t.on("insert",e,{priority:"highest"}),t.on("remove",e,{priority:"highest"}),t.on("attribute",e,{priority:"highest"}),t.on("selection",e,{priority:"highest"})})}(t,"linkHref",0,"ck-link_selected"),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(t){const e=this.editor,n=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:"automatic",callback:t=>pd.test(t),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,n=e.commands.get("link").manualDecorators;t.forEach(t=>{e.model.schema.extend("$text",{allowAttributes:t.id}),n.add(new fd(t)),e.conversion.for("downcast").attributeToElement({model:t.id,view:(e,r)=>{if(e){const e=n.get(t.id).attributes,o=r.createAttributeElement("a",e,{priority:5});return r.setCustomProperty("link",!0,o),o}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:n.get(t.id).attributes},model:{key:t.id}})})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor,e=t.model,n=e.document.selection,r=t.commands.get("link");this.listenTo(e,"insertContent",()=>{const t=n.anchor.nodeBefore,o=n.anchor.nodeAfter;n.hasAttribute("linkHref")&&t&&t.hasAttribute("linkHref")&&(o&&o.hasAttribute("linkHref")||e.change(t=>{md(t,r.manualDecorators)}))},{priority:"low"})}_enableClickingAfterLink(){const t=this.editor,e=t.commands.get("link");t.editing.view.addObserver(Vu);let n=!1;this.listenTo(t.editing.view.document,"mousedown",()=>{n=!0}),this.listenTo(t.editing.view.document,"selectionChange",()=>{if(!n)return;n=!1;const r=t.model.document.selection;if(!r.isCollapsed)return;if(!r.hasAttribute("linkHref"))return;const o=r.getFirstPosition(),i=$u(o,"linkHref",r.getAttribute("linkHref"),t.model);(o.isTouching(i.start)||o.isTouching(i.end))&&t.model.change(t=>{md(t,e.manualDecorators)})})}_enableTypingOverLink(){const t=this.editor;let e,n;this.listenTo(t.editing.view.document,"delete",()=>{n=!0},{priority:"high"}),this.listenTo(t.model,"deleteContent",()=>{const r=t.model.document.selection;r.isCollapsed||(n?n=!1:bd(t)&&function(t){const e=t.document.selection,n=e.getFirstPosition(),r=e.getLastPosition(),o=n.nodeAfter;return!!o&&!!o.is("$text")&&!!o.hasAttribute("linkHref")&&(o===(r.textNode||r.nodeBefore)||$u(n,"linkHref",o.getAttribute("linkHref"),t).containsRange(t.createRange(n,r),!0))}(t.model)&&(e=r.getAttributes()))},{priority:"high"}),this.listenTo(t.model,"insertContent",(r,[o])=>{n=!1,bd(t)&&e&&(t.model.change(t=>{for(const[n,r]of e)t.setAttribute(n,r,o)}),e=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const t=this.editor,e=t.model,n=e.document.selection,r=t.editing.view,o=t.commands.get("link");let i=!1,s=!1;this.listenTo(r.document,"delete",(t,e)=>{s=e.domEvent.keyCode===er.backspace},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{i=!1;const t=n.getFirstPosition(),r=n.getAttribute("linkHref");if(!r)return;const o=$u(t,"linkHref",r,e);i=o.containsPosition(t)||o.end.isEqual(t)},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{s&&(s=!1,i||t.model.enqueueChange(t=>{md(t,o.manualDecorators)}))},{priority:"low"})}}function md(t,e){t.removeSelectionAttribute("linkHref");for(const n of e)t.removeSelectionAttribute(n.id)}function bd(t){return t.plugins.get("Input").isInput(t.model.change(t=>t.batch))}class wd extends Vl{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){this.fire("show:"+t.type+(t.namespace?":"+t.namespace:""),{message:t.message,type:t.type,title:t.title||""})}}class _d extends zc{constructor(t){super(t),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const t=this.editor.commands.get("imageInsert"),e=this.editor.commands.get("link");this.isEnabled=t.isEnabled||e.isEnabled}execute(){const t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new pe.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".',t);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const r=n.onInit;n.language||(n.language=t.locale.uiLanguage),n.onInit=e=>{r&&r(e),e.on("files:choose",n=>{const r=n.data.files.toArray(),o=r.filter(t=>!t.isImage()),i=r.filter(t=>t.isImage());for(const e of o)t.execute("link",e.getUrl());const s=[];for(const t of i){const n=t.getUrl();s.push(n||e.request("file:getProxyUrl",{file:t}))}s.length&&vd(t,s)}),e.on("file:choose:resizedImage",e=>{const n=e.data.resizedUrl;if(n)vd(t,[n]);else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("Could not obtain resized image URL."),{title:n("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[e](n)}}function vd(t,e){if(t.commands.get("imageInsert").isEnabled)t.execute("imageInsert",{source:e});else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class yd extends Rc{static get pluginName(){return"CKFinderEditing"}static get requires(){return[wd,Lu,gd]}init(){const t=this.editor;t.commands.add("ckfinder",new _d(t))}}const kd=/^data:(\S*?);base64,/;class Cd{constructor(t,e,n){if(!t)throw new pe.b("fileuploader-missing-file: File must be provided as the first argument",null);if(!e)throw new pe.b("fileuploader-missing-token: Token must be provided as the second argument.",null);if(!n)throw new pe.b("fileuploader-missing-api-address: Api address must be provided as the third argument.",null);this.file=function(t){if("string"!=typeof t)return!1;const e=t.match(kd);return!(!e||!e.length)}(t)?function(t,e=512){try{const n=t.match(kd)[1],r=atob(t.replace(kd,"")),o=[];for(let t=0;t<r.length;t+=e){const n=r.slice(t,t+e),i=new Array(n.length);for(let t=0;t<n.length;t++)i[t]=n.charCodeAt(t);o.push(new Uint8Array(i))}return new Blob(o,{type:n})}catch(t){throw new pe.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.",null)}}(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",(e,n)=>t(n)),this}onError(t){return this.once("error",(e,n)=>t(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this,e=this.xhr;function n(e){return()=>t.fire("error",e)}e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",t=>{t.lengthComputable&&this.fire("progress",{total:t.total,uploaded:t.loaded})}),e.addEventListener("load",()=>{const t=e.status,n=e.response;if(t<200||t>299)return this.fire("error",n.message||n.error)})}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise((n,r)=>{e.addEventListener("load",()=>{const t=e.status,o=e.response;return t<200||t>299?r(o.message?new pe.b("fileuploader-uploading-data-failed: Uploading file failed.",this,{message:o.message}):o.error):n(o)}),e.addEventListener("error",()=>r(new Error("Network Error"))),e.addEventListener("abort",()=>r(new Error("Abort"))),e.send(t)})}}Ae(Cd,be);const xd={refreshInterval:36e5,autoRefresh:!0};class Ad{constructor(t,e=xd){if(!t)throw new pe.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.",this);this.set("value",e.initValue),this._refresh="function"==typeof t?t:()=>{return e=t,new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",e),r.addEventListener("load",()=>{const e=r.status,o=r.response;return e<200||e>299?n(new pe.b("token-cannot-download-new-token: Cannot download new token from the provided url.",null)):t(o)}),r.addEventListener("error",()=>n(new Error("Network Error"))),r.addEventListener("abort",()=>n(new Error("Abort"))),r.send()});var e},this._options=Object.assign({},xd,e)}init(){return new Promise((t,e)=>{this._options.autoRefresh&&this._startRefreshing(),this.value?t(this):this.refreshToken().then(t).catch(e)})}refreshToken(){return this._refresh().then(t=>this.set("value",t)).then(()=>this)}destroy(){this._stopRefreshing()}_startRefreshing(){this._refreshInterval=setInterval(()=>this.refreshToken(),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(t,e=xd){return new Ad(t,e).init()}}Ae(Ad,En);class Ed extends Vl{static get pluginName(){return"CloudServices"}init(){const t=this.context.config.get("cloudServices")||{};for(const e in t)this[e]=t[e];if(this.tokenUrl)return this.token=new Ed.Token(this.tokenUrl),this.token.init();this.token=null}destroy(){super.destroy(),this.token&&this.token.destroy()}}Ed.Token=Ad;class Sd extends Rc{static get requires(){return[Ul,Ed]}init(){const t=this.editor,e=t.plugins.get(Ed),n=e.token;n&&(this._uploadGateway=new Sd._UploadGateway(n,e.uploadUrl),t.plugins.get(Ul).createUploadAdapter=t=>new Td(this._uploadGateway,t))}}class Td{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.loader.file.then(t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",(t,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}Sd._UploadGateway=class{constructor(t,e){if(!t)throw new pe.b("uploadgateway-missing-token: Token must be provided.",null);if(!e)throw new pe.b("uploadgateway-missing-api-address: Api address must be provided.",null);this._token=t,this._apiAddress=e}upload(t){return new Cd(t,this._token,this._apiAddress)}},n(49);const Pd=["before","after"],Md=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><polyline points="8.05541992 0.263427734 8.05541992 4.23461914 1.28417969 4.23461914" transform="translate(1,0)"></polyline><line x1="0" y1="4.21581031" x2="2" y2="2.17810059" transform="translate(1, 0)"></line><line x1="0" y1="6.21581031" x2="2" y2="4.17810059" transform="translate(2, 5.196955) scale(1, -1) translate(-1, -5.196955)"></line></svg>\n',"image/svg+xml").firstChild;class Od extends Rc{static get pluginName(){return"WidgetTypeAround"}constructor(t){super(t),this._currentFakeCaretModelElement=null}init(){const t=this.editor,e=t.editing.view;this.on("change:isEnabled",(n,r,o)=>{e.change(t=>{for(const n of e.document.roots)o?t.removeClass("ck-widget__type-around_disabled",n):t.addClass("ck-widget__type-around_disabled",n)}),o||t.model.change(t=>{t.removeSelectionAttribute("widget-type-around")})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration()}destroy(){this._currentFakeCaretModelElement=null}_insertParagraph(t,e){const n=this.editor,r=n.editing.view;n.execute("insertParagraph",{position:n.model.createPositionAt(t,e)}),r.focus(),r.scrollToTheSelection()}_listenToIfEnabled(t,e,n,r){this.listenTo(t,e,(...t)=>{this.isEnabled&&n(...t)},r)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,e=yu(t);if(!e)return!1;const n=t.getSelectedElement();return this._insertParagraph(n,e),!0}_enableTypeAroundUIInjection(){const t=this.editor,e=t.model.schema,n=t.locale.t,r={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(t,n,o)=>{const i=o.mapper.toViewElement(n.item);vu(i,n.item,e)&&function(t,e,n){const r=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(t){const n=this.toDomElement(t);return function(t,e){for(const n of Pd){const r=new Ma({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+n],title:e[n]},children:[t.ownerDocument.importNode(Md,!0)]});t.appendChild(r.render())}}(n,e),function(t){const e=new Ma({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});t.appendChild(e.render())}(n),n}));t.insert(t.createPositionAt(n,"end"),r)}(o.writer,r,i)},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,e=t.model,n=e.document.selection,r=e.schema;function o(t){return"ck-widget_type-around_show-fake-caret_"+t}this._listenToIfEnabled(t.editing.view.document,"keydown",(t,e)=>{ir(e.keyCode)&&this._handleArrowKeyPress(t,e)},{priority:fe.get("high")+10}),this._listenToIfEnabled(n,"change:range",(e,n)=>{n.directChange&&t.model.change(t=>{t.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(e.document,"change:data",()=>{const e=n.getSelectedElement();e&&vu(t.editing.mapper.toViewElement(e),e,r)||t.model.change(t=>{t.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(t,e,n)=>{const i=n.writer;if(this._currentFakeCaretModelElement){const t=n.mapper.toViewElement(this._currentFakeCaretModelElement);t&&(i.removeClass(Pd.map(o),t),this._currentFakeCaretModelElement=null)}const s=e.selection.getSelectedElement();if(!s)return;const a=n.mapper.toViewElement(s);if(!vu(a,s,r))return;const c=yu(e.selection);c&&(i.addClass(o(c),a),this._currentFakeCaretModelElement=s)}),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(e,n,r)=>{r||t.model.change(t=>{t.removeSelectionAttribute("widget-type-around")})})}_handleArrowKeyPress(t,e){const n=this.editor,r=n.model,o=r.document.selection,i=r.schema,s=n.editing.view,a=ar(e.keyCode,n.locale.contentLanguageDirection),c=s.document.selection.getSelectedElement();let l;vu(c,n.editing.mapper.toModelElement(c),i)?l=this._handleArrowKeyPressOnSelectedWidget(a):o.isCollapsed&&(l=this._handleArrowKeyPressWhenSelectionNextToAWidget(a)),l&&(e.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const e=this.editor.model,n=yu(e.document.selection);return e.change(e=>n?n!==(t?"after":"before")&&(e.removeSelectionAttribute("widget-type-around"),!0):(e.setSelectionAttribute("widget-type-around",t?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const e=this.editor,n=e.model,r=n.schema,o=e.plugins.get("Widget"),i=o._getObjectElementNextToSelection(t);return!!vu(e.editing.mapper.toViewElement(i),i,r)&&(n.change(e=>{o._setSelectionOverElement(i),e.setSelectionAttribute("widget-type-around",t?"before":"after")}),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,e=t.editing.view;this._listenToIfEnabled(e.document,"mousedown",(n,r)=>{const o=r.domTarget.closest(".ck-widget__type-around__button");if(!o)return;const i=function(t){return t.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(o),s=function(t,e){const n=t.closest(".ck-widget");return e.mapDomToView(n)}(o,e.domConverter),a=t.editing.mapper.toModelElement(s);this._insertParagraph(a,i),r.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,e=t.editing.view;this._listenToIfEnabled(e.document,"enter",(n,r)=>{const o=e.document.selection.getSelectedElement(),i=t.editing.mapper.toModelElement(o),s=t.model.schema;let a;this._insertParagraphAccordingToFakeCaretPosition()?a=!0:vu(o,i,s)&&(this._insertParagraph(i,r.isSoft?"before":"after"),a=!0),a&&(r.preventDefault(),n.stop())})}_enableInsertingParagraphsOnTypingKeystroke(){const t=[er.enter,er.delete,er.backspace];this._listenToIfEnabled(this.editor.editing.view.document,"keydown",(e,n)=>{t.includes(n.keyCode)||al(n)||this._insertParagraphAccordingToFakeCaretPosition()},{priority:fe.get("high")+1})}_enableDeleteIntegration(){const t=this.editor,e=t.model,n=e.schema;this._listenToIfEnabled(t.editing.view.document,"delete",(r,o)=>{const i=yu(e.document.selection);if(!i)return;const s=o.direction,a=e.document.selection.getSelectedElement(),c="forward"==s;if("before"===i===c)t.execute("delete",{selection:e.createSelection(a,"on")});else{const r=n.getNearestSelectionRange(e.createPositionAt(a,i),s);if(r)if(r.isCollapsed){const o=e.createSelection(r.start);if(e.modifySelection(o,{direction:s}),o.focus.isEqual(r.start)){const t=function(t,e){let n=e;for(const r of e.getAncestors({parentFirst:!0})){if(r.childCount>1||t.isLimit(r))break;n=r}return n}(n,r.start.parent);e.deleteContent(e.createSelection(t,"on"),{doNotAutoparagraph:!0})}else e.change(e=>{e.setSelection(r),t.execute(c?"forwardDelete":"delete")})}else e.change(e=>{e.setSelection(r),t.execute(c?"forwardDelete":"delete")})}o.preventDefault(),r.stop()},{priority:fe.get("high")+1})}_enableInsertContentIntegration(){const t=this.editor.model,e=t.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(n,[r,o])=>{if(o&&!o.is("documentSelection"))return;const i=yu(e);return i?(n.stop(),t.change(n=>{const o=e.getSelectedElement(),s=t.createPositionAt(o,i),a=n.createSelection(s),c=t.insertContent(r,a);return n.setSelection(a),c})):void 0},{priority:"high"})}}n(51);class Id extends Rc{static get pluginName(){return"Widget"}static get requires(){return[Od]}init(){const t=this.editor.editing.view,e=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(t,e,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const r=n.writer,o=r.document.selection,i=o.getSelectedElement();let s=null;for(const a of o.getRanges())for(const t of a){const e=t.item;ku(e)&&!Dd(e,s)&&(r.addClass("ck-widget_selected",e),this._previouslySelected.add(e),s=e,e==i&&r.setSelection(o.getRanges(),{fake:!0,label:Au(i)}))}},{priority:"low"}),t.addObserver(Vu),this.listenTo(e,"mousedown",(...t)=>this._onMousedown(...t)),this.listenTo(e,"keydown",(...t)=>{this._handleSelectionChangeOnArrowKeyPress(...t)},{priority:"high"}),this.listenTo(e,"keydown",(...t)=>{this._preventDefaultOnArrowKeyPress(...t)},{priority:fe.get("high")-20}),this.listenTo(e,"delete",(t,e)=>{this._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop())},{priority:"high"})}_onMousedown(t,e){const n=this.editor,r=n.editing.view,o=r.document;let i=e.target;if(function(t){for(;t;){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(ku(t))return!1;t=t.parent}return!1}(i)){if((Kn||Zn)&&e.domEvent.detail>=3){const t=n.editing.mapper,r=i.is("attributeElement")?i.findAncestor(t=>!t.is("attributeElement")):i,o=t.toModelElement(r);e.preventDefault(),this.editor.model.change(t=>{t.setSelection(o,"in")})}return}if(!ku(i)&&(i=i.findAncestor(ku),!i))return;e.preventDefault(),o.isFocused||r.focus();const s=n.editing.mapper.toModelElement(i);this._setSelectionOverElement(s)}_handleSelectionChangeOnArrowKeyPress(t,e){const n=e.keyCode;if(!ir(n))return;const r=this.editor.model,o=r.schema,i=r.document.selection,s=i.getSelectedElement(),a=ar(n,this.editor.locale.contentLanguageDirection);if(s&&o.isObject(s)){const n=a?i.getLastPosition():i.getFirstPosition(),s=o.getNearestSelectionRange(n,a?"forward":"backward");return void(s&&(r.change(t=>{t.setSelection(s)}),e.preventDefault(),t.stop()))}if(!i.isCollapsed)return;const c=this._getObjectElementNextToSelection(a);c&&o.isObject(c)&&(this._setSelectionOverElement(c),e.preventDefault(),t.stop())}_preventDefaultOnArrowKeyPress(t,e){if(!ir(e.keyCode))return;const n=this.editor.model,r=n.schema,o=n.document.selection.getSelectedElement();o&&r.isObject(o)&&(e.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;const e=this.editor.model.document.selection;if(!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change(t=>{let r=e.anchor.parent;for(;r.isEmpty;){const e=r;r=e.parent,t.remove(e)}this._setSelectionOverElement(n)}),!0):void 0}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(e.createRangeOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,r=e.createSelection(e.document.selection);e.modifySelection(r,{direction:t?"forward":"backward"});const o=t?r.focus.nodeBefore:r.focus.nodeAfter;return o&&n.isObject(o)?o:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass("ck-widget_selected",e);this._previouslySelected.clear()}}function Dd(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}class Nd extends zc{refresh(){const t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Ou(t),this.value=!(!Ou(t)||!t.hasAttribute("alt"))&&t.getAttribute("alt")}execute(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();e.change(e=>{e.setAttribute("alt",t.newValue,n)})}}class Rd extends Rc{static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Nd(this.editor))}}n(53);class jd extends Qa{constructor(t,e){super(t);const n="ck-labeled-field-view-"+he(),r="ck-labeled-field-view-status-"+he();this.fieldView=e(this,n,r),this.set("label"),this.set("isEnabled",!0),this.set("errorText",null),this.set("infoText",null),this.set("class"),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(r),this.bind("_statusText").to(this,"errorText",this,"infoText",(t,e)=>t||e);const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",o.to("class"),o.if("isEnabled","ck-disabled",t=>!t)]},children:[this.labelView,this.fieldView,this.statusView]})}_createLabelView(t){const e=new Xa(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createStatusView(t){const e=new Qa(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",t=>!t)],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}focus(){this.fieldView.focus()}}n(55);class Ld extends Qa{constructor(t){super(t),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById");const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to("input")}})}render(){super.render();const t=t=>{this.element.value=t||0===t?t:""};t(this.value),this.on("change:value",(e,n,r)=>{t(r)})}select(){this.element.select()}focus(){this.element.focus()}}function Fd(t,e,n){const r=new Ld(t.locale);return r.set({id:e,ariaDescribedById:n}),r.bind("isReadOnly").to(t,"isEnabled",t=>!t),r.bind("hasError").to(t,"errorText",t=>!!t),r.on("input",()=>{t.errorText=null}),r}function Vd({view:t}){t.listenTo(t.element,"submit",(e,n)=>{n.preventDefault(),t.fire("submit")},{useCapture:!0})}var Bd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',zd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';n(57);class Ud extends Qa{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new ya,this.keystrokes=new ha,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("Save"),Bd,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("Cancel"),zd,"ck-button-cancel","cancel"),this._focusables=new Pa,this._focusCycler=new sc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Vd({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}_createButton(t,e,n,r){const o=new _c(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),r&&o.delegate("execute").to(this,r),o}_createLabeledInputView(){const t=this.locale.t,e=new jd(this.locale,Fd);return e.label=t("Text alternative"),e.fieldView.placeholder=t("Text alternative"),e}}n(59),n(61);const Hd=rc("px");class qd extends Rc{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this.positionLimiter=()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null},this.set("visibleView",null),this.view=new mu(t.locale),t.ui.view.body.add(this.view),t.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this.hasView(t.view))throw new pe.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new pe.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new pe.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(e=>e[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new $d(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(t,e)=>!e&&t>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(t,n)=>{if(n<2)return"";const r=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("%0 of %1",[r,n])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new Wd(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,e)=>!e&&t>=2?Math.min(t-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:r=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),r&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}class $d extends Qa{constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new ya,this.buttonPrevView=this._createButtonView(e("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(e("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",t=>t?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new _c(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class Wd extends Qa{constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",t=>t?"":"ck-hidden")],style:{top:n.to("top",Hd),left:n.to("left",Hd),width:n.to("width",Hd),height:n.to("height",Hd)}},children:this.content}),this.on("change:numberOfPanels",(t,e,n,r)=>{n>r?this._addPanels(n-r):this._removePanels(r-n),this.updatePosition()})}_addPanels(t){for(;t--;){const t=new Qa;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(t){for(;t--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:r}=new Fo(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:r})}}}function Gd(t){const e=t.editing.view,n=mu.defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}class Yd extends Rc{static get requires(){return[qd]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",n=>{const r=t.commands.get("imageTextAlternative"),o=new _c(n);return o.set({label:e("Change image text alternative"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),o.bind("isEnabled").to(r,"isEnabled"),this.listenTo(o,"execute",()=>{this._showForm()}),o})}_createForm(){const t=this.editor,e=t.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Ud(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(t,e)=>{this._hideForm(!0),e()}),this.listenTo(t.ui,"update",()=>{Mu(e.selection)?this._isVisible&&function(t){const e=t.plugins.get("ContextualBalloon");if(Mu(t.editing.view.document.selection)){const n=Gd(t);e.updatePosition(n)}}(t):this._hideForm(!0)}),Ec({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:Gd(t)}),n.fieldView.value=n.fieldView.element.value=e.value||"",this._form.labeledInput.fieldView.select()}_hideForm(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class Qd extends Rc{static get requires(){return[Rd,Yd]}static get pluginName(){return"ImageTextAlternative"}}n(63);class Zd extends Rc{static get requires(){return[Lu,Id,Qd]}static get pluginName(){return"Image"}}class Kd extends Qa{constructor(t){super(t),this.buttonView=new _c(t),this._fileInputView=new Jd(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Jd extends Qa{constructor(t){super(t),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}function Xd(t){const e=t.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}class th extends Rc{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageUpload",n=>{const r=new Kd(n),o=t.commands.get("imageUpload"),i=t.config.get("image.upload.types"),s=Xd(i);return r.set({acceptedType:i.map(t=>"image/"+t).join(","),allowMultipleFiles:!0}),r.buttonView.set({label:e("Insert image"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',tooltip:!0}),r.buttonView.bind("isEnabled").to(o),r.on("done",(e,n)=>{const r=Array.from(n).filter(t=>s.test(t.type));r.length&&t.execute("imageUpload",{file:r})}),r})}}n(65),n(67),n(69);class eh extends Rc{constructor(t){super(t),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>')}init(){this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(t,e,n){const r=this.editor,o=e.item,i=o.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const s=r.plugins.get(Ul),a=i?e.attributeNewValue:null,c=this.placeholder,l=r.editing.mapper.toViewElement(o),u=n.writer;if("reading"==a)return nh(l,u),void rh(c,l,u);if("uploading"==a){const t=s.loaders.get(i);return nh(l,u),void(t?(oh(l,u),function(t,e,n,r){const o=function(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}(e);e.insert(e.createPositionAt(t,"end"),o),n.on("change:uploadedPercent",(t,e,n)=>{r.change(t=>{t.setStyle("width",n+"%",o)})})}(l,u,t,r.editing.view),function(t,e,n){if(n.data){const r=Nu(t);e.setAttribute("src",n.data,r)}}(l,u,t)):rh(c,l,u))}"complete"==a&&s.loaders.get(i)&&function(t,e,n){const r=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),r),setTimeout(()=>{n.change(t=>t.remove(t.createRangeOn(r)))},3e3)}(l,u,r.editing.view),function(t,e){sh(t,e,"progressBar")}(l,u),oh(l,u),function(t,e){e.removeClass("ck-appear",t)}(l,u)}}function nh(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function rh(t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);const r=Nu(e);r.getAttribute("src")!==t&&n.setAttribute("src",t,r),ih(e,"placeholder")||n.insert(n.createPositionAfter(r),function(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}(n))}function oh(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),sh(t,e,"placeholder")}function ih(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function sh(t,e,n){const r=ih(t,n);r&&e.remove(e.createRangeOn(r))}class ah{constructor(t){this.document=t}createDocumentFragment(t){return new fr(this.document,t)}createElement(t,e,n){return new bn(this.document,t,e,n)}createText(t){return new Re(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const r=n.getChildIndex(t);return this.removeChildren(r,1,n),this.insertChild(r,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new bn(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){w(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return jn._createAt(t,e)}createPositionAfter(t){return jn._createAfter(t)}createPositionBefore(t){return jn._createBefore(t)}createRange(t,e){return new Ln(t,e)}createRangeOn(t){return Ln._createOn(t)}createRangeIn(t){return Ln._createIn(t)}createSelection(t,e,n){return new Bn(t,e,n)}}class ch extends zc{refresh(){this.isEnabled=Du(this.editor.model)}execute(t){const e=this.editor,n=e.model,r=e.plugins.get(Ul);n.change(e=>{const o=Array.isArray(t.file)?t.file:[t.file];for(const t of o)lh(e,n,r,t)})}}function lh(t,e,n,r){const o=n.createLoader(r);o&&Iu(t,e,{uploadId:o.id})}class uh extends Rc{static get requires(){return[Ul,wd,Bc]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}})}init(){const t=this.editor,e=t.model.document,n=t.model.schema,r=t.conversion,o=t.plugins.get(Ul),i=Xd(t.config.get("image.upload.types"));n.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),t.commands.add("imageUpload",new ch(t)),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(e,n)=>{if(r=n.dataTransfer,Array.from(r.types).includes("text/html")&&""!==r.getData("text/html"))return;var r;const o=Array.from(n.dataTransfer.files).filter(t=>!!t&&i.test(t.type)),s=n.targetRanges.map(e=>t.editing.mapper.toModelRange(e));t.model.change(n=>{n.setSelection(s),o.length&&(e.stop(),t.model.enqueueChange("default",()=>{t.execute("imageUpload",{file:o})}))})}),this.listenTo(t.plugins.get(Bc),"inputTransformation",(e,n)=>{const r=Array.from(t.editing.view.createRangeIn(n.content)).filter(t=>{return!(!(e=t.item).is("element","img")||!e.getAttribute("src"))&&(e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||e.getAttribute("src").match(/^blob:/g))&&!t.item.getAttribute("uploadProcessed");var e}).map(t=>{return{promise:(e=t.item,new Promise((t,n)=>{const r=e.getAttribute("src");fetch(r).then(t=>t.blob()).then(e=>{const n=function(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(e,r),o=n.replace("image/",""),i=new File([e],"image."+o,{type:n});t(i)}).catch(n)})),imageElement:t.item};var e});if(!r.length)return;const i=new ah(t.editing.view.document);for(const t of r){i.setAttribute("uploadProcessed",!0,t.imageElement);const e=o.createLoader(t.promise);e&&(i.setAttribute("src","",t.imageElement),i.setAttribute("uploadId",e.id,t.imageElement))}}),t.editing.view.document.on("dragover",(t,e)=>{e.preventDefault()}),e.on("change",()=>{const n=e.differ.getChanges({includeChangesInGraveyard:!0});for(const e of n)if("insert"==e.type&&"$text"!=e.name){const n=e.position.nodeAfter,r="$graveyard"==e.position.root.rootName;for(const e of dh(t,n)){const t=e.getAttribute("uploadId");if(!t)continue;const n=o.loaders.get(t);n&&(r?n.abort():"idle"==n.status&&this._readAndUpload(n,e))}}})}_readAndUpload(t,e){const n=this.editor,r=n.model,o=n.locale.t,i=n.plugins.get(Ul),s=n.plugins.get(wd);return r.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","reading",e)}),t.read().then(()=>{const o=t.upload();if(Kn){const t=Nu(n.editing.mapper.toViewElement(e));n.editing.view.once("render",()=>{if(!t.parent)return;const e=n.editing.view.domConverter.mapViewToDom(t.parent);if(!e)return;const r=e.style.display;e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=r})}return r.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","uploading",e)}),o}).then(t=>{r.enqueueChange("transparent",n=>{n.setAttributes({uploadStatus:"complete",src:t.default},e),this._parseAndSetSrcsetAttributeOnImage(t,e,n)}),a()}).catch(n=>{if("error"!==t.status&&"aborted"!==t.status)throw n;"error"==t.status&&n&&s.showWarning(n,{title:o("Upload failed"),namespace:"upload"}),a(),r.enqueueChange("transparent",t=>{t.remove(e)})});function a(){r.enqueueChange("transparent",t=>{t.removeAttribute("uploadId",e),t.removeAttribute("uploadStatus",e)}),i.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let r=0;const o=Object.keys(t).filter(t=>{const e=parseInt(t,10);if(!isNaN(e))return r=Math.max(r,e),!0}).map(e=>`${t[e]} ${e}w`).join(", ");""!=o&&n.setAttribute("srcset",{data:o,width:r},e)}}function dh(t,e){return Array.from(t.model.createRangeOn(e)).filter(t=>t.item.is("element","image")).map(t=>t.item)}class hh extends Rc{static get pluginName(){return"ImageUpload"}static get requires(){return[uh,th,eh]}}class fh extends zc{refresh(){const t=this.editor.model,e=Wl(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("element","paragraph"),this.isEnabled=!!e&&ph(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document;e.change(r=>{const o=(t.selection||n.selection).getSelectedBlocks();for(const t of o)!t.is("element","paragraph")&&ph(t,e.schema)&&r.rename(t,"paragraph")})}}function ph(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}class gh extends zc{execute(t){const e=this.editor.model;let n=t.position;e.change(t=>{const r=t.createElement("paragraph");if(!e.schema.checkChild(n.parent,r)){const o=e.schema.findAllowedParent(n,r);if(!o)return;n=t.split(n,o).position}e.insertContent(r,n),t.setSelection(r,"in")})}}class mh extends Rc{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model,n=t.data;t.commands.add("paragraph",new fh(t)),t.commands.add("insertParagraph",new gh(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(t,e)=>mh.paragraphLikeElements.has(t.name)?t.isEmpty?null:e.createElement("paragraph"):null,converterPriority:"low"}),n.upcastDispatcher.on("element",(t,e,n)=>{n.consumable.test(e.viewItem,{name:e.viewItem.name})&&wh(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,bh(e.viewItem,e.modelCursor,n))},{priority:"low"}),n.upcastDispatcher.on("text",(t,e,n)=>{e.modelRange||wh(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,bh(e.viewItem,e.modelCursor,n))},{priority:"lowest"}),e.document.registerPostFixer(t=>this._autoparagraphEmptyRoots(t)),t.data.on("ready",()=>{e.enqueueChange("transparent",t=>this._autoparagraphEmptyRoots(t))},{priority:"lowest"})}_autoparagraphEmptyRoots(t){const e=this.editor.model;for(const n of e.document.getRootNames()){const r=e.document.getRoot(n);if(r.isEmpty&&"$graveyard"!=r.rootName&&e.schema.checkChild(r,"paragraph"))return t.insertElement("paragraph",r),!0}}}function bh(t,e,n){const r=n.writer.createElement("paragraph");return n.writer.insert(r,e),n.convertItem(t,n.writer.createPositionAt(r,0))}function wh(t,e,n){const r=n.createContext(e);return!!n.checkChild(r,"paragraph")&&!!n.checkChild(r.push("paragraph"),t)}mh.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);class _h extends zc{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=Wl(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>vh(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model,n=e.document,r=t.value;e.change(t=>{const o=Array.from(n.selection.getSelectedBlocks()).filter(t=>vh(t,r,e.schema));for(const e of o)e.is("element",r)||t.rename(e,r)})}}function vh(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}class yh extends Rc{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[mh]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const r of e)"paragraph"!==r.model&&(t.model.schema.register(r.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(r),n.push(r.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new _h(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(e,r)=>{const o=t.model.document.selection.getFirstPosition().parent;n.some(t=>o.is("element",t.model))&&!o.is("element","paragraph")&&0===o.childCount&&r.writer.rename(o,"paragraph")})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:fe.get("low")+1})}}class kh{constructor(t,e){e&&yn(this,e),t&&this.set(t)}}Ae(kh,En),n(11);class Ch extends Rc{init(){const t=this.editor,e=t.t,n=function(t){const e=t.t,n={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return t.config.get("heading.options").map(t=>{const e=n[t.title];return e&&e!=t.title&&(t.title=e),t})}(t),r=e("Choose heading"),o=e("Heading");t.ui.componentFactory.add("heading",e=>{const i={},s=new Ee,a=t.commands.get("heading"),c=t.commands.get("paragraph"),l=[a];for(const t of n){const e={type:"button",model:new kh({label:t.title,class:t.class,withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(c,"value"),e.model.set("commandName","paragraph"),l.push(c)):(e.model.bind("isOn").to(a,"value",e=>e===t.model),e.model.set({commandName:"heading",commandValue:t.model})),s.add(e),i[t.model]=t.title}const u=Sc(e);return Tc(u,s),u.buttonView.set({isOn:!1,withText:!0,tooltip:o}),u.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),u.bind("isEnabled").toMany(l,"isEnabled",(...t)=>t.some(t=>t)),u.buttonView.bind("label").to(a,"value",c,"value",(t,e)=>{const n=t||e&&"paragraph";return i[n]?i[n]:r}),this.listenTo(u,"execute",e=>{t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()}),u})}}function xh(t){for(const e of t.getChildren())if(e&&e.is("element","caption"))return e;return null}function Ah(t){const e=t.parent;return"figcaption"==t.name&&e&&"figure"==e.name&&e.hasClass("image")?{name:!0}:null}class Eh extends Rc{static get pluginName(){return"ImageCaptionEditing"}init(){const t=this.editor,e=t.editing.view,n=t.data,r=t.editing,o=t.t;t.model.schema.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer(t=>this._insertMissingModelCaptionElement(t)),t.conversion.for("upcast").elementToElement({view:Ah,model:"caption"}),n.downcastDispatcher.on("insert:caption",Sh(t=>t.createContainerElement("figcaption"),!1));const i=function(t,e){return n=>{const r=n.createEditableElement("figcaption");return n.setCustomProperty("imageCaption",!0,r),xa({view:t,element:r,text:e}),Eu(r,n)}}(e,o("Enter image caption"));r.downcastDispatcher.on("insert:caption",Sh(i)),r.downcastDispatcher.on("insert",this._fixCaptionVisibility(t=>t.item),{priority:"high"}),r.downcastDispatcher.on("remove",this._fixCaptionVisibility(t=>t.position.parent),{priority:"high"}),e.document.registerPostFixer(t=>this._updateCaptionVisibility(t))}_updateCaptionVisibility(t){const e=this.editor.editing.mapper,n=this._lastSelectedCaption;let r;const o=this.editor.model.document.selection,i=o.getSelectedElement();if(i&&i.is("element","image")){const t=xh(i);r=e.toViewElement(t)}const s=Th(o.getFirstPosition().parent);if(s&&(r=e.toViewElement(s)),r)return n?(n===r||(Ph(n,t),this._lastSelectedCaption=r),Mh(r,t)):(this._lastSelectedCaption=r,Mh(r,t));if(n){const e=Ph(n,t);return this._lastSelectedCaption=null,e}return!1}_fixCaptionVisibility(t){return(e,n,r)=>{const o=Th(t(n)),i=r.writer;if(o){const t=this.editor.editing.mapper.toViewElement(o);t&&(o.childCount?i.removeClass("ck-hidden",t):i.addClass("ck-hidden",t))}}}_insertMissingModelCaptionElement(t){const e=this.editor.model,n=e.document.differ.getChanges(),r=[];for(const o of n)if("insert"==o.type&&"$text"!=o.name){const t=o.position.nodeAfter;if(t.is("element","image")&&!xh(t)&&r.push(t),!t.is("element","image")&&t.childCount)for(const n of e.createRangeIn(t).getItems())n.is("element","image")&&!xh(n)&&r.push(n)}for(const o of r)t.appendElement("caption",o);return!!r.length}}function Sh(t,e=!0){return(n,r,o)=>{const i=r.item;if((i.childCount||e)&&Ou(i.parent)){if(!o.consumable.consume(r.item,"insert"))return;const e=o.mapper.toViewElement(r.range.start.parent),n=t(o.writer),s=o.writer;i.childCount||s.addClass("ck-hidden",n),function(t,e,n,r){const o=r.writer.createPositionAt(n,"end");r.writer.insert(o,t),r.mapper.bindElements(e,t)}(n,r.item,e,o)}}}function Th(t){const e=t.getAncestors({includeSelf:!0}).find(t=>"caption"==t.name);return e&&e.parent&&"image"==e.parent.name?e:null}function Ph(t,e){return!t.childCount&&!t.hasClass("ck-hidden")&&(e.addClass("ck-hidden",t),!0)}function Mh(t,e){return!!t.hasClass("ck-hidden")&&(e.removeClass("ck-hidden",t),!0)}n(72);class Oh extends zc{constructor(t,e){super(t),this.defaultStyle=!1,this.styles=e.reduce((t,e)=>(t[e.name]=e,e.isDefault&&(this.defaultStyle=e.name),t),{})}refresh(){const t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=Ou(t),t)if(t.hasAttribute("imageStyle")){const e=t.getAttribute("imageStyle");this.value=!!this.styles[e]&&e}else this.value=this.defaultStyle;else this.value=!1}execute(t){const e=t.value,n=this.editor.model,r=n.document.selection.getSelectedElement();n.change(t=>{this.styles[e].isDefault?t.removeAttribute("imageStyle",r):t.setAttribute("imageStyle",e,r)})}}function Ih(t,e){for(const n of e)if(n.name===t)return n}var Dh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',Nh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',Rh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',jh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>';const Lh={full:{name:"full",title:"Full size image",icon:Dh,isDefault:!0},side:{name:"side",title:"Side image",icon:jh,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Nh,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:Rh,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:jh,className:"image-style-align-right"}},Fh={full:Dh,left:Nh,right:jh,center:Rh};function Vh(t=[]){return t.map(Bh)}function Bh(t){if("string"==typeof t){const e=t;Lh[e]?t=Object.assign({},Lh[e]):(console.warn(Object(pe.a)("image-style-not-found: There is no such image style of given name."),{name:e}),t={name:e})}else if(Lh[t.name]){const e=Lh[t.name],n=Object.assign({},t);for(const r in e)Object.prototype.hasOwnProperty.call(t,r)||(n[r]=e[r]);t=n}return"string"==typeof t.icon&&Fh[t.icon]&&(t.icon=Fh[t.icon]),t}class zh extends Rc{static get pluginName(){return"ImageStyleEditing"}init(){const t=this.editor,e=t.model.schema,n=t.data,r=t.editing;t.config.define("image.styles",["full","side"]);const o=Vh(t.config.get("image.styles"));e.extend("image",{allowAttributes:"imageStyle"});const i=function(t){return(e,n,r)=>{if(!r.consumable.consume(n.item,e.name))return;const o=Ih(n.attributeNewValue,t),i=Ih(n.attributeOldValue,t),s=r.mapper.toViewElement(n.item),a=r.writer;i&&a.removeClass(i.className,s),o&&a.addClass(o.className,s)}}(o);r.downcastDispatcher.on("attribute:imageStyle:image",i),n.downcastDispatcher.on("attribute:imageStyle:image",i),n.upcastDispatcher.on("element:figure",function(t){const e=t.filter(t=>!t.isDefault);return(t,n,r)=>{if(!n.modelRange)return;const o=n.viewItem,i=Wl(n.modelRange.getItems());if(r.schema.checkAttribute(i,"imageStyle"))for(const s of e)r.consumable.consume(o,{classes:s.className})&&r.writer.setAttribute("imageStyle",s.name,i)}}(o),{priority:"low"}),t.commands.add("imageStyle",new Oh(t,o))}}n(74);class Uh extends Rc{static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=function(t,e){for(const n of t)e[n.title]&&(n.title=e[n.title]);return t}(Vh(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles);for(const e of t)this._createButton(e)}_createButton(t){const e=this.editor;e.ui.componentFactory.add("imageStyle:"+t.name,n=>{const r=e.commands.get("imageStyle"),o=new _c(n);return o.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),o.bind("isEnabled").to(r,"isEnabled"),o.bind("isOn").to(r,"value",e=>e===t.name),this.listenTo(o,"execute",()=>{e.execute("imageStyle",{value:t.name}),e.editing.view.focus()}),o})}}class Hh extends Rc{static get requires(){return[qd]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",e=>{(function(t){const e=t.getSelectedElement();return!(!e||!ku(e))})(t.editing.view.document.selection)&&e.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:n,getRelatedElement:r,balloonClassName:o="ck-toolbar-container"}){if(!n.length)return void console.warn(Object(pe.a)("widget-toolbar-no-items: Trying to register a toolbar without items."),{toolbarId:t});const i=this.editor,s=i.t,a=new Pc(i.locale);if(a.ariaLabel=e||s("Widget toolbar"),this._toolbarDefinitions.has(t))throw new pe.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:t});a.fillFromConfig(n,i.ui.componentFactory),this._toolbarDefinitions.set(t,{view:a,getRelatedElement:r,balloonClassName:o})}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const r of this._toolbarDefinitions.values()){const o=r.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&o)if(this.editor.ui.focusTracker.isFocused){const i=o.getAncestors().length;i>t&&(t=i,e=o,n=r)}else this._isToolbarVisible(r)&&this._hideToolbar(r);else this._isToolbarInBalloon(r)&&this._hideToolbar(r)}n&&this._showToolbar(n,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?qh(this.editor,e):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:$h(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const t of this._toolbarDefinitions.values())if(this._isToolbarVisible(t)){const e=t.getRelatedElement(this.editor.editing.view.document.selection);qh(this.editor,e)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function qh(t,e){const n=t.plugins.get("ContextualBalloon"),r=$h(t,e);n.updatePosition(r)}function $h(t,e){const n=mu.defaultPositions;return{target:t.editing.view.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,Tu]}}class Wh extends zc{constructor(t){super(t),this._childCommands=[]}refresh(){}execute(...t){return this._getFirstEnabledCommand().execute(t)}registerChildCommand(t){this._childCommands.push(t),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(t=>t.isEnabled)}}class Gh extends Rc{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new Wh(t)),t.commands.add("outdent",new Wh(t))}}var Yh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Qh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Zh extends Rc{static get pluginName(){return"IndentUI"}init(){const t=this.editor,e=t.locale,n=t.t,r="ltr"==e.uiLanguageDirection?Yh:Qh,o="ltr"==e.uiLanguageDirection?Qh:Yh;this._defineButton("indent",n("Increase indent"),r),this._defineButton("outdent",n("Decrease indent"),o)}_defineButton(t,e,n){const r=this.editor;r.ui.componentFactory.add(t,o=>{const i=r.commands.get(t),s=new _c(o);return s.set({label:e,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(s,"execute",()=>{r.execute(t),r.editing.view.focus()}),s})}}class Kh extends wo{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}n(76);class Jh extends Qa{constructor(t,e,n){super(t);const r=t.t;this.focusTracker=new ya,this.keystrokes=new ha,this.urlInputView=this._createUrlInput(n),this.saveButtonView=this._createButton(r("Save"),Bd,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),zd,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e.manualDecorators),this._focusables=new Pa,this._focusCycler=new sc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const o=["ck","ck-link-form"];e.manualDecorators.length&&o.push("ck-link-form_layout-vertical"),this.setTemplate({tag:"form",attributes:{class:o,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,e)=>(t[e.name]=e.isOn,t),{})}render(){super.render(),Vd({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(t="https://"){const e=this.locale.t,n=new jd(this.locale,Fd);return n.label=e("Link URL"),n.fieldView.placeholder=t+"example.com",n}_createButton(t,e,n,r){const o=new _c(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),r&&o.delegate("execute").to(this,r),o}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const n of t.manualDecorators){const r=new Ac(this.locale);r.set({name:n.id,label:n.label,withText:!0}),r.bind("isOn").toMany([n,t],"value",(t,e)=>void 0===e&&void 0===t?n.defaultValue:t),r.on("execute",()=>{n.set("value",!r.isOn)}),e.add(r)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const t=new Qa;t.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(t=>({tag:"li",children:[t],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(t)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}}n(78);class Xh extends Qa{constructor(t){super(t);const e=t.t;this.focusTracker=new ya,this.keystrokes=new ha,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(e("Edit link"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),this.set("href"),this._focusables=new Pa,this._focusCycler=new sc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const r=new _c(this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.delegate("execute").to(this,n),r}_createPreviewButton(){const t=new _c(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",t=>t&&ld(t)),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",t=>t||n("This link has no URL")),t.bind("isEnabled").to(this,"href",t=>!!t),t.template.tag="a",t.template.eventListeners={},t}}const tf=/^((\w+:(\/{2,})?)|(\W))/i,ef=/[\w-]+@[\w-]+\.+[\w-]+/i;class nf extends Rc{static get requires(){return[qd]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(Kh),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(qd),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),t.conversion.for("editingDowncast").markerToHighlight({model:"link-ui",view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:"link-ui",view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const t=this.editor,e=new Xh(t.locale),n=t.commands.get("link"),r=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(e,"edit",()=>{this._addFormView()}),this.listenTo(e,"unlink",()=>{t.execute("unlink"),this._hideUI()}),e.keystrokes.set("Esc",(t,e)=>{this._hideUI(),e()}),e.keystrokes.set("Ctrl+K",(t,e)=>{this._addFormView(),e()}),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=t.config.get("link.defaultProtocol"),r=new Jh(t.locale,e,n);return r.urlInputView.fieldView.bind("value").to(e,"value"),r.urlInputView.bind("isReadOnly").to(e,"isEnabled",t=>!t),r.saveButtonView.bind("isEnabled").to(e),this.listenTo(r,"submit",()=>{const{value:e}=r.urlInputView.fieldView.element,o=!!n&&!tf.test(e),i=ef.test(e);t.execute("link",e&&o?(i?"mailto:":n)+e:e,r.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(r,"cancel",()=>{this._closeFormView()}),r.keystrokes.set("Esc",(t,e)=>{this._closeFormView(),e()}),r}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),n=t.t;t.keystrokes.set("Ctrl+K",(t,e)=>{e(),this._showUI(!0)}),t.ui.componentFactory.add("link",t=>{const r=new _c(t);return r.isEnabled=!0,r.label=n("Link"),r.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',r.keystroke="Ctrl+K",r.tooltip=!0,r.isToggleable=!0,r.bind("isEnabled").to(e,"isEnabled"),r.bind("isOn").to(e,"value",t=>!!t),this.listenTo(r,"execute",()=>this._showUI(!0)),r})}_enableUserBalloonInteractions(){this.listenTo(this.editor.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,e)=>{this._isUIVisible&&(this._hideUI(),e())}),Ec({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const t=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),void 0!==t.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView(),this._showFakeVisualSelection()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),r=i();const o=()=>{const t=this._getSelectedLinkElement(),e=i();n&&!t||!n&&e!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=t,r=e};function i(){return e.selection.focus.getAncestors().reverse().find(t=>t.is("element"))}this.listenTo(t.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document,n=this._getSelectedLinkElement();return{target:n?t.domConverter.mapViewToDom(n):t.domConverter.viewRangeToDom(e.selection.getFirstRange())}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection;if(e.isCollapsed)return rf(e.getFirstPosition());{const n=e.getFirstRange().getTrimmed(),r=rf(n.start),o=rf(n.end);return r&&r==o&&t.createRangeIn(r).getTrimmed().isEqual(n)?r:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change(e=>{t.markers.has("link-ui")?e.updateMarker("link-ui",{range:t.document.selection.getFirstRange()}):e.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:t.document.selection.getFirstRange()})})}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has("link-ui")&&t.change(t=>{t.removeMarker("link-ui")})}}function rf(t){return t.getAncestors().find(t=>{return(e=t).is("attributeElement")&&!!e.getCustomProperty("link");var e})}class of extends zc{constructor(t,e){super(t),this.type=e}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=Array.from(t.document.selection.getSelectedBlocks()).filter(e=>af(e,t.schema)),n=!0===this.value;t.change(t=>{if(n){let n=e[e.length-1].nextSibling,r=Number.POSITIVE_INFINITY,o=[];for(;n&&"listItem"==n.name&&0!==n.getAttribute("listIndent");){const t=n.getAttribute("listIndent");t<r&&(r=t),o.push({element:n,listIndent:t-r}),n=n.nextSibling}o=o.reverse();for(const e of o)t.setAttribute("listIndent",e.listIndent,e.element)}if(!n){let t=Number.POSITIVE_INFINITY;for(const n of e)n.is("element","listItem")&&n.getAttribute("listIndent")<t&&(t=n.getAttribute("listIndent"));t=0===t?1:t,sf(e,!0,t),sf(e,!1,t)}for(const r of e.reverse())n&&"listItem"==r.name?t.rename(r,"paragraph"):n||"listItem"==r.name?n||"listItem"!=r.name||r.getAttribute("listType")==this.type||t.setAttribute("listType",this.type,r):(t.setAttributes({listType:this.type,listIndent:0},r),t.rename(r,"listItem"))})}_getValue(){const t=Wl(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.schema,e=Wl(this.editor.model.document.selection.getSelectedBlocks());return!!e&&af(e,t)}}function sf(t,e,n){const r=e?t[0]:t[t.length-1];if(r.is("element","listItem")){let o=r[e?"previousSibling":"nextSibling"],i=r.getAttribute("listIndent");for(;o&&o.is("element","listItem")&&o.getAttribute("listIndent")>=n;)i>o.getAttribute("listIndent")&&(i=o.getAttribute("listIndent")),o.getAttribute("listIndent")==i&&t[e?"unshift":"push"](o),o=o[e?"previousSibling":"nextSibling"]}}function af(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}class cf extends zc{constructor(t,e){super(t),this._indentBy="forward"==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;let e=Array.from(t.document.selection.getSelectedBlocks());t.change(t=>{const n=e[e.length-1];let r=n.nextSibling;for(;r&&"listItem"==r.name&&r.getAttribute("listIndent")>n.getAttribute("listIndent");)e.push(r),r=r.nextSibling;this._indentBy<0&&(e=e.reverse());for(const o of e){const e=o.getAttribute("listIndent")+this._indentBy;e<0?t.rename(o,"paragraph"):t.setAttribute("listIndent",e,o)}})}_checkEnabled(){const t=Wl(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let r=t.previousSibling;for(;r&&r.is("element","listItem")&&r.getAttribute("listIndent")>=e;){if(r.getAttribute("listIndent")==e)return r.getAttribute("listType")==n;r=r.previousSibling}return!1}return!0}}function lf(t,e,n,r){const o=e.parent,i=n.mapper,s=n.writer;let a=i.toViewPosition(r.createPositionBefore(t));const c=hf(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),l=t.previousSibling;if(c&&c.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=i.toViewElement(c);a=s.breakContainer(s.createPositionAfter(t))}else if(l&&"listItem"==l.name){a=i.toViewPosition(r.createPositionAt(l,"end"));const t=i.findMappedViewAncestor(a),e=function(t){for(const e of t.getChildren())if("ul"==e.name||"ol"==e.name)return e;return null}(t);a=e?s.createPositionBefore(e):s.createPositionAt(t,"end")}else a=i.toViewPosition(r.createPositionBefore(t));if(a=df(a),s.insert(a,o),l&&"listItem"==l.name){const t=i.toViewElement(l),n=s.createRange(s.createPositionAt(t,0),a).getWalker({ignoreElementEnd:!0});for(const r of n)if(r.item.is("element","li")){const t=s.breakContainer(s.createPositionBefore(r.item)),o=r.item.parent,i=s.createPositionAt(e,"end");uf(s,i.nodeBefore,i.nodeAfter),s.move(s.createRangeOn(o),i),n.position=t}}else{const n=o.nextSibling;if(n&&(n.is("element","ul")||n.is("element","ol"))){let r=null;for(const e of n.getChildren()){const n=i.toModelElement(e);if(!(n&&n.getAttribute("listIndent")>t.getAttribute("listIndent")))break;r=e}r&&(s.breakContainer(s.createPositionAfter(r)),s.move(s.createRangeOn(r.parent),s.createPositionAt(e,"end")))}}uf(s,o,o.nextSibling),uf(s,o.previousSibling,o)}function uf(t,e,n){return!e||!n||"ul"!=e.name&&"ol"!=e.name||e.name!=n.name||e.getAttribute("class")!==n.getAttribute("class")?null:t.mergeContainers(t.createPositionAfter(e))}function df(t){return t.getLastMatchingPosition(t=>t.item.is("uiElement"))}function hf(t,e){const n=!!e.sameIndent,r=!!e.smallerIndent,o=e.listIndent;let i=t;for(;i&&"listItem"==i.name;){const t=i.getAttribute("listIndent");if(n&&o==t||r&&o>t)return i;i=i.previousSibling}return null}function ff(t,e,n,r){t.ui.componentFactory.add(e,o=>{const i=t.commands.get(e),s=new _c(o);return s.set({label:n,icon:r,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),s.on("execute",()=>{t.execute(e),t.editing.view.focus()}),s})}function pf(){const t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:vn.call(this)}function gf(t){return(e,n,r)=>{const o=r.consumable;if(!o.test(n.item,"insert")||!o.test(n.item,"attribute:listType")||!o.test(n.item,"attribute:listIndent"))return;o.consume(n.item,"insert"),o.consume(n.item,"attribute:listType"),o.consume(n.item,"attribute:listIndent");const i=n.item;lf(i,function(t,e){const n=e.mapper,r=e.writer,o="numbered"==t.getAttribute("listType")?"ol":"ul",i=function(t){const e=t.createContainerElement("li");return e.getFillerOffset=pf,e}(r),s=r.createContainerElement(o,null);return r.insert(r.createPositionAt(s,0),i),n.bindElements(t,i),i}(i,r),r,t)}}function mf(t,e,n){if(!n.consumable.consume(e.item,"attribute:listType"))return;const r=n.mapper.toViewElement(e.item),o=n.writer;o.breakContainer(o.createPositionBefore(r)),o.breakContainer(o.createPositionAfter(r)),o.rename("numbered"==e.attributeNewValue?"ol":"ul",r.parent)}function bf(t,e,n){const r=n.mapper.toViewElement(e.item).parent,o=n.writer;uf(o,r,r.nextSibling),uf(o,r.previousSibling,r);for(const i of e.item.getChildren())n.consumable.consume(i,"insert")}function wf(t,e,n){if("listItem"!=e.item.name){let t=n.mapper.toViewPosition(e.range.start);const r=n.writer,o=[];for(;("ul"==t.parent.name||"ol"==t.parent.name)&&(t=r.breakContainer(t),"li"==t.parent.name);){const e=t,n=r.createPositionAt(t.parent,"end");if(!e.isEqual(n)){const t=r.remove(r.createRange(e,n));o.push(t)}t=r.createPositionAfter(t.parent)}if(o.length>0){for(let e=0;e<o.length;e++){const n=t.nodeBefore;if(t=r.insert(t,o[e]).end,e>0){const e=uf(r,n,n.nextSibling);e&&e.parent==n&&t.offset--}}uf(r,t.nodeBefore,t.nodeAfter)}}}function _f(t,e,n){const r=n.mapper.toViewPosition(e.position);uf(n.writer,r.nodeBefore,r.nodeAfter)}function vf(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){const t=n.writer,r=t.createElement("listItem"),o=function(t){let e=0,n=t.parent;for(;n;){if(n.is("element","li"))e++;else{const t=n.previousSibling;t&&t.is("element","li")&&e++}n=n.parent}return e}(e.viewItem);t.setAttribute("listIndent",o,r),t.setAttribute("listType",e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted",r);const i=n.splitToAllowedParent(r,e.modelCursor);if(!i)return;t.insert(r,i.position);const s=function(t,e,n){const{writer:r,schema:o}=n;let i=r.createPositionAfter(t);for(const s of e)if("ul"==s.name||"ol"==s.name)i=n.convertItem(s,i).modelCursor;else{const e=n.convertItem(s,r.createPositionAt(t,"end")),a=e.modelRange.start.nodeAfter;a&&a.is("element")&&!o.checkChild(t,a.name)&&(t=e.modelCursor.parent.is("element","listItem")?e.modelCursor.parent:Af(e.modelCursor),i=r.createPositionAfter(t))}return i}(r,e.viewItem.getChildren(),n);e.modelRange=t.createRange(e.modelCursor,s),e.modelCursor=i.cursorParent?t.createPositionAt(i.cursorParent,0):e.modelRange.end}}function yf(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){const t=Array.from(e.viewItem.getChildren());for(const e of t)!e.is("element","li")&&!Sf(e)&&e._remove()}}function kf(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const t=[...e.viewItem.getChildren()];let n=!1,r=!0;for(const e of t)n&&!Sf(e)&&e._remove(),e.is("$text")?(r&&(e._data=e.data.replace(/^\s+/,"")),e.nextSibling&&!Sf(e.nextSibling)||(e._data=e.data.replace(/\s+$/,""))):Sf(e)&&(n=!0),r=!1}}function Cf(t){return(e,n)=>{if(n.isPhantom)return;const r=n.modelPosition.nodeBefore;if(r&&r.is("element","listItem")){const e=n.mapper.toViewElement(r),o=e.getAncestors().find(Sf),i=t.createPositionAt(e,0).getWalker();for(const t of i){if("elementStart"==t.type&&t.item.is("element","li")){n.viewPosition=t.previousPosition;break}if("elementEnd"==t.type&&t.item==o){n.viewPosition=t.nextPosition;break}}}}}function xf(t,[e,n]){let r,o=e.is("documentFragment")?e.getChild(0):e;if(r=n?this.createSelection(n):this.document.selection,o&&o.is("element","listItem")){const t=r.getFirstPosition();let e=null;if(t.parent.is("element","listItem")?e=t.parent:t.nodeBefore&&t.nodeBefore.is("element","listItem")&&(e=t.nodeBefore),e){const t=e.getAttribute("listIndent");if(t>0)for(;o&&o.is("element","listItem");)o._setAttribute("listIndent",o.getAttribute("listIndent")+t),o=o.nextSibling}}}function Af(t){const e=new ri({startPosition:t});let n;do{n=e.next()}while(!n.value.item.is("element","listItem"));return n.value.item}function Ef(t,e,n,r,o,i){const s=hf(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),a=o.mapper,c=o.writer,l=s?s.getAttribute("listIndent"):null;let u;if(s)if(l==t){const t=a.toViewElement(s).parent;u=c.createPositionAfter(t)}else{const t=i.createPositionAt(s,"end");u=a.toViewPosition(t)}else u=n;u=df(u);for(const d of[...r.getChildren()])Sf(d)&&(u=c.move(c.createRangeOn(d),u).end,uf(c,d,d.nextSibling),uf(c,d.previousSibling,d))}function Sf(t){return t.is("element","ol")||t.is("element","ul")}class Tf extends Rc{static get pluginName(){return"ListEditing"}static get requires(){return[mh]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data,n=t.editing;var r;t.model.document.registerPostFixer(e=>function(t,e){const n=t.document.differ.getChanges(),r=new Map;let o=!1;for(const c of n)if("insert"==c.type&&"listItem"==c.name)i(c.position);else if("insert"==c.type&&"listItem"!=c.name){if("$text"!=c.name){const n=c.position.nodeAfter;n.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",n),o=!0),n.hasAttribute("listType")&&(e.removeAttribute("listType",n),o=!0);for(const e of Array.from(t.createRangeIn(n)).filter(t=>t.item.is("element","listItem")))i(e.previousPosition)}i(c.position.getShiftedBy(c.length))}else"remove"==c.type&&"listItem"==c.name?i(c.position):("attribute"==c.type&&"listIndent"==c.attributeKey||"attribute"==c.type&&"listType"==c.attributeKey)&&i(c.range.start);for(const c of r.values())s(c),a(c);return o;function i(t){const e=t.nodeBefore;if(e&&e.is("element","listItem")){let t=e;if(r.has(t))return;for(let e=t.previousSibling;e&&e.is("element","listItem");e=t.previousSibling)if(t=e,r.has(t))return;r.set(e,t)}else{const e=t.nodeAfter;e&&e.is("element","listItem")&&r.set(e,e)}}function s(t){let n=0,r=null;for(;t&&t.is("element","listItem");){const i=t.getAttribute("listIndent");if(i>n){let s;null===r?(r=i-n,s=n):(r>i&&(r=i),s=i-r),e.setAttribute("listIndent",s,t),o=!0}else r=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function a(t){let n=[],r=null;for(;t&&t.is("element","listItem");){const i=t.getAttribute("listIndent");if(r&&r.getAttribute("listIndent")>i&&(n=n.slice(0,i+1)),0!=i)if(n[i]){const r=n[i];t.getAttribute("listType")!=r&&(e.setAttribute("listType",r,t),o=!0)}else n[i]=t.getAttribute("listType");r=t,t=t.nextSibling}}}(t.model,e)),n.mapper.registerViewToModelLength("li",Pf),e.mapper.registerViewToModelLength("li",Pf),n.mapper.on("modelToViewPosition",Cf(n.view)),n.mapper.on("viewToModelPosition",(r=t.model,(t,e)=>{const n=e.viewPosition,o=n.parent,i=e.mapper;if("ul"==o.name||"ol"==o.name){if(n.isAtEnd){const t=i.toModelElement(n.nodeBefore),o=i.getModelLength(n.nodeBefore);e.modelPosition=r.createPositionBefore(t).getShiftedBy(o)}else{const t=i.toModelElement(n.nodeAfter);e.modelPosition=r.createPositionBefore(t)}t.stop()}else if("li"==o.name&&n.nodeBefore&&("ul"==n.nodeBefore.name||"ol"==n.nodeBefore.name)){const s=i.toModelElement(o);let a=1,c=n.nodeBefore;for(;c&&Sf(c);)a+=i.getModelLength(c),c=c.previousSibling;e.modelPosition=r.createPositionBefore(s).getShiftedBy(a),t.stop()}})),e.mapper.on("modelToViewPosition",Cf(n.view)),t.conversion.for("editingDowncast").add(e=>{e.on("insert",wf,{priority:"high"}),e.on("insert:listItem",gf(t.model)),e.on("attribute:listType:listItem",mf,{priority:"high"}),e.on("attribute:listType:listItem",bf,{priority:"low"}),e.on("attribute:listIndent:listItem",function(t){return(e,n,r)=>{if(!r.consumable.consume(n.item,"attribute:listIndent"))return;const o=r.mapper.toViewElement(n.item),i=r.writer;i.breakContainer(i.createPositionBefore(o)),i.breakContainer(i.createPositionAfter(o));const s=o.parent,a=s.previousSibling,c=i.createRangeOn(s);i.remove(c),a&&a.nextSibling&&uf(i,a,a.nextSibling),Ef(n.attributeOldValue+1,n.range.start,c.start,o,r,t),lf(n.item,o,r,t);for(const t of n.item.getChildren())r.consumable.consume(t,"insert")}}(t.model)),e.on("remove:listItem",function(t){return(e,n,r)=>{const o=r.mapper.toViewPosition(n.position).getLastMatchingPosition(t=>!t.item.is("element","li")).nodeAfter,i=r.writer;i.breakContainer(i.createPositionBefore(o)),i.breakContainer(i.createPositionAfter(o));const s=o.parent,a=s.previousSibling,c=i.createRangeOn(s),l=i.remove(c);a&&a.nextSibling&&uf(i,a,a.nextSibling),Ef(r.mapper.toModelElement(o).getAttribute("listIndent")+1,n.position,c.start,o,r,t);for(const t of i.createRangeIn(l).getItems())r.mapper.unbindViewElement(t);e.stop()}}(t.model)),e.on("remove",_f,{priority:"low"})}),t.conversion.for("dataDowncast").add(e=>{e.on("insert",wf,{priority:"high"}),e.on("insert:listItem",gf(t.model))}),t.conversion.for("upcast").add(t=>{t.on("element:ul",yf,{priority:"high"}),t.on("element:ol",yf,{priority:"high"}),t.on("element:li",kf,{priority:"high"}),t.on("element:li",vf)}),t.model.on("insertContent",xf,{priority:"high"}),t.commands.add("numberedList",new of(t,"numbered")),t.commands.add("bulletedList",new of(t,"bulleted")),t.commands.add("indentList",new cf(t,"forward")),t.commands.add("outdentList",new cf(t,"backward"));const o=n.view.document;this.listenTo(o,"enter",(t,e)=>{const n=this.editor.model.document,r=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==r.name&&r.isEmpty&&(this.editor.execute("outdentList"),e.preventDefault(),t.stop())}),this.listenTo(o,"delete",(t,e)=>{if("backward"!==e.direction)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const r=n.getFirstPosition();if(!r.isAtStart)return;const o=r.parent;"listItem"===o.name&&(o.previousSibling&&"listItem"===o.previousSibling.name||(this.editor.execute("outdentList"),e.preventDefault(),t.stop()))},{priority:"high"});const i=t=>(e,n)=>{this.editor.commands.get(t).isEnabled&&(this.editor.execute(t),n())};t.keystrokes.set("Tab",i("indentList")),t.keystrokes.set("Shift+Tab",i("outdentList"))}afterInit(){const t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}function Pf(t){let e=1;for(const n of t.getChildren())if("ul"==n.name||"ol"==n.name)for(const t of n.getChildren())e+=Pf(t);return e}class Mf extends Rc{init(){const t=this.editor.t;ff(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),ff(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function Of(t,e){return t=>{t.on("attribute:url:media",n)};function n(n,r,o){if(!o.consumable.consume(r.item,n.name))return;const i=r.attributeNewValue,s=o.writer,a=o.mapper.toViewElement(r.item),c=[...a.getChildren()].find(t=>t.getCustomProperty("media-content"));s.remove(c);const l=t.getMediaViewElement(s,i,e);s.insert(s.createPositionAt(a,0),l)}}function If(t,e,n,r){const o=t.createContainerElement("figure",{class:"media"});return t.insert(t.createPositionAt(o,0),e.getMediaViewElement(t,n,r)),o}function Df(t){const e=t.getSelectedElement();return e&&e.is("element","media")?e:null}function Nf(t,e,n){t.change(r=>{const o=r.createElement("media",{url:e});t.insertContent(o,n),r.setSelection(o,"on")})}class Rf extends zc{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema,r=e.getFirstPosition(),o=Df(e);let i=r.parent;i!=i.root&&(i=i.parent),this.value=o?o.getAttribute("url"):null,this.isEnabled=n.checkChild(i,"media")}execute(t){const e=this.editor.model,n=e.document.selection,r=Df(n);if(r)e.change(e=>{e.setAttribute("url",t,r)});else{const r=Su(n,e);Nf(e,t,r)}}}class jf{constructor(t,e){const n=e.providers,r=e.extraProviders||[],o=new Set(e.removeProviders),i=n.concat(r).filter(t=>{const e=t.name;return e?!o.has(e):(console.warn(Object(pe.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."),{provider:t}),!1)});this.locale=t,this.providerDefinitions=i}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new Lf(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html;let r=e.url;Array.isArray(r)||(r=[r]);for(const e of r){const r=this._getUrlMatches(t,e);if(r)return new Lf(this.locale,t,r,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let r=t.replace(/^https?:\/\//,"");return n=r.match(e),n||(r=r.replace(/^www\./,""),n=r.match(e),n||null)}}class Lf{constructor(t,e,n,r){this.url=this._getValidUrl(e),this._t=t.t,this._match=n,this._previewRenderer=r}getViewElement(t,e){const n={};let r;if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const o=this._getPreviewHtml(e);r=t.createRawElement("div",n,(function(t){t.innerHTML=o}))}else this.url&&(n.url=this.url),r=t.createEmptyElement("oembed",n);return t.setCustomProperty("media-content",!0,r),r}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new wc,e=new bc;return t.text=this._t("Open media in new tab"),e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Ma({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},t]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}n(80);class Ff extends Rc{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new jf(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,r=t.conversion,o=t.config.get("mediaEmbed.previewsInData"),i=this.registry;t.commands.add("mediaEmbed",new Rf(t)),e.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),r.for("dataDowncast").elementToElement({model:"media",view:(t,e)=>{const n=t.getAttribute("url");return If(e,i,n,{renderMediaPreview:n&&o})}}),r.for("dataDowncast").add(Of(i,{renderMediaPreview:o})),r.for("editingDowncast").elementToElement({model:"media",view:(t,e)=>{const r=t.getAttribute("url");return o=If(e,i,r,{renderForEditingView:!0}),s=e,a=n("media widget"),s.setCustomProperty("media",!0,o),Cu(o,s,{label:a});var o,s,a}}),r.for("editingDowncast").add(Of(i,{renderForEditingView:!0})),r.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:(t,e)=>{const n=t.getAttribute("url");if(i.hasMedia(n))return e.createElement("media",{url:n})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(t,e)=>{const n=t.getAttribute("data-oembed-url");if(i.hasMedia(n))return e.createElement("media",{url:n})}})}}const Vf=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;class Bf extends Rc{static get requires(){return[Bc,Fl]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document;this.listenTo(t.plugins.get(Bc),"inputTransformation",()=>{const t=e.selection.getFirstRange(),n=Zs.fromPosition(t.start);n.stickiness="toPrevious";const r=Zs.fromPosition(t.end);r.stickiness="toNext",e.once("change:data",()=>{this._embedMediaBetweenPositions(n,r),n.detach(),r.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(Hr.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,r=n.plugins.get(Ff).registry,o=new vi(t,e),i=o.getWalker({ignoreElementEnd:!0});let s="";for(const a of i)a.item.is("$textProxy")&&(s+=a.item.data);s=s.trim(),s.match(Vf)&&r.hasMedia(s)&&n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Zs.fromPosition(t),this._timeoutId=Hr.window.setTimeout(()=>{n.model.change(t=>{let e;this._timeoutId=null,t.remove(o),o.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(e=this._positionToInsert),Nf(n.model,s,e),this._positionToInsert.detach(),this._positionToInsert=null})},100)):o.detach()}}n(82);class zf extends Qa{constructor(t,e){super(e);const n=e.t;this.focusTracker=new ya,this.keystrokes=new ha,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),Bd,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),zd,"ck-button-cancel","cancel"),this._focusables=new Pa,this._focusCycler=new sc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Vd({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const t=t=>t.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(t,e)=>{e.stopPropagation()},{priority:"high"})}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new jd(this.locale,Fd),n=e.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),e.label=t("Media URL"),e.infoText=this._urlInputViewInfoDefault,n.placeholder="https://example.com",n.on("input",()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault}),e}_createButton(t,e,n,r){const o=new _c(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),r&&o.delegate("execute").to(this,r),o}}class Uf extends Rc{static get requires(){return[Ff]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,e=t.commands.get("mediaEmbed"),n=t.plugins.get(Ff).registry;t.ui.componentFactory.add("mediaEmbed",r=>{const o=Sc(r),i=new zf(function(t,e){return[e=>{if(!e.url.length)return t("The URL must not be empty.")},n=>{if(!e.hasMedia(n.url))return t("This media URL is not supported.")}]}(t.t,n),t.locale);return this._setUpDropdown(o,i,e,t),this._setUpForm(o,i,e),o})}_setUpDropdown(t,e,n){const r=this.editor,o=r.t,i=t.buttonView;function s(){r.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(n),t.panelView.children.add(e),i.set({label:o("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),i.on("open",()=>{e.url=n.value||"",e.urlInputView.fieldView.select(),e.focus()},{priority:"low"}),t.on("submit",()=>{e.isValid()&&(r.execute("mediaEmbed",e.url),s())}),t.on("change:isOpen",()=>e.resetFormStatus()),t.on("cancel",()=>s())}_setUpForm(t,e,n){e.delegate("submit","cancel").to(t),e.urlInputView.bind("value").to(n,"value"),e.urlInputView.bind("isReadOnly").to(n,"isEnabled",t=>!t),e.saveButtonView.bind("isEnabled").to(n)}}function Hf(t,e,n){const r=e.parent,o=n.createElement(t.type),i=r.getChildIndex(e)+1;return n.insertChild(i,o,r),o}function qf(t){const e={},n=t.getStyle("mso-list");if(n){const t=n.match(/(^|\s+)l(\d+)/i),r=n.match(/\s*lfo(\d+)/i),o=n.match(/\s*level(\d+)/i);t&&r&&o&&(e.id=t[2],e.order=r[1],e.indent=o[1])}return e}n(84);const $f=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Wf{constructor(t){this.document=t}isActive(t){return $f.test(t)}execute(t){const e=new ah(this.document);!function(t,e){for(const n of t.getChildren())if(n.is("element","b")&&"normal"===n.getStyle("font-weight")){const r=t.getChildIndex(n);e.remove(n),e.insertChild(r,n.getChildren(),t)}}(t.content,e),function(t,e){for(const n of e.createRangeIn(t)){const t=n.item;if(t.is("element","li")){const n=t.getChild(0);n.is("element","p")&&e.unwrapElement(n)}}}(t.content,e)}}function Gf(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>1===e.length?" ":Array(e.length+1).join("\xa0 ").substr(0,e.length))}const Yf=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Qf=/xmlns:o="urn:schemas-microsoft-com/i;class Zf{constructor(t){this.document=t}isActive(t){return Yf.test(t)||Qf.test(t)}execute(t){const{body:e,stylesString:n}=function(t,e){const n=new DOMParser,r=function(t){return Gf(Gf(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(t){const e=t.match(/<\/body>(.*?)(<\/html>|$)/);return e&&e[1]&&(t=t.slice(0,e.index)+t.slice(e.index).replace(e[1],"")),t}(t=t.replace(/<!--\[if gte vml 1]>/g,""))),o=n.parseFromString(r,"text/html");!function(t){t.querySelectorAll("span[style*=spacerun]").forEach(t=>{const e=t.innerText.length||0;t.innerHTML=Array(e+1).join("\xa0 ").substr(0,e)})}(o);const i=o.body.innerHTML,s=function(t,e){const n=new Un(e),r=new Gr(n,{blockFillerMode:"nbsp"}),o=t.createDocumentFragment(),i=t.body.childNodes;for(;i.length>0;)o.appendChild(i[0]);return r.domToView(o)}(o,e),a=function(t){const e=[],n=[],r=Array.from(t.getElementsByTagName("style"));for(const o of r)o.sheet&&o.sheet.cssRules&&o.sheet.cssRules.length&&(e.push(o.sheet),n.push(o.innerHTML));return{styles:e,stylesString:n.join(" ")}}(o);return{body:s,bodyString:i,styles:a.styles,stylesString:a.stylesString}}(t.dataTransfer.getData("text/html"),this.document.stylesProcessor);(function(t,e){if(!t.childCount)return;const n=new ah(t.document),r=function(t,e){const n=e.createRangeIn(t),r=new Fe({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),o=[];for(const i of n)if("elementStart"===i.type&&r.match(i.item)){const t=qf(i.item);o.push({element:i.item,id:t.id,order:t.order,indent:t.indent})}return o}(t,n);if(!r.length)return;let o=null,i=1;r.forEach((t,s)=>{const a=function(t,e){if(!t)return!0;if(t.id!==e.id)return!0;const n=e.element.previousSibling;return!n||!((r=n).is("element","ol")||r.is("element","ul"));var r}(r[s-1],t),c=(u=t,(l=a?null:r[s-1])?u.indent-l.indent:u.indent-1);var l,u;if(a&&(o=null,i=1),!o||0!==c){const r=function(t,e){const n=/mso-level-number-format:([^;]*);/gi,r=new RegExp(`@list l${t.id}:level${t.indent}\\s*({[^}]*)`,"gi").exec(e);let o="decimal";if(r&&r[1]){const t=n.exec(r[1]);t&&t[1]&&(o=t[1].trim())}return{type:"bullet"!==o&&"image"!==o?"ol":"ul",style:o}}(t,e);if(o)if(t.indent>i){const t=o.getChild(o.childCount-1),e=t.getChild(t.childCount-1);o=Hf(r,e,n),i+=1}else t.indent<i&&(o=function(t,e){const n=t.getAncestors({parentFirst:!0});let r=null,o=0;for(const i of n)if("ul"!==i.name&&"ol"!==i.name||o++,o===e){r=i;break}return r}(o,i-t.indent),i=parseInt(t.indent));else o=Hf(r,t.element,n);t.indent<=i&&(o.is("element",r.type)||(o=n.rename(r.type,o)))}const d=function(t,e){return function(t,e){const n=new Fe({name:"span",styles:{"mso-list":"Ignore"}}),r=e.createRangeIn(t);for(const o of r)"elementStart"===o.type&&n.match(o.item)&&e.remove(o.item)}(t,e),e.rename("li",t)}(t.element,n);n.appendChild(d,o)})})(e,n),function(t,e){if(!t.childCount)return;const n=new ah;!function(t,e,n){const r=n.createRangeIn(e),o=new Fe({name:"img"}),i=[];for(const s of r)if(o.match(s.item)){const e=s.item,n=e.getAttribute("v:shapes")?e.getAttribute("v:shapes").split(" "):[];n.length&&n.every(e=>t.indexOf(e)>-1)?i.push(e):e.getAttribute("src")||i.push(e)}for(const s of i)n.remove(s)}(function(t,e){const n=e.createRangeIn(t),r=new Fe({name:/v:(.+)/}),o=[];for(const i of n){const t=i.item,e=t.previousSibling&&t.previousSibling.name||null;r.match(t)&&t.getAttribute("o:gfxdata")&&"v:shapetype"!==e&&o.push(i.item.getAttribute("id"))}return o}(t,n),t,n),function(t,e){const n=e.createRangeIn(t),r=new Fe({name:/v:(.+)/}),o=[];for(const i of n)r.match(i.item)&&o.push(i.item);for(const i of o)e.remove(i)}(t,n);const r=function(t,e){const n=e.createRangeIn(t),r=new Fe({name:"img"}),o=[];for(const i of n)r.match(i.item)&&i.item.getAttribute("src").startsWith("file://")&&o.push(i.item);return o}(t,n);r.length&&function(t,e,n){if(t.length===e.length)for(let o=0;o<t.length;o++){const i=`data:${e[o].type};base64,${r=e[o].hex,btoa(r.match(/\w{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join(""))}`;n.setAttribute("src",i,t[o])}var r}(r,function(t){if(!t)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),r=t.match(n),o=[];if(r)for(const i of r){let t=!1;i.includes("\\pngblip")?t="image/png":i.includes("\\jpegblip")&&(t="image/jpeg"),t&&o.push({hex:i.replace(e,"").replace(/[^\da-fA-F]/g,""),type:t})}return o}(e),n)}(e,t.dataTransfer.getData("text/rtf")),t.content=e}}function Kf(t,e,n,r,o=1){e>o?r.setAttribute(t,e,n):r.removeAttribute(t,n)}function Jf(t,e,n={}){const r=t.createElement("tableCell",n);return t.insertElement("paragraph",r),t.insert(r,e),r}function Xf(t,e){const n=parseInt(e.parent.parent.getAttribute("headingColumns")||0),{column:r}=t.getCellLocation(e);return!!n&&r<n}function tp(t){return e=>{e.on("element:"+t,(t,e,n)=>{const r=e.viewItem;if(!n.consumable.test(r,{name:!0}))return;const o=n.writer.createElement("tableCell"),i=n.splitToAllowedParent(o,e.modelCursor);if(!i)return;n.writer.insert(o,i.position),n.consumable.consume(r,{name:!0});const s=n.writer.createPositionAt(o,0);n.convertChildren(r,s),o.childCount||n.writer.insertElement("paragraph",s),e.modelRange=n.writer.createRange(n.writer.createPositionBefore(o),n.writer.createPositionAfter(o)),e.modelCursor=e.modelRange.end})}}function ep(t){let e=0,n=0;const r=Array.from(t.getChildren()).filter(t=>"th"===t.name||"td"===t.name);for(;n<r.length&&"th"===r[n].name;)e+=parseInt(r[n].getAttribute("colspan")||1),n++;return e}class np{constructor(t,e={}){this._table=t,this._startRow=void 0!==e.row?e.row:e.startRow||0,this._endRow=void 0!==e.row?e.row:e.endRow,this._startColumn=void 0!==e.column?e.column:e.startColumn||0,this._endColumn=void 0!==e.column?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const t=this._table.getChild(this._row);if(!t||this._isOverEndRow())return{done:!0};if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(n.cell,n.row,n.column));else{const n=t.getChild(this._cellIndex);if(!n)return this._advanceToNextRow();const r=parseInt(n.getAttribute("colspan")||1),o=parseInt(n.getAttribute("rowspan")||1);(r>1||o>1)&&this._recordSpans(n,o,r),this._shouldSkipSlot()||(e=this._formatOutValue(n)),this._nextCellAtColumn=this._column+r}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(t,e=this._row,n=this._column){return{done:!1,value:new rp(this,t,e,n)}}_shouldSkipSlot(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,n){const r={cell:t,row:this._row,column:this._column};for(let o=this._row;o<this._row+e;o++)for(let t=this._column;t<this._column+n;t++)o==this._row&&t==this._column||this._markSpannedCell(o,t,r)}_markSpannedCell(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,n)}}class rp{constructor(t,e,n,r){this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=n,this.cellAnchorColumn=r,this._cellIndex=t._cellIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function op(t={}){return e=>e.on("insert:table",(e,n,r)=>{const o=n.item;if(!r.consumable.consume(o,"insert"))return;r.consumable.consume(o,"attribute:headingRows:table"),r.consumable.consume(o,"attribute:headingColumns:table");const i=t&&t.asWidget,s=r.writer.createContainerElement("figure",{class:"table"}),a=r.writer.createContainerElement("table");let c;var l,u;r.writer.insert(r.writer.createPositionAt(s,0),a),i&&((u=r.writer).setCustomProperty("table",!0,l=s),c=Cu(l,u,{hasSelectionHandle:!0}));const d=new np(o),h={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},f=new Map;for(const g of d){const{row:e,cell:n}=g,i=o.getChild(e),s=f.get(e)||ap(a,i,e,h,r);f.set(e,s),r.consumable.consume(n,"insert"),sp(g,h,r.writer.createPositionAt(s,"end"),r,t)}for(const t of o.getChildren()){const e=t.index;f.has(e)||f.set(e,ap(a,t,e,h,r))}const p=r.mapper.toViewPosition(n.range.start);r.mapper.bindElements(o,i?c:s),r.writer.insert(p,i?c:s)})}function ip(t,e,n){const{cell:r}=t,o=cp(t,e),i=n.mapper.toViewElement(r);i&&i.name!==o&&function(t,e,n){const r=n.writer,o=n.mapper.toViewElement(t),i=Eu(r.createEditableElement(e,o.getAttributes()),r);xu(i,r,(t,e,n)=>n.addClass(dp(e.classes),t),(t,e,n)=>n.removeClass(dp(e.classes),t)),r.insert(r.createPositionAfter(o),i),r.move(r.createRangeIn(o),r.createPositionAt(i,0)),r.remove(r.createRangeOn(o)),n.mapper.unbindViewElement(o),n.mapper.bindElements(t,i)}(r,o,n)}function sp(t,e,n,r,o){const i=o&&o.asWidget,s=cp(t,e),a=i?Eu(r.writer.createEditableElement(s),r.writer):r.writer.createContainerElement(s);i&&xu(a,r.writer,(t,e,n)=>n.addClass(dp(e.classes),t),(t,e,n)=>n.removeClass(dp(e.classes),t));const c=t.cell,l=c.getChild(0),u=1===c.childCount&&"paragraph"===l.name;if(r.writer.insert(n,a),u&&![...l.getAttributeKeys()].length){const t=c.getChild(0),e=r.writer.createPositionAt(a,"end");if(r.consumable.consume(t,"insert"),i){const n=r.writer.createContainerElement("span",{style:"display:inline-block"});r.mapper.bindElements(t,n),r.writer.insert(e,n),r.mapper.bindElements(c,a)}else r.mapper.bindElements(c,a),r.mapper.bindElements(t,a)}else r.mapper.bindElements(c,a)}function ap(t,e,n,r,o){o.consumable.consume(e,"insert");const i=e.isEmpty?o.writer.createEmptyElement("tr"):o.writer.createContainerElement("tr");o.mapper.bindElements(e,i);const s=r.headingRows,a=function(t,e,n){return lp(t,e)||function(t,e,n){const r=n.writer.createContainerElement(t),o=n.writer.createPositionAt(e,"tbody"==t?"end":0);return n.writer.insert(o,r),r}(t,e,n)}(function(t,e){return t<e.headingRows?"thead":"tbody"}(n,r),t,o),c=o.writer.createPositionAt(a,s>0&&n>=s?n-s:n);return o.writer.insert(c,i),i}function cp(t,e){const{row:n,column:r}=t,{headingColumns:o,headingRows:i}=e;return i&&i>n?"th":o&&o>r?"th":"td"}function lp(t,e){for(const n of e.getChildren())if(n.name==t)return n}function up(t,e,n){const r=lp(t,e);r&&0===r.childCount&&n.writer.remove(n.writer.createRangeOn(r))}function dp(t){return Array.isArray(t)?t:[t]}class hp extends zc{refresh(){const t=this.editor.model,e=t.schema,n=function(t){const e=t.parent;return e===e.root?e:e.parent}(t.document.selection.getFirstPosition());this.isEnabled=e.checkChild(n,"table")}execute(t={}){const e=this.editor.model,n=e.document.selection,r=this.editor.plugins.get("TableUtils"),o=Su(n,e);e.change(n=>{const i=r.createTable(n,t);e.insertContent(i,o),n.setSelection(n.createPositionAt(i.getNodeByPath([0,0,0]),0))})}}function fp(t){const e=[];for(const n of _p(t.getRanges())){const t=n.getContainedElement();t&&t.is("element","tableCell")&&e.push(t)}return e}function pp(t){const e=[];for(const n of t.getRanges()){const t=n.start.findAncestor("tableCell");t&&e.push(t)}return e}function gp(t){const e=fp(t);return e.length?e:pp(t)}function mp(t){return vp(t.map(t=>t.parent.index))}function bp(t){const e=t[0].findAncestor("table");return vp([...new np(e)].filter(e=>t.includes(e.cell)).map(t=>t.column))}function wp(t,e){if(t.length<2||!function(t){const e=t[0].findAncestor("table");if(!kp(mp(t),parseInt(e.getAttribute("headingRows")||0)))return!1;const n=parseInt(e.getAttribute("headingColumns")||0);return kp(bp(t),n)}(t))return!1;const n=new Set,r=new Set;let o=0;for(const i of t){const{row:t,column:s}=e.getCellLocation(i),a=parseInt(i.getAttribute("rowspan")||1),c=parseInt(i.getAttribute("colspan")||1);n.add(t),r.add(s),a>1&&n.add(t+a-1),c>1&&r.add(s+c-1),o+=a*c}return function(t,e){const n=Array.from(t.values()),r=Array.from(e.values());return(Math.max(...n)-Math.min(...n)+1)*(Math.max(...r)-Math.min(...r)+1)}(n,r)==o}function _p(t){return Array.from(t).sort(yp)}function vp(t){const e=t.sort((t,e)=>t-e);return{first:e[0],last:e[e.length-1]}}function yp(t,e){return t.start.isBefore(e.start)?-1:1}function kp({first:t,last:e},n){return t<n==e<n}class Cp extends zc{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!t}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),r="above"===this.order,o=gp(e),i=mp(o),s=r?i.first:i.last,a=o[0].findAncestor("table");n.insertRows(a,{at:r?s:s+1,copyStructureFromAbove:!r})}}class xp extends zc{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!t}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),r="left"===this.order,o=gp(e),i=bp(o),s=r?i.first:i.last,a=o[0].findAncestor("table");n.insertColumns(a,{columns:1,at:r?s:s+1})}}class Ap extends zc{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=gp(this.editor.model.document.selection);this.isEnabled=1===t.length}execute(){const t=gp(this.editor.model.document.selection)[0],e="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");e?n.splitCellHorizontally(t,2):n.splitCellVertically(t,2)}}function Ep(t,e,n){const{startRow:r,startColumn:o,endRow:i,endColumn:s}=e,a=n.createElement("table"),c=i-r+1;for(let u=0;u<c;u++)n.insertElement("tableRow",a,"end");const l=[...new np(t,{startRow:r,endRow:i,startColumn:o,endColumn:s,includeAllSlots:!0})];for(const{row:u,column:d,cell:h,isAnchor:f,cellAnchorRow:p,cellAnchorColumn:g}of l){const t=a.getChild(u-r);if(f){const e=n.cloneElement(h);n.append(e,t),Op(e,u,d,i,s,n)}else(p<r||g<o)&&Jf(n,n.createPositionAt(t,"end"))}return function(t,e,n,r,o){const i=parseInt(e.getAttribute("headingRows")||0);i>0&&Kf("headingRows",i-n,t,o,0);const s=parseInt(e.getAttribute("headingColumns")||0);s>0&&Kf("headingColumns",s-r,t,o,0)}(a,t,r,o,n),a}function Sp(t,e,n=0){const r=[],o=new np(t,{startRow:n,endRow:e-1});for(const i of o){const{row:t,cellHeight:n}=i,o=t+n-1;t<e&&e<=o&&r.push(i)}return r}function Tp(t,e,n){const r=t.parent,o=r.parent,i=r.index,s=e-i,a={},c=parseInt(t.getAttribute("rowspan"))-s;c>1&&(a.rowspan=c);const l=parseInt(t.getAttribute("colspan")||1);l>1&&(a.colspan=l);const u=i+s,d=[...new np(o,{startRow:i,endRow:u,includeAllSlots:!0})];let h,f=null;for(const p of d){const{row:e,column:r,cell:o}=p;o===t&&void 0===h&&(h=r),void 0!==h&&h===r&&e===u&&(f=Jf(n,p.getPositionBefore(),a))}return Kf("rowspan",s,t,n),f}function Pp(t,e){const n=[],r=new np(t);for(const o of r){const{column:t,cellWidth:r}=o,i=t+r-1;t<e&&e<=i&&n.push(o)}return n}function Mp(t,e,n,r){const o=n-e,i={},s=parseInt(t.getAttribute("colspan"))-o;s>1&&(i.colspan=s);const a=parseInt(t.getAttribute("rowspan")||1);a>1&&(i.rowspan=a);const c=Jf(r,r.createPositionAfter(t),i);return Kf("colspan",o,t,r),c}function Op(t,e,n,r,o,i){const s=parseInt(t.getAttribute("colspan")||1),a=parseInt(t.getAttribute("rowspan")||1);n+s-1>o&&Kf("colspan",o-n+1,t,i,1),e+a-1>r&&Kf("rowspan",r-e+1,t,i,1)}function Ip(t,e){const n=e.getColumns(t),r=new Array(n).fill(0);for(const{column:i}of new np(t))r[i]++;const o=r.reduce((t,e,n)=>e?t:[...t,n],[]);return o.length>0&&(e.removeColumns(t,{at:o[o.length-1]}),!0)}function Dp(t,e){const n=[];for(let r=0;r<t.childCount;r++)t.getChild(r).isEmpty&&n.push(r);return n.length>0&&(e.removeRows(t,{at:n[n.length-1]}),!0)}function Np(t,e){Ip(t,e)||Dp(t,e)}function Rp(t,e){const n=Array.from(new np(t,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));return n.every(({cellHeight:t})=>1===t)?e.lastRow:e.lastRow+(n[0].cellHeight-1)}function jp(t,e){const n=Array.from(new np(t,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));return n.every(({cellWidth:t})=>1===t)?e.lastColumn:e.lastColumn+(n[0].cellWidth-1)}class Lp extends zc{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=pp(t.document.selection)[0],n=this.value,r=this.direction;t.change(t=>{const o="right"==r||"down"==r,i=o?e:n,s=o?n:e,a=s.parent;!function(t,e,n){Fp(t)||(Fp(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}(s,i,t);const c=this.isHorizontal?"colspan":"rowspan",l=parseInt(e.getAttribute(c)||1),u=parseInt(n.getAttribute(c)||1);t.setAttribute(c,l+u,i),t.setSelection(t.createRangeIn(i));const d=this.editor.plugins.get("TableUtils");Np(a.findAncestor("table"),d)})}_getMergeableCell(){const t=pp(this.editor.model.document.selection)[0];if(!t)return;const e=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(t,e,n){const r="right"==e?t.nextSibling:t.previousSibling,o=(t.parent.parent.getAttribute("headingColumns")||0)>0;if(!r)return;const i="right"==e?t:r,s="right"==e?r:t,{column:a}=n.getCellLocation(i),{column:c}=n.getCellLocation(s),l=parseInt(i.getAttribute("colspan")||1),u=Xf(n,i),d=Xf(n,s);return o&&u!=d?void 0:a+l===c?r:void 0}(t,this.direction,e):function(t,e){const n=t.parent,r=n.parent,o=r.getChildIndex(n);if("down"==e&&o===r.childCount-1||"up"==e&&0===o)return;const i=parseInt(t.getAttribute("rowspan")||1),s=r.getAttribute("headingRows")||0;if(s&&("down"==e&&o+i===s||"up"==e&&o===s))return;const a=parseInt(t.getAttribute("rowspan")||1),c="down"==e?o+a:o,l=[...new np(r,{endRow:c})],u=l.find(e=>e.cell===t).column,d=l.find(({row:t,cellHeight:n,column:r})=>r===u&&("down"==e?t===c:c===t+n));return d&&d.cell}(t,this.direction);if(!n)return;const r=this.isHorizontal?"rowspan":"colspan",o=parseInt(t.getAttribute(r)||1);return parseInt(n.getAttribute(r)||1)===o?n:void 0}}function Fp(t){return 1==t.childCount&&t.getChild(0).is("element","paragraph")&&t.getChild(0).isEmpty}class Vp extends zc{refresh(){const t=gp(this.editor.model.document.selection),e=t[0];if(e){const n=e.findAncestor("table"),r=this.editor.plugins.get("TableUtils").getRows(n)-1,o=mp(t);this.isEnabled=!(0===o.first&&o.last===r)}else this.isEnabled=!1}execute(){const t=this.editor.model,e=gp(t.document.selection),n=mp(e),r=e[0],o=r.findAncestor("table"),i=this.editor.plugins.get("TableUtils").getCellLocation(r).column;t.change(t=>{const e=n.last-n.first+1;this.editor.plugins.get("TableUtils").removeRows(o,{at:n.first,rows:e});const r=function(t,e,n){const r=t.getChild(e)||t.getChild(t.childCount-1);let o=r.getChild(0),i=0;for(const s of r.getChildren()){if(i>n)return o;o=s,i+=parseInt(s.getAttribute("colspan")||1)}return o}(o,n.first,i);t.setSelection(t.createPositionAt(r,0))})}}class Bp extends zc{refresh(){const t=gp(this.editor.model.document.selection),e=t[0];if(e){const n=e.findAncestor("table"),r=this.editor.plugins.get("TableUtils").getColumns(n),{first:o,last:i}=bp(t);this.isEnabled=i-o<r-1}else this.isEnabled=!1}execute(){const[t,e]=function(t){const e=gp(t),n=e[0],r=e.pop(),o=[n,r];return n.isBefore(r)?o:o.reverse()}(this.editor.model.document.selection),n=t.parent.parent,r=[...new np(n)],o={first:r.find(e=>e.cell===t).column,last:r.find(t=>t.cell===e).column},i=function(t,e,n,r){return parseInt(n.getAttribute("colspan")||1)>1?n:e.previousSibling||n.nextSibling?n.nextSibling||e.previousSibling:r.first?t.reverse().find(({column:t})=>t<r.first).cell:t.reverse().find(({column:t})=>t>r.last).cell}(r,t,e,o);this.editor.model.change(t=>{const e=o.last-o.first+1;this.editor.plugins.get("TableUtils").removeColumns(n,{at:o.first,columns:e}),t.setSelection(t.createPositionAt(i,0))})}}class zp extends zc{refresh(){const t=gp(this.editor.model.document.selection),e=t.length>0;this.isEnabled=e,this.value=e&&t.every(t=>this._isInHeading(t,t.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.model,n=gp(e.document.selection),r=n[0].findAncestor("table"),{first:o,last:i}=mp(n),s=this.value?o:i+1,a=r.getAttribute("headingRows")||0;e.change(t=>{if(s){const e=Sp(r,s,s>a?a:0);for(const{cell:n}of e)Tp(n,s,t)}Kf("headingRows",s,r,t,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n}}class Up extends zc{refresh(){const t=gp(this.editor.model.document.selection),e=this.editor.plugins.get("TableUtils"),n=t.length>0;this.isEnabled=n,this.value=n&&t.every(t=>Xf(e,t))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.model,n=gp(e.document.selection),r=n[0].findAncestor("table"),{first:o,last:i}=bp(n),s=this.value?o:i+1;e.change(t=>{if(s){const e=Pp(r,s);for(const{cell:n,column:r}of e)Mp(n,r,s,t)}Kf("headingColumns",s,r,t,0)})}}class Hp extends Rc{static get pluginName(){return"TableUtils"}getCellLocation(t){const e=t.parent,n=e.parent,r=n.getChildIndex(e),o=new np(n,{row:r});for(const{cell:i,row:s,column:a}of o)if(i===t)return{row:s,column:a}}createTable(t,e){const n=t.createElement("table");return qp(t,n,0,parseInt(e.rows)||2,parseInt(e.columns)||2),e.headingRows&&Kf("headingRows",e.headingRows,n,t,0),e.headingColumns&&Kf("headingColumns",e.headingColumns,n,t,0),n}insertRows(t,e={}){const n=this.editor.model,r=e.at||0,o=e.rows||1,i=void 0!==e.copyStructureFromAbove,s=e.copyStructureFromAbove?r-1:r,a=this.getRows(t),c=this.getColumns(t);n.change(e=>{const n=t.getAttribute("headingRows")||0;if(n>r&&Kf("headingRows",n+o,t,e,0),!i&&(0===r||r===a))return void qp(e,t,r,o,c);const l=i?Math.max(r,s):r,u=new np(t,{endRow:l}),d=new Array(c).fill(1);for(const{row:t,column:a,cellHeight:c,cellWidth:h,cell:f}of u){const n=t+c-1,l=t<=s&&s<=n;t<r&&r<=n?(e.setAttribute("rowspan",c+o,f),d[a]=-h):i&&l&&(d[a]=h)}for(let i=0;i<o;i++){const n=e.createElement("tableRow");e.insert(n,t,r);for(let t=0;t<d.length;t++){const r=d[t],o=e.createPositionAt(n,"end");r>0&&Jf(e,o,r>1?{colspan:r}:null),t+=Math.abs(r)-1}}})}insertColumns(t,e={}){const n=e.at||0,r=e.columns||1;this.editor.model.change(e=>{const o=t.getAttribute("headingColumns");n<o&&e.setAttribute("headingColumns",o+r,t);const i=this.getColumns(t);if(0===n||i===n){for(const o of t.getChildren())$p(r,e,e.createPositionAt(o,n?"end":0));return}const s=new np(t,{column:n,includeAllSlots:!0});for(const t of s){const{row:o,cell:i,cellAnchorColumn:a,cellAnchorRow:c,cellWidth:l,cellHeight:u}=t;if(a<n){e.setAttribute("colspan",l+r,i);const t=c+u-1;for(let e=o;e<=t;e++)s.skipRow(e)}else $p(r,e,t.getPositionBefore())}})}removeRows(t,e){const n=e.at,r=n+(e.rows||1)-1;this.editor.model.change(e=>{const{cellsToMove:o,cellsToTrim:i}=function(t,e,n){const r=new Map,o=[];for(const{row:i,column:s,cellHeight:a,cell:c}of new np(t,{endRow:n})){const t=i+a-1;if(i>=e&&i<=n&&t>n&&r.set(s,{cell:c,rowspan:a-(n-i+1)}),i<e&&t>=e){let r;r=t>=n?n-e+1:t-e+1,o.push({cell:c,rowspan:a-r})}}return{cellsToMove:r,cellsToTrim:o}}(t,n,r);o.size&&function(t,e,n,r){const o=[...new np(t,{includeAllSlots:!0,row:e})],i=t.getChild(e);let s;for(const{column:a,cell:c,isAnchor:l}of o)if(n.has(a)){const{cell:t,rowspan:e}=n.get(a),o=s?r.createPositionAfter(s):r.createPositionAt(i,0);r.move(r.createRangeOn(t),o),Kf("rowspan",e,t,r),s=t}else l&&(s=c)}(t,r+1,o,e);for(let s=r;s>=n;s--)e.remove(t.getChild(s));for(const{rowspan:t,cell:n}of i)Kf("rowspan",t,n,e);!function(t,e,n,r){const o=t.getAttribute("headingRows")||0;e<o&&Kf("headingRows",n<o?o-(n-e+1):e,t,r,0)}(t,n,r,e),Ip(t,this)||Dp(t,this)})}removeColumns(t,e){const n=e.at,r=e.at+(e.columns||1)-1;this.editor.model.change(e=>{!function(t,e,n){const r=t.getAttribute("headingColumns")||0;if(r&&e.first<r){const o=Math.min(r-1,e.last)-e.first+1;n.setAttribute("headingColumns",r-o,t)}}(t,{first:n,last:r},e);for(let o=r;o>=n;o--)for(const{cell:n,column:r,cellWidth:i}of[...new np(t)])r<=o&&i>1&&r+i>o?Kf("colspan",i-1,n,e):r===o&&e.remove(n);Dp(t,this)||Ip(t,this)})}splitCellVertically(t,e=2){const n=this.editor.model,r=t.parent.parent,o=parseInt(t.getAttribute("rowspan")||1),i=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(i>1){const{newCellsSpan:r,updatedSpan:s}=Wp(i,e);Kf("colspan",s,t,n);const a={};r>1&&(a.colspan=r),o>1&&(a.rowspan=o),$p(i>e?e-1:i-1,n,n.createPositionAfter(t),a)}if(i<e){const s=e-i,a=[...new np(r)],{column:c}=a.find(({cell:e})=>e===t),l=a.filter(({cell:e,cellWidth:n,column:r})=>e!==t&&r===c||r<c&&r+n>c);for(const{cell:t,cellWidth:e}of l)n.setAttribute("colspan",e+s,t);const u={};o>1&&(u.rowspan=o),$p(s,n,n.createPositionAfter(t),u);const d=r.getAttribute("headingColumns")||0;d>c&&Kf("headingColumns",d+s,r,n)}})}splitCellHorizontally(t,e=2){const n=this.editor.model,r=t.parent,o=r.parent,i=o.getChildIndex(r),s=parseInt(t.getAttribute("rowspan")||1),a=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(s>1){const r=[...new np(o,{startRow:i,endRow:i+s-1,includeAllSlots:!0})],{newCellsSpan:c,updatedSpan:l}=Wp(s,e);Kf("rowspan",l,t,n);const{column:u}=r.find(({cell:e})=>e===t),d={};c>1&&(d.rowspan=c),a>1&&(d.colspan=a);for(const t of r){const{column:e,row:r}=t,o=e===u,s=(r+i+l)%c==0;r>=i+l&&o&&s&&$p(1,n,t.getPositionBefore(),d)}}if(s<e){const r=e-s,c=[...new np(o,{startRow:0,endRow:i})];for(const{cell:e,cellHeight:o,row:s}of c)e!==t&&s+o>i&&n.setAttribute("rowspan",o+r,e);const l={};a>1&&(l.colspan=a),qp(n,o,i+1,r,1,l);const u=o.getAttribute("headingRows")||0;u>i&&Kf("headingRows",u+r,o,n)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((t,e)=>t+parseInt(e.getAttribute("colspan")||1),0)}getRows(t){return t.childCount}}function qp(t,e,n,r,o,i={}){for(let s=0;s<r;s++){const r=t.createElement("tableRow");t.insert(r,e,n),$p(o,t,t.createPositionAt(r,"end"),i)}}function $p(t,e,n,r={}){for(let o=0;o<t;o++)Jf(e,n,r)}function Wp(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(t/e);return{newCellsSpan:n,updatedSpan:t-n*e+n}}class Gp extends zc{refresh(){const t=fp(this.editor.model.document.selection);this.isEnabled=wp(t,this.editor.plugins.get(Hp))}execute(){const t=this.editor.model,e=this.editor.plugins.get(Hp);t.change(n=>{const r=fp(t.document.selection),o=r.shift(),{mergeWidth:i,mergeHeight:s}=function(t,e,n){let r=0,o=0;for(const a of e){const{row:t,column:e}=n.getCellLocation(a);r=Zp(a,e,r,"colspan"),o=Zp(a,t,o,"rowspan")}const{row:i,column:s}=n.getCellLocation(t);return{mergeWidth:r-s,mergeHeight:o-i}}(o,r,e);Kf("colspan",i,o,n),Kf("rowspan",s,o,n);for(const t of r)Yp(t,o,n);Np(o.findAncestor("table"),e),n.setSelection(o,"in")})}}function Yp(t,e,n){Qp(t)||(Qp(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}function Qp(t){return 1==t.childCount&&t.getChild(0).is("element","paragraph")&&t.getChild(0).isEmpty}function Zp(t,e,n,r){const o=parseInt(t.getAttribute(r)||1);return Math.max(n,e+o)}class Kp extends zc{refresh(){const t=gp(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,e=gp(t.document.selection),n=mp(e),r=e[0].findAncestor("table"),o=[];for(let i=n.first;i<=n.last;i++)for(const e of r.getChild(i).getChildren())o.push(t.createRangeOn(e));t.change(t=>{t.setSelection(o)})}}class Jp extends zc{refresh(){const t=gp(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,e=gp(t.document.selection),n=e[0],r=e.pop(),o=n.findAncestor("table"),i=this.editor.plugins.get("TableUtils"),s=i.getCellLocation(n),a=i.getCellLocation(r),c=Math.min(s.column,a.column),l=Math.max(s.column,a.column),u=[];for(const d of new np(o,{startColumn:c,endColumn:l}))u.push(t.createRangeOn(d.cell));t.change(t=>{t.setSelection(u)})}}function Xp(t,e){let n=!1;const r=function(t){const e=parseInt(t.getAttribute("headingRows")||0),n=t.childCount,r=[];for(const{row:o,cell:i,cellHeight:s}of new np(t)){if(s<2)continue;const t=o<e?e:n;o+s>t&&r.push({cell:i,rowspan:t-o})}return r}(t);if(r.length){n=!0;for(const t of r)Kf("rowspan",t.rowspan,t.cell,e,1)}return n}function tg(t,e){let n=!1;const r=function(t){const e=new Array(t.childCount).fill(0);for(const{row:n}of new np(t,{includeAllSlots:!0}))e[n]++;return e}(t),o=[];for(const[s,a]of r.entries())a||o.push(s);if(o.length){n=!0;for(const n of o.reverse())e.remove(t.getChild(n)),r.splice(n,1)}const i=r[0];if(!r.every(t=>t===i)){const o=r.reduce((t,e)=>e>t?e:t,0);for(const[i,s]of r.entries()){const r=o-s;if(r){for(let n=0;n<r;n++)Jf(e,e.createPositionAt(t.getChild(i),"end"));n=!0}}}return n}function eg(t){const e=t.attributeKey;return"attribute"===t.type&&("headingRows"===e||"colspan"===e||"rowspan"===e)}function ng(t,e){let n=!1;for(const r of t.getChildren())n=rg(r,e)||n;return n}function rg(t,e){let n=!1;for(const r of t.getChildren())n=og(r,e)||n;return n}function og(t,e){if(0==t.childCount)return e.insertElement("paragraph",t),!0;const n=Array.from(t.getChildren()).filter(t=>t.is("$text"));for(const r of n)e.wrap(e.createRangeOn(r),"paragraph");return!!n.length}function ig(t){return!(!t.position||!t.position.parent.is("element","tableCell"))&&("insert"==t.type&&"$text"==t.name||"remove"==t.type)}function sg(t,e,n){if(!Array.from(t.getChildren()).some(t=>t.is("element","paragraph")))return!1;if("attribute"==e){const e=Array.from(t.getChild(0).getAttributeKeys()).length;return 1===t.childCount&&e<2}return t.childCount<=("insert"==e?n+1:1)}n(86);class ag extends Rc{static get pluginName(){return"TableEditing"}init(){const t=this.editor,e=t.model,n=e.schema,r=t.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isObject:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck((t,e)=>{if("table"==e.name&&Array.from(t.getNames()).includes("table"))return!1}),r.for("upcast").add(t=>{t.on("element:table",(t,e,n)=>{const r=e.viewItem;if(!n.consumable.test(r,{name:!0}))return;const{rows:o,headingRows:i,headingColumns:s}=function(t){const e={headingRows:0,headingColumns:0},n=[],r=[];let o;for(const i of Array.from(t.getChildren()))if("tbody"===i.name||"thead"===i.name||"tfoot"===i.name){"thead"!==i.name||o||(o=i);const t=Array.from(i.getChildren()).filter(t=>t.is("element","tr"));for(const i of t)if("thead"===i.parent.name&&i.parent===o)e.headingRows++,n.push(i);else{r.push(i);const t=ep(i);t>e.headingColumns&&(e.headingColumns=t)}}return e.rows=[...n,...r],e}(r),a={};s&&(a.headingColumns=s),i&&(a.headingRows=i);const c=n.writer.createElement("table",a),l=n.splitToAllowedParent(c,e.modelCursor);if(l){if(n.writer.insert(c,l.position),n.consumable.consume(r,{name:!0}),o.forEach(t=>n.convertItem(t,n.writer.createPositionAt(c,"end"))),c.isEmpty){const t=n.writer.createElement("tableRow");n.writer.insert(t,n.writer.createPositionAt(c,"end")),Jf(n.writer,n.writer.createPositionAt(t,"end"))}e.modelRange=n.writer.createRange(n.writer.createPositionBefore(c),n.writer.createPositionAfter(c)),e.modelCursor=l.cursorParent?n.writer.createPositionAt(l.cursorParent,0):e.modelRange.end}})}),r.for("editingDowncast").add(op({asWidget:!0})),r.for("dataDowncast").add(op()),r.for("upcast").elementToElement({model:"tableRow",view:"tr"}),r.for("upcast").add(t=>{t.on("element:tr",(t,e)=>{e.viewItem.isEmpty&&0==e.modelCursor.index&&t.stop()},{priority:"high"})}),r.for("editingDowncast").add(t=>t.on("insert:tableRow",(t,e,n)=>{const r=e.item;if(!n.consumable.consume(r,"insert"))return;const o=r.parent,i=function(t){for(const e of t.getChildren())if("table"===e.name)return e}(n.mapper.toViewElement(o)),s=o.getChildIndex(r),a=new np(o,{row:s}),c={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},l=new Map;for(const u of a){const t=l.get(s)||ap(i,r,s,c,n);l.set(s,t),n.consumable.consume(u.cell,"insert"),sp(u,c,n.writer.createPositionAt(t,"end"),n,{asWidget:!0})}})),r.for("editingDowncast").add(t=>t.on("remove:tableRow",(t,e,n)=>{t.stop();const r=n.writer,o=n.mapper,i=o.toViewPosition(e.position).getLastMatchingPosition(t=>!t.item.is("element","tr")).nodeAfter,s=i.parent.parent,a=r.createRangeOn(i),c=r.remove(a);for(const l of r.createRangeIn(c).getItems())o.unbindViewElement(l);up("thead",s,n),up("tbody",s,n)},{priority:"higher"})),r.for("upcast").add(tp("td")),r.for("upcast").add(tp("th")),r.for("editingDowncast").add(t=>t.on("insert:tableCell",(t,e,n)=>{const r=e.item;if(!n.consumable.consume(r,"insert"))return;const o=r.parent,i=o.parent,s=i.getChildIndex(o),a=new np(i,{row:s}),c={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0};for(const l of a)if(l.cell===r){const t=n.mapper.toViewElement(o);return void sp(l,c,n.writer.createPositionAt(t,o.getChildIndex(r)),n,{asWidget:!0})}})),r.attributeToAttribute({model:"colspan",view:"colspan"}),r.attributeToAttribute({model:"rowspan",view:"rowspan"}),r.for("editingDowncast").add(t=>t.on("attribute:headingColumns:table",(t,e,n)=>{const r=e.item;if(!n.consumable.consume(e.item,t.name))return;const o={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},i=e.attributeOldValue,s=e.attributeNewValue,a=(i>s?i:s)-1;for(const c of new np(r,{endColumn:a}))ip(c,o,n)})),t.commands.add("insertTable",new hp(t)),t.commands.add("insertTableRowAbove",new Cp(t,{order:"above"})),t.commands.add("insertTableRowBelow",new Cp(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new xp(t,{order:"left"})),t.commands.add("insertTableColumnRight",new xp(t,{order:"right"})),t.commands.add("removeTableRow",new Vp(t)),t.commands.add("removeTableColumn",new Bp(t)),t.commands.add("splitTableCellVertically",new Ap(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new Ap(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new Gp(t)),t.commands.add("mergeTableCellRight",new Lp(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new Lp(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new Lp(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new Lp(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new Up(t)),t.commands.add("setTableRowHeader",new zp(t)),t.commands.add("selectTableRow",new Kp(t)),t.commands.add("selectTableColumn",new Jp(t)),function(t){t.document.registerPostFixer(()=>function(t){const e=t.document.differ,n=new Set;for(const r of e.getChanges()){if("attribute"!=r.type)continue;const t=r.range.start.nodeAfter;t&&t.is("element","table")&&"headingRows"==r.attributeKey&&n.add(t)}if(n.size){for(const t of n.values())e.refreshItem(t);return!0}return!1}(t))}(e),function(t){t.document.registerPostFixer(e=>function(t,e){const n=e.document.differ.getChanges();let r=!1;const o=new Set;for(const i of n){let e;"table"==i.name&&"insert"==i.type&&(e=i.position.nodeAfter),"tableRow"!=i.name&&"tableCell"!=i.name||(e=i.position.findAncestor("table")),eg(i)&&(e=i.range.start.findAncestor("table")),e&&!o.has(e)&&(r=Xp(e,t)||r,r=tg(e,t)||r,o.add(e))}return r}(e,t))}(e),function(t){t.document.registerPostFixer(()=>function(t){const e=t.document.differ,n=new Set;let r=0;for(const o of e.getChanges()){const t="insert"==o.type||"remove"==o.type?o.position.parent:o.range.start.parent;t.is("element","tableCell")&&("insert"==o.type&&r++,sg(t,o.type,r)&&n.add(t))}if(n.size){for(const t of n.values())e.refreshItem(t);return!0}return!1}(t))}(e),function(t){t.document.registerPostFixer(e=>function(t,e){const n=e.document.differ.getChanges();let r=!1;for(const o of n)"insert"==o.type&&"table"==o.name&&(r=ng(o.position.nodeAfter,t)||r),"insert"==o.type&&"tableRow"==o.name&&(r=rg(o.position.nodeAfter,t)||r),"insert"==o.type&&"tableCell"==o.name&&(r=og(o.position.nodeAfter,t)||r),ig(o)&&(r=og(o.position.parent,t)||r);return r}(e,t))}(e)}static get requires(){return[Hp]}}n(88);class cg extends Qa{constructor(t){super(t);const e=this.bindTemplate;this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new ha,this.focusTracker=new ya,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",e.if("isVisible","ck-hidden",t=>!t),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())}),this.keystrokes.set("arrowleft",(t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())})}focus(){this.actionView.focus()}_createActionView(){const t=new _c;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new _c,e=t.bindTemplate;return t.icon=vc,t.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":e.to("isOn",t=>String(t))}}),t.bind("isEnabled").to(this),t.delegate("execute").to(this,"open"),t}}n(90);class lg extends Qa{constructor(t){super(t);const e=this.bindTemplate;this.items=this._createGridCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(t,e)=>`${e} \xd7 ${t}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(()=>{this.fire("execute")})}}),this.on("boxover",(t,e)=>{const{row:n,column:r}=e.target.dataset;this.set({rows:parseInt(n),columns:parseInt(r)})}),this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map((n,r)=>{const o=Math.floor(r/10)<t&&r%10<e;n.set("isOn",o)})}_createGridCollection(){const t=[];for(let e=0;e<100;e++){const n=Math.floor(e/10);t.push(new ug(this.locale,n+1,e%10+1))}return this.createCollection(t)}}class ug extends Qa{constructor(t,e,n){super(t);const r=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",r.if("isOn","ck-on")],"data-row":e,"data-column":n}})}}class dg extends Rc{init(){const t=this.editor,e=this.editor.t,n="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",n=>{const r=t.commands.get("insertTable"),o=Sc(n);let i;return o.bind("isEnabled").to(r),o.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:e("Insert table"),tooltip:!0}),o.on("change:isOpen",()=>{i||(i=new lg(n),o.panelView.children.add(i),i.delegate("execute").to(o),o.buttonView.on("open",()=>{i.rows=0,i.columns=0}),o.on("execute",()=>{t.execute("insertTable",{rows:i.rows,columns:i.columns}),t.editing.view.focus()}))}),o}),t.ui.componentFactory.add("tableColumn",t=>{const r=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',r,t)}),t.ui.componentFactory.add("tableRow",t=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,t)}),t.ui.componentFactory.add("mergeTableCells",t=>{const r=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',r,t)})}_prepareDropdown(t,e,n,r){const o=this.editor,i=Sc(r),s=this._fillDropdownWithListOptions(i,n);return i.buttonView.set({label:t,icon:e,tooltip:!0}),i.bind("isEnabled").toMany(s,"isEnabled",(...t)=>t.some(t=>t)),this.listenTo(i,"execute",t=>{o.execute(t.source.commandName),o.editing.view.focus()}),i}_prepareMergeSplitButtonDropdown(t,e,n,r){const o=this.editor,i=Sc(r,cg);return this._fillDropdownWithListOptions(i,n),i.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),this.listenTo(i.buttonView,"execute",()=>{o.execute("mergeTableCells"),o.editing.view.focus()}),this.listenTo(i,"execute",t=>{o.execute(t.source.commandName),o.editing.view.focus()}),i}_fillDropdownWithListOptions(t,e){const n=this.editor,r=[],o=new Ee;for(const i of e)hg(i,n,r,o);return Tc(t,o),r}}function hg(t,e,n,r){const o=t.model=new kh(t.model),{commandName:i,bindIsOn:s}=t.model;if("button"===t.type||"switchbutton"===t.type){const t=e.commands.get(i);n.push(t),o.set({commandName:i}),o.bind("isEnabled").to(t),s&&o.bind("isOn").to(t,"value")}o.set({withText:!0}),r.add(t)}n(92);class fg extends Rc{static get pluginName(){return"TableSelection"}static get requires(){return[Hp]}init(){this.listenTo(this.editor.model,"deleteContent",(t,e)=>this._handleDeleteContent(t,e),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=fp(this.editor.model.document.selection);return 0==t.length?null:t}getSelectionAsFragment(){const t=this.getSelectedTableCells();return t?this.editor.model.change(e=>{const n=e.createDocumentFragment(),r=this.editor.plugins.get("TableUtils"),{first:o,last:i}=bp(t),{first:s,last:a}=mp(t),c=t[0].findAncestor("table");let l=a,u=i;if(wp(t,r)){const t={firstColumn:o,lastColumn:i,firstRow:s,lastRow:a};l=Rp(c,t),u=jp(c,t)}const d=Ep(c,{startRow:s,startColumn:o,endRow:l,endColumn:u},e);return e.insert(d,n,0),n}):null}setCellSelection(t,e){const n=this._getCellsToSelect(t,e);this.editor.model.change(t=>{t.setSelection(n.cells.map(e=>t.createRangeOn(e)),{backward:n.backward})})}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=Wl(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add(t=>t.on("selection",(t,n,r)=>{const o=r.writer;!function(t){for(const n of e)t.removeClass("ck-editor__editable_selected",n);e.clear()}(o);const i=this.getSelectedTableCells();if(!i)return;for(const a of i){const t=r.mapper.toViewElement(a);o.addClass("ck-editor__editable_selected",t),e.add(t)}const s=r.mapper.toViewElement(i[i.length-1]);o.setSelection(s,0)},{priority:"lowest"}))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change(n=>{const r=n.createPositionAt(e[0],0),o=t.model.schema.getNearestSelectionRange(r);n.setSelection(o)})}})}_handleDeleteContent(t,e){const[n,r]=e,o=this.editor.model,i=!r||"backward"==r.direction,s=fp(n);s.length&&(t.stop(),o.change(t=>{const e=s[i?s.length-1:0];o.change(t=>{for(const e of s)o.deleteContent(t.createSelection(e,"in"))});const r=o.schema.getNearestSelectionRange(t.createPositionAt(e,0));n.is("documentSelection")?t.setSelection(r):n.setTo(r)}))}_getCellsToSelect(t,e){const n=this.editor.plugins.get("TableUtils"),r=n.getCellLocation(t),o=n.getCellLocation(e),i=Math.min(r.row,o.row),s=Math.max(r.row,o.row),a=Math.min(r.column,o.column),c=Math.max(r.column,o.column),l=new Array(s-i+1).fill(null).map(()=>[]),u={startRow:i,endRow:s,startColumn:a,endColumn:c};for(const{row:f,cell:p}of new np(t.findAncestor("table"),u))l[f-i].push(p);const d=o.row<r.row,h=o.column<r.column;return d&&l.reverse(),h&&l.forEach(t=>t.reverse()),{cells:l.flat(),backward:d||h}}}class pg extends Rc{static get pluginName(){return"TableClipboard"}static get requires(){return[fg,Hp]}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",(t,e)=>this._onCopyCut(t,e)),this.listenTo(e,"cut",(t,e)=>this._onCopyCut(t,e)),this.listenTo(t.model,"insertContent",(t,e)=>this._onInsertContent(t,...e),{priority:"high"})}_onCopyCut(t,e){const n=this.editor.plugins.get(fg);if(!n.getSelectedTableCells())return;if("cut"==t.name&&this.editor.isReadOnly)return;e.preventDefault(),t.stop();const r=this.editor.editing.view.document,o=this.editor.data.toView(n.getSelectionAsFragment());r.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:o,method:t.name})}_onInsertContent(t,e,n){if(n&&!n.is("documentSelection"))return;const r=this.editor.model,o=this.editor.plugins.get(Hp);let i=function(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(1==t.childCount&&t.getChild(0).is("element","table"))return t.getChild(0);const n=e.createRangeIn(t);for(const r of n.getItems())if(r.is("element","table")){const t=e.createRange(n.start,e.createPositionBefore(r));if(e.hasContent(t,{ignoreWhitespaces:!0}))return null;const o=e.createRange(e.createPositionAfter(r),n.end);return e.hasContent(o,{ignoreWhitespaces:!0})?null:r}return null}(e,r);if(!i)return;const s=gp(r.document.selection);s.length?(t.stop(),r.change(t=>{const e={width:o.getColumns(i),height:o.getRows(i)},n=function(t,e,n,r){const o=t[0].findAncestor("table"),i=bp(t),s=mp(t),a={firstColumn:i.first,lastColumn:i.last,firstRow:s.first,lastRow:s.last},c=1===t.length;return c&&(a.lastRow+=e.height-1,a.lastColumn+=e.width-1,function(t,e,n,r){const o=r.getColumns(t),i=r.getRows(t);n>o&&r.insertColumns(t,{at:o,columns:n-o}),e>i&&r.insertRows(t,{at:i,rows:e-i})}(o,a.lastRow+1,a.lastColumn+1,r)),c||!wp(t,r)?function(t,e,n){const{firstRow:r,lastRow:o,firstColumn:i,lastColumn:s}=e,a={first:r,last:o},c={first:i,last:s};mg(t,i,a,n),mg(t,s+1,a,n),gg(t,r,c,n),gg(t,o+1,c,n,r)}(o,a,n):(a.lastRow=Rp(o,a),a.lastColumn=jp(o,a)),a}(s,e,t,o),r=n.lastColumn-n.firstColumn+1,a={startRow:0,startColumn:0,endRow:Math.min(n.lastRow-n.firstRow+1,e.height)-1,endColumn:Math.min(r,e.width)-1};i=Ep(i,a,t);const c=s[0].findAncestor("table"),l=function(t,e,n,r,o){const{width:i,height:s}=e,a=function(t,e,n){const r=new Array(n).fill(null).map(()=>new Array(e).fill(null));for(const{column:o,row:i,cell:s}of new np(t))r[i][o]=s;return r}(t,i,s),c=[...new np(n,{startRow:r.firstRow,endRow:r.lastRow,startColumn:r.firstColumn,endColumn:r.lastColumn,includeAllSlots:!0})],l=[];let u;for(const p of c){const{row:t,column:e,cell:n,isAnchor:c}=p;e===r.firstColumn&&(u=p.getPositionBefore()),c&&o.remove(n);const d=a[(t-r.firstRow)%s][(e-r.firstColumn)%i];if(!d)continue;const h=o.cloneElement(d);Op(h,t,e,r.lastRow,r.lastColumn,o),o.insert(h,u),l.push(h),u=o.createPositionAfter(h)}const d=parseInt(n.getAttribute("headingRows")||0),h=parseInt(n.getAttribute("headingColumns")||0),f=r.firstColumn<h&&h<=r.lastColumn;if(r.firstRow<d&&d<=r.lastRow){const t=gg(n,d,{first:r.firstColumn,last:r.lastColumn},o,r.firstRow);l.push(...t)}if(f){const t=mg(n,h,{first:r.firstRow,last:r.lastRow},o);l.push(...t)}return l}(i,e,c,n,t);if(this.editor.plugins.get("TableSelection").isEnabled){const e=_p(l.map(e=>t.createRangeOn(e)));t.setSelection(e)}else t.setSelection(l[0],0)})):Np(i,o)}}function gg(t,e,n,r,o=0){if(!(e<1))return Sp(t,e,o).filter(({column:t,cellWidth:e})=>bg(t,e,n)).map(({cell:t})=>Tp(t,e,r))}function mg(t,e,n,r){if(!(e<1))return Pp(t,e).filter(({row:t,cellHeight:e})=>bg(t,e,n)).map(({cell:t,column:n})=>Mp(t,n,e,r))}function bg(t,e,n){const r=t+e-1,{first:o,last:i}=n;return t>=o&&t<=i||t<o&&r>=o}class wg extends Rc{static get pluginName(){return"TableKeyboard"}static get requires(){return[fg]}init(){const t=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",(...t)=>this._handleTabOnSelectedTable(...t),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(t,"keydown",(...t)=>this._onKeydown(...t),{priority:fe.get("high")-10})}_handleTabOnSelectedTable(t,e){const n=this.editor,r=n.model.document.selection;if(!r.isCollapsed&&1===r.rangeCount&&r.getFirstRange().isFlat){const t=r.getSelectedElement();if(!t||!t.is("element","table"))return;e(),n.model.change(e=>{e.setSelection(e.createRangeIn(t.getChild(0).getChild(0)))})}}_getTabHandler(t){const e=this.editor;return(n,r)=>{const o=pp(e.model.document.selection)[0];if(!o)return;r();const i=o.parent,s=i.parent,a=s.getChildIndex(i),c=i.getChildIndex(o),l=0===c;if(!t&&l&&0===a)return;const u=c===i.childCount-1;if(t&&a===s.childCount-1&&u&&(e.execute("insertTableRowBelow"),a===s.childCount-1))return;let d;if(t&&u){const t=s.getChild(a+1);d=t.getChild(0)}else if(!t&&l){const t=s.getChild(a-1);d=t.getChild(t.childCount-1)}else d=i.getChild(c+(t?1:-1));e.model.change(t=>{t.setSelection(t.createRangeIn(d))})}}_onKeydown(t,e){const n=this.editor,r=e.keyCode;if(!ir(r))return;const o=sr(r,n.locale.contentLanguageDirection);this._handleArrowKeys(o,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const n=this.editor.model,r=n.document.selection,o=["right","down"].includes(t),i=fp(r);if(i.length){let n;return n=e?this.editor.plugins.get("TableSelection").getFocusCell():o?i[i.length-1]:i[0],this._navigateFromCellInDirection(n,t,e),!0}const s=r.focus.findAncestor("tableCell");if(!s)return!1;const a=n.createRangeIn(s);if(this._isSelectionAtCellEdge(r,o))return this._navigateFromCellInDirection(s,t,e),!0;const c=this._findTextRangeFromSelection(a,r,o);return c?!["left","right"].includes(t)&&(this._isSingleLineRange(c,o)?(n.change(t=>{const i=o?a.end:a.start;if(e){const e=n.createSelection(r.anchor);e.setFocus(i),t.setSelection(e)}else t.setSelection(i)}),!0):void 0):(this._navigateFromCellInDirection(s,t,e),!0)}_isSelectionAtCellEdge(t,e){const n=this.editor.model,r=this.editor.model.schema,o=e?t.getLastPosition():t.getFirstPosition();if(!r.getLimitElement(o).is("element","tableCell"))return!1;const i=n.createSelection(o);return n.modifySelection(i,{direction:e?"forward":"backward"}),o.isEqual(i.focus)}_findTextRangeFromSelection(t,e,n){const r=this.editor.model;if(n){const n=e.getLastPosition(),o=this._getNearestVisibleTextPosition(t,"backward");return o&&n.isBefore(o)?r.createRange(n,o):null}{const n=e.getFirstPosition(),o=this._getNearestVisibleTextPosition(t,"forward");return o&&n.isAfter(o)?r.createRange(o,n):null}}_getNearestVisibleTextPosition(t,e){const n=this.editor.model.schema,r=this.editor.editing.mapper;for(const{nextPosition:o,item:i}of t.getWalker({direction:e}))if(n.checkChild(o,"$text")){const t=r.toViewElement(i);if(t&&!t.hasClass("ck-hidden"))return o}}_isSingleLineRange(t,e){const n=this.editor.model,r=this.editor.editing,o=r.view.domConverter;if(e){const e=n.createSelection(t.start);n.modifySelection(e),e.focus.isAtEnd||t.start.isEqual(e.focus)||(t=n.createRange(e.focus,t.end))}const i=r.mapper.toViewRange(t),s=o.viewRangeToDom(i),a=Fo.getDomRangeRects(s);let c;for(const l of a)if(void 0!==c){if(Math.round(l.top)>=c)return!1;c=Math.max(c,Math.round(l.bottom))}else c=Math.round(l.bottom);return!0}_navigateFromCellInDirection(t,e,n=!1){const r=this.editor.model,o=t.findAncestor("table"),i=[...new np(o,{includeAllSlots:!0})],{row:s,column:a}=i[i.length-1],c=i.find(({cell:e})=>e==t);let{row:l,column:u}=c;switch(e){case"left":u--;break;case"up":l--;break;case"right":u+=c.cellWidth;break;case"down":l+=c.cellHeight}if(l<0||l>s||u<0&&l<=0||u>a&&l>=s)return void r.change(t=>{t.setSelection(t.createRangeOn(o))});u<0?(u=n?0:a,l--):u>a&&(u=n?a:0,l++);const d=i.find(t=>t.row==l&&t.column==u).cell,h=["right","down"].includes(e),f=this.editor.plugins.get("TableSelection");if(n&&f.isEnabled){const e=f.getAnchorCell()||t;f.setCellSelection(e,d)}else{const t=r.createPositionAt(d,h?0:"end");r.change(e=>{e.setSelection(t)})}}}class _g extends wo{constructor(t){super(t),this.domEventType=["mousemove","mouseup","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class vg extends Rc{static get pluginName(){return"TableMouse"}static get requires(){return[fg]}init(){this.editor.editing.view.addObserver(_g),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor;let e=!1;const n=t.plugins.get(fg);this.listenTo(t.editing.view.document,"mousedown",(r,o)=>{if(!this.isEnabled||!n.isEnabled)return;if(!o.domEvent.shiftKey)return;const i=n.getAnchorCell()||pp(t.model.document.selection)[0];if(!i)return;const s=this._getModelTableCellFromDomEvent(o);s&&yg(i,s)&&(e=!0,n.setCellSelection(i,s),o.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{e=!1}),this.listenTo(t.editing.view.document,"selectionChange",t=>{e&&t.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,n,r=!1,o=!1;const i=t.plugins.get(fg);this.listenTo(t.editing.view.document,"mousedown",(t,n)=>{this.isEnabled&&i.isEnabled&&(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(n)))}),this.listenTo(t.editing.view.document,"mousemove",(t,s)=>{if(!s.domEvent.buttons)return;if(!e)return;const a=this._getModelTableCellFromDomEvent(s);a&&yg(e,a)&&(n=a,r||n==e||(r=!0)),r&&(o=!0,i.setCellSelection(e,n),s.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{r=!1,o=!1,e=null,n=null}),this.listenTo(t.editing.view.document,"selectionChange",t=>{o&&t.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const e=this.editor.editing.view.createPositionAt(t.target,0);return this.editor.editing.mapper.toModelPosition(e).parent.findAncestor("tableCell",{includeSelf:!0})}}function yg(t,e){return t.parent.parent==e.parent.parent}function kg(t){const e=t.getSelectedElement();return e&&xg(e)?e:null}function Cg(t){const e=function(t,e){let n=e.parent;for(;n;){if("table"===n.name)return n;n=n.parent}}(0,t.getFirstPosition());return e&&xg(e.parent)?e.parent:null}function xg(t){return!!t.getCustomProperty("table")&&ku(t)}n(94);class Ag{constructor(t,e){this.model=t,this.testCallback=e,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(e,{directChange:n})=>{n&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))}),this.listenTo(t,"change:data",(t,e)=>{"transparent"!=e.type&&this._evaluateTextBeforeSelection("data",{batch:e})})}_evaluateTextBeforeSelection(t,e={}){const n=this.model,r=n.document.selection,o=n.createRange(n.createPositionAt(r.focus.parent,0),r.focus),{text:i,range:s}=function(t,e){let n=t.start;return{text:Array.from(t.getItems()).reduce((t,r)=>r.is("$text")||r.is("$textProxy")?t+r.data:(n=e.createPositionAfter(r),""),""),range:e.createRange(n,t.end)}}(o,n),a=this.testCallback(i);if(!a&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!a,a){const n=Object.assign(e,{text:i,range:s});"object"==typeof a&&Object.assign(n,a),this.fire("matched:"+t,n)}}}Ae(Ag,En);var Eg=/[\\^$.*+?()[\]{}|]/g,Sg=RegExp(Eg.source);const Tg={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:"1/2",to:"\xbd"},oneThird:{from:"1/3",to:"\u2153"},twoThirds:{from:"2/3",to:"\u2154"},oneForth:{from:"1/4",to:"\xbc"},threeQuarters:{from:"3/4",to:"\xbe"},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Ng('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:Ng("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Ng("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Ng('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:Ng('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:Ng("'"),to:[null,"\u201a",null,"\u2019"]}},Pg={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Mg=["symbols","mathematical","typography","quotes"];function Og(t){return"string"==typeof t?new RegExp(`(${function(t){return(t=Ze(t))&&Sg.test(t)?t.replace(Eg,"\\$&"):t}(t)})$`):t}function Ig(t){return"string"==typeof t?()=>[t]:t instanceof Array?()=>t:t}function Dg(t){return(t.textNode?t.textNode:t.nodeAfter).getAttributes()}function Ng(t){return new RegExp(`(^|\\s)(${t})([^${t}]*)(${t})$`)}class Rg extends Nc{}Rg.builtinPlugins=[class extends Rc{static get requires(){return[Bc,Gc,rl,Kc,bl,Fl]}static get pluginName(){return"Essentials"}},ql,class extends Rc{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&Gl(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&Gl(this.editor,this,/^1[.|)]\s$/,"numberedList")}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const t=Zl(this.editor,"bold");Yl(this.editor,this,/(\*\*)([^*]+)(\*\*)$/g,t),Yl(this.editor,this,/(__)([^_]+)(__)$/g,t)}if(t.get("italic")){const t=Zl(this.editor,"italic");Yl(this.editor,this,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,t),Yl(this.editor,this,/(?:^|[^_])(_)([^_]+)(_)$/g,t)}if(t.get("code")){const t=Zl(this.editor,"code");Yl(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(t.get("strikethrough")){const t=Zl(this.editor,"strikethrough");Yl(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(e=>{const n=new RegExp(`^(#{${e[7]}})\\s$`);Gl(this.editor,this,n,()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Gl(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){this.editor.commands.get("codeBlock")&&Gl(this.editor,this,/^```$/,"codeBlock")}},class extends Rc{static get requires(){return[Jl,Xl]}static get pluginName(){return"Bold"}},class extends Rc{static get requires(){return[tu,eu]}static get pluginName(){return"Italic"}},class extends Rc{static get requires(){return[su,au]}static get pluginName(){return"BlockQuote"}},class extends Rc{static get pluginName(){return"CKFinder"}static get requires(){return[yd,cu,ql]}},class extends Rc{static get requires(){return[Sd,Zd,hh]}static get pluginName(){return"EasyImage"}},class extends Rc{static get requires(){return[yh,Ch]}static get pluginName(){return"Heading"}},Zd,class extends Rc{static get requires(){return[Eh]}static get pluginName(){return"ImageCaption"}},class extends Rc{static get requires(){return[zh,Uh]}static get pluginName(){return"ImageStyle"}},class extends Rc{static get requires(){return[Hh]}static get pluginName(){return"ImageToolbar"}afterInit(){const t=this.editor,e=t.t;t.plugins.get(Hh).register("image",{ariaLabel:e("Image toolbar"),items:t.config.get("image.toolbar")||[],getRelatedElement:Mu})}},hh,class extends Rc{static get pluginName(){return"Indent"}static get requires(){return[Gh,Zh]}},class extends Rc{static get requires(){return[gd,nf]}static get pluginName(){return"Link"}},class extends Rc{static get requires(){return[Tf,Mf]}static get pluginName(){return"List"}},class extends Rc{static get requires(){return[Ff,Uf,Bf,Id]}static get pluginName(){return"MediaEmbed"}},mh,class extends Rc{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Bc]}init(){const t=this.editor,e=t.editing.view.document,n=[];n.push(new Zf(e)),n.push(new Wf(e)),t.plugins.get("Clipboard").on("inputTransformation",(t,e)=>{if(e.isTransformedWithPasteFromOffice)return;const r=e.dataTransfer.getData("text/html"),o=n.find(t=>t.isActive(r));o&&(o.execute(e),e.isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends Rc{static get requires(){return[ag,dg,fg,vg,wg,pg,Id]}static get pluginName(){return"Table"}},class extends Rc{static get requires(){return[Hh]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get(Hh),r=t.config.get("table.contentToolbar"),o=t.config.get("table.tableToolbar");r&&n.register("tableContent",{ariaLabel:e("Table toolbar"),items:r,getRelatedElement:Cg}),o&&n.register("table",{ariaLabel:e("Table toolbar"),items:o,getRelatedElement:kg})}},class extends Rc{static get pluginName(){return"TextTransformation"}constructor(t){super(t),t.config.define("typing",{transformations:{include:Mg}})}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,n=t.plugins.get("Input"),r=function(t){const e=t.remove||[],n=t=>!e.includes(t);return function(t){const e=new Set;for(const n of t)if(Pg[n])for(const t of Pg[n])e.add(t);else e.add(n);return Array.from(e)}(t.include.concat(t.extra||[]).filter(n)).filter(n).map(t=>Tg[t]||t).map(t=>({from:Og(t.from),to:Ig(t.to)}))}(t.config.get("typing.transformations")),o=new Ag(t.model,t=>{for(const e of r)if(e.from.test(t))return{normalizedTransformation:e}});o.on("matched:data",(t,r)=>{if(!n.isInput(r.batch))return;const{from:o,to:i}=r.normalizedTransformation,s=o.exec(r.text),a=i(s.slice(1)),c=r.range;let l=s.index;e.enqueueChange(t=>{for(let n=1;n<s.length;n++){const r=s[n],o=a[n-1];if(null==o){l+=r.length;continue}const i=c.start.getShiftedBy(l),u=e.createRange(i,i.getShiftedBy(r.length)),d=Dg(i);e.insertContent(t.createText(o,d),u),l+=o.length}})}),o.bind("isEnabled").to(this)}}],Rg.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default},0:function(t,e,n){t.exports=n("zUnb")},"2Yyj":function(t,e,n){var r,o,i;!function(s){if("object"==typeof t.exports){var a=s(0,e);void 0!==a&&(t.exports=a)}else o=[n,e],void 0===(i="function"==typeof(r=s)?r.apply(e,o):r)||(t.exports=i)}((function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=void 0;e.default=["es",[["a.\xa0m.","p.\xa0m."],n,n],n,[["D","L","M","X","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],n,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],n,[["a. C.","d. C."],n,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",n,"{1}, {0}",n],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[n,"$"],BRL:[n,"R$"],CNY:[n,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[n,"\xa3"],HKD:[n,"$"],ILS:[n,"\u20aa"],INR:[n,"\u20b9"],JPY:[n,"\xa5"],KRW:[n,"\u20a9"],MXN:[n,"$"],NZD:[n,"$"],RON:[n,"L"],THB:["\u0e3f"],TWD:[n,"NT$"],USD:["US$","$"],XAF:[],XCD:[n,"$"],XOF:[]},function(t){return 1===t?1:5}]}))},"3/ER":function(t,e,n){"use strict";(function(t){var r=n("Ju5/"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===o?r.a.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}).call(this,n("3UD+")(t))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"Ju5/":function(t,e,n){"use strict";var r=n("XqMk"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();e.a=i},L3Qv:function(t,e,n){"use strict";e.a=function(){return!1}},LvDl:function(t,e,n){(function(t){var r;(function(){var o="Expected a function",i="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",c="[object Array]",l="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Function]",f="[object GeneratorFunction]",p="[object Map]",g="[object Number]",m="[object Object]",b="[object RegExp]",w="[object Set]",_="[object String]",v="[object Symbol]",y="[object WeakMap]",k="[object ArrayBuffer]",C="[object DataView]",x="[object Float32Array]",A="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",T="[object Int32Array]",P="[object Uint8Array]",M="[object Uint16Array]",O="[object Uint32Array]",I=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,N=/(__e\(.*?\)|\b__t\)) \+\n'';/g,R=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,L=RegExp(R.source),F=RegExp(j.source),V=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,z=/<%=([\s\S]+?)%>/g,U=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/[\\^$.*+?()[\]{}|]/g,W=RegExp($.source),G=/^\s+|\s+$/g,Y=/^\s+/,Q=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,X=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,it=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,ut=/['\n\r\u2028\u2029\\]/g,dt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ht="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ft="["+ht+"]",pt="["+dt+"]",gt="\\d+",mt="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+ht+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",wt="\\ud83c[\\udffb-\\udfff]",_t="[^\\ud800-\\udfff]",vt="(?:\\ud83c[\\udde6-\\uddff]){2}",yt="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ct="(?:"+mt+"|"+bt+")",xt="(?:"+kt+"|"+bt+")",At="(?:"+pt+"|"+wt+")?",Et="[\\ufe0e\\ufe0f]?"+At+"(?:\\u200d(?:"+[_t,vt,yt].join("|")+")[\\ufe0e\\ufe0f]?"+At+")*",St="(?:"+["[\\u2700-\\u27bf]",vt,yt].join("|")+")"+Et,Tt="(?:"+[_t+pt+"?",pt,vt,yt,"[\\ud800-\\udfff]"].join("|")+")",Pt=RegExp("['\u2019]","g"),Mt=RegExp(pt,"g"),Ot=RegExp(wt+"(?="+wt+")|"+Tt+Et,"g"),It=RegExp([kt+"?"+mt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[ft,kt,"$"].join("|")+")",xt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[ft,kt+Ct,"$"].join("|")+")",kt+"?"+Ct+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",kt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,St].join("|"),"g"),Dt=RegExp("[\\u200d\\ud800-\\udfff"+dt+"\\ufe0e\\ufe0f]"),Nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jt=-1,Lt={};Lt[x]=Lt[A]=Lt[E]=Lt[S]=Lt[T]=Lt[P]=Lt["[object Uint8ClampedArray]"]=Lt[M]=Lt[O]=!0,Lt[a]=Lt[c]=Lt[k]=Lt[l]=Lt[C]=Lt[u]=Lt[d]=Lt[h]=Lt[p]=Lt[g]=Lt[m]=Lt[b]=Lt[w]=Lt[_]=Lt[y]=!1;var Ft={};Ft[a]=Ft[c]=Ft[k]=Ft[C]=Ft[l]=Ft[u]=Ft[x]=Ft[A]=Ft[E]=Ft[S]=Ft[T]=Ft[p]=Ft[g]=Ft[m]=Ft[b]=Ft[w]=Ft[_]=Ft[v]=Ft[P]=Ft["[object Uint8ClampedArray]"]=Ft[M]=Ft[O]=!0,Ft[d]=Ft[h]=Ft[y]=!1;var Vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,zt=parseInt,Ut="object"==typeof global&&global&&global.Object===Object&&global,Ht="object"==typeof self&&self&&self.Object===Object&&self,qt=Ut||Ht||Function("return this")(),$t=e&&!e.nodeType&&e,Wt=$t&&"object"==typeof t&&t&&!t.nodeType&&t,Gt=Wt&&Wt.exports===$t,Yt=Gt&&Ut.process,Qt=function(){try{return Wt&&Wt.require&&Wt.require("util").types||Yt&&Yt.binding&&Yt.binding("util")}catch(t){}}(),Zt=Qt&&Qt.isArrayBuffer,Kt=Qt&&Qt.isDate,Jt=Qt&&Qt.isMap,Xt=Qt&&Qt.isRegExp,te=Qt&&Qt.isSet,ee=Qt&&Qt.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function re(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var s=t[o];e(r,s,n(s),t)}return r}function oe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ie(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}function ce(t,e){return!(null==t||!t.length)&&we(t,e,0)>-1}function le(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function ue(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function de(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function he(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function fe(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ge=ke("length");function me(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}function be(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function we(t,e,n){return e==e?function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):be(t,ve,n)}function _e(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function ve(t){return t!=t}function ye(t,e){var n=null==t?0:t.length;return n?Ae(t,e)/n:NaN}function ke(t){return function(e){return null==e?void 0:e[t]}}function Ce(t){return function(e){return null==t?void 0:t[e]}}function xe(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}function Ae(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}function Ee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Se(t){return function(e){return t(e)}}function Te(t,e){return ue(e,(function(e){return t[e]}))}function Pe(t,e){return t.has(e)}function Me(t,e){for(var n=-1,r=t.length;++n<r&&we(e,t[n],0)>-1;);return n}function Oe(t,e){for(var n=t.length;n--&&we(e,t[n],0)>-1;);return n}function Ie(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var De=Ce({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Ne=Ce({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Re(t){return"\\"+Vt[t]}function je(t){return Dt.test(t)}function Le(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Fe(t,e){return function(n){return t(e(n))}}function Ve(t,e){for(var n=-1,r=t.length,o=0,s=[];++n<r;){var a=t[n];a!==e&&a!==i||(t[n]=i,s[o++]=n)}return s}function Be(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Ue(t){return je(t)?function(t){for(var e=Ot.lastIndex=0;Ot.test(t);)++e;return e}(t):ge(t)}function He(t){return je(t)?function(t){return t.match(Ot)||[]}(t):function(t){return t.split("")}(t)}var qe=Ce({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),$e=function t(e){var n,r=(e=null==e?qt:$e.defaults(qt.Object(),e,$e.pick(qt,Rt))).Array,dt=e.Date,ht=e.Error,ft=e.Function,pt=e.Math,gt=e.Object,mt=e.RegExp,bt=e.String,wt=e.TypeError,_t=r.prototype,vt=gt.prototype,yt=e["__core-js_shared__"],kt=ft.prototype.toString,Ct=vt.hasOwnProperty,xt=0,At=(n=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Et=vt.toString,St=kt.call(gt),Tt=qt._,Ot=mt("^"+kt.call(Ct).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=Gt?e.Buffer:void 0,Vt=e.Symbol,Ut=e.Uint8Array,Ht=Dt?Dt.allocUnsafe:void 0,$t=Fe(gt.getPrototypeOf,gt),Wt=gt.create,Yt=vt.propertyIsEnumerable,Qt=_t.splice,ge=Vt?Vt.isConcatSpreadable:void 0,Ce=Vt?Vt.iterator:void 0,We=Vt?Vt.toStringTag:void 0,Ge=function(){try{var t=Jo(gt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ye=e.clearTimeout!==qt.clearTimeout&&e.clearTimeout,Qe=dt&&dt.now!==qt.Date.now&&dt.now,Ze=e.setTimeout!==qt.setTimeout&&e.setTimeout,Ke=pt.ceil,Je=pt.floor,Xe=gt.getOwnPropertySymbols,tn=Dt?Dt.isBuffer:void 0,en=e.isFinite,nn=_t.join,rn=Fe(gt.keys,gt),on=pt.max,sn=pt.min,an=dt.now,cn=e.parseInt,ln=pt.random,un=_t.reverse,dn=Jo(e,"DataView"),hn=Jo(e,"Map"),fn=Jo(e,"Promise"),pn=Jo(e,"Set"),gn=Jo(e,"WeakMap"),mn=Jo(gt,"create"),bn=gn&&new gn,wn={},_n=Si(dn),vn=Si(hn),yn=Si(fn),kn=Si(pn),Cn=Si(gn),xn=Vt?Vt.prototype:void 0,An=xn?xn.valueOf:void 0,En=xn?xn.toString:void 0;function Sn(t){if(qs(t)&&!Ds(t)&&!(t instanceof On)){if(t instanceof Mn)return t;if(Ct.call(t,"__wrapped__"))return Ti(t)}return new Mn(t)}var Tn=function(){function t(){}return function(e){if(!Hs(e))return{};if(Wt)return Wt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Pn(){}function Mn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function On(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function In(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Nn;++e<n;)this.add(t[e])}function jn(t){var e=this.__data__=new Dn(t);this.size=e.size}function Ln(t,e){var n=Ds(t),r=!n&&Is(t),o=!n&&!r&&Ls(t),i=!n&&!r&&!o&&Js(t),s=n||r||o||i,a=s?Ee(t.length,bt):[],c=a.length;for(var l in t)!e&&!Ct.call(t,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ii(l,c))||a.push(l);return a}function Fn(t){var e=t.length;return e?t[Nr(0,e-1)]:void 0}function Vn(t,e){return ki(mo(t),Yn(e,0,t.length))}function Bn(t){return ki(mo(t))}function zn(t,e,n){(void 0===n||Ps(t[e],n))&&(void 0!==n||e in t)||Wn(t,e,n)}function Un(t,e,n){var r=t[e];Ct.call(t,e)&&Ps(r,n)&&(void 0!==n||e in t)||Wn(t,e,n)}function Hn(t,e){for(var n=t.length;n--;)if(Ps(t[n][0],e))return n;return-1}function qn(t,e,n,r){return Xn(t,(function(t,o,i){e(r,t,n(t),i)})),r}function $n(t,e){return t&&bo(e,va(e),t)}function Wn(t,e,n){"__proto__"==e&&Ge?Ge(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Gn(t,e){for(var n=-1,o=e.length,i=r(o),s=null==t;++n<o;)i[n]=s?void 0:ga(t,e[n]);return i}function Yn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Qn(t,e,n,r,o,i){var s,c=1&e,d=2&e,y=4&e;if(n&&(s=o?n(t,r,o,i):n(t)),void 0!==s)return s;if(!Hs(t))return t;var I=Ds(t);if(I){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ct.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return mo(t,s)}else{var D=ei(t),N=D==h||D==f;if(Ls(t))return lo(t,c);if(D==m||D==a||N&&!o){if(s=d||N?{}:ri(t),!c)return d?function(t,e){return bo(t,ti(t),e)}(t,function(t,e){return t&&bo(e,ya(e),t)}(s,t)):function(t,e){return bo(t,Xo(t),e)}(t,$n(s,t))}else{if(!Ft[D])return o?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case k:return uo(t);case l:case u:return new r(+t);case C:return function(t,e){var n=e?uo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case x:case A:case E:case S:case T:case P:case"[object Uint8ClampedArray]":case M:case O:return ho(t,n);case p:return new r;case g:case _:return new r(t);case b:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case w:return new r;case v:return An?gt(An.call(t)):{}}}(t,D,c)}}i||(i=new jn);var R=i.get(t);if(R)return R;i.set(t,s),Qs(t)?t.forEach((function(r){s.add(Qn(r,e,n,r,t,i))})):$s(t)&&t.forEach((function(r,o){s.set(o,Qn(r,e,n,o,t,i))}));var j=I?void 0:(y?d?$o:qo:d?ya:va)(t);return oe(j||t,(function(r,o){j&&(r=t[o=r]),Un(s,o,Qn(r,e,n,o,t,i))})),s}function Zn(t,e,n){var r=n.length;if(null==t)return!r;for(t=gt(t);r--;){var o=n[r],i=t[o];if(void 0===i&&!(o in t)||!(0,e[o])(i))return!1}return!0}function Kn(t,e,n){if("function"!=typeof t)throw new wt(o);return wi((function(){t.apply(void 0,n)}),e)}function Jn(t,e,n,r){var o=-1,i=ce,s=!0,a=t.length,c=[],l=e.length;if(!a)return c;n&&(e=ue(e,Se(n))),r?(i=le,s=!1):e.length>=200&&(i=Pe,s=!1,e=new Rn(e));t:for(;++o<a;){var u=t[o],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d==d){for(var h=l;h--;)if(e[h]===d)continue t;c.push(u)}else i(e,d,r)||c.push(u)}return c}Sn.templateSettings={escape:V,evaluate:B,interpolate:z,variable:"",imports:{_:Sn}},(Sn.prototype=Pn.prototype).constructor=Sn,(Mn.prototype=Tn(Pn.prototype)).constructor=Mn,(On.prototype=Tn(Pn.prototype)).constructor=On,In.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},In.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},In.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ct.call(e,t)?e[t]:void 0},In.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:Ct.call(e,t)},In.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(t){var e=this.__data__,n=Hn(e,t);return!(n<0||(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,0))},Dn.prototype.get=function(t){var e=this.__data__,n=Hn(e,t);return n<0?void 0:e[n][1]},Dn.prototype.has=function(t){return Hn(this.__data__,t)>-1},Dn.prototype.set=function(t,e){var n=this.__data__,r=Hn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Nn.prototype.clear=function(){this.size=0,this.__data__={hash:new In,map:new(hn||Dn),string:new In}},Nn.prototype.delete=function(t){var e=Zo(this,t).delete(t);return this.size-=e?1:0,e},Nn.prototype.get=function(t){return Zo(this,t).get(t)},Nn.prototype.has=function(t){return Zo(this,t).has(t)},Nn.prototype.set=function(t,e){var n=Zo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Rn.prototype.add=Rn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Rn.prototype.has=function(t){return this.__data__.has(t)},jn.prototype.clear=function(){this.__data__=new Dn,this.size=0},jn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},jn.prototype.get=function(t){return this.__data__.get(t)},jn.prototype.has=function(t){return this.__data__.has(t)},jn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Dn){var r=n.__data__;if(!hn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Nn(r)}return n.set(t,e),this.size=n.size,this};var Xn=vo(ar),tr=vo(cr,!0);function er(t,e){var n=!0;return Xn(t,(function(t,r,o){return n=!!e(t,r,o)})),n}function nr(t,e,n){for(var r=-1,o=t.length;++r<o;){var i=t[r],s=e(i);if(null!=s&&(void 0===a?s==s&&!Ks(s):n(s,a)))var a=s,c=i}return c}function rr(t,e){var n=[];return Xn(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function or(t,e,n,r,o){var i=-1,s=t.length;for(n||(n=oi),o||(o=[]);++i<s;){var a=t[i];e>0&&n(a)?e>1?or(a,e-1,n,r,o):de(o,a):r||(o[o.length]=a)}return o}var ir=yo(),sr=yo(!0);function ar(t,e){return t&&ir(t,e,va)}function cr(t,e){return t&&sr(t,e,va)}function lr(t,e){return ae(e,(function(e){return Bs(t[e])}))}function ur(t,e){for(var n=0,r=(e=io(e,t)).length;null!=t&&n<r;)t=t[Ei(e[n++])];return n&&n==r?t:void 0}function dr(t,e,n){var r=e(t);return Ds(t)?r:de(r,n(t))}function hr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":We&&We in gt(t)?function(t){var e=Ct.call(t,We),n=t[We];try{t[We]=void 0;var r=!0}catch(i){}var o=Et.call(t);return r&&(e?t[We]=n:delete t[We]),o}(t):function(t){return Et.call(t)}(t)}function fr(t,e){return t>e}function pr(t,e){return null!=t&&Ct.call(t,e)}function gr(t,e){return null!=t&&e in gt(t)}function mr(t,e,n){for(var o=n?le:ce,i=t[0].length,s=t.length,a=s,c=r(s),l=1/0,u=[];a--;){var d=t[a];a&&e&&(d=ue(d,Se(e))),l=sn(d.length,l),c[a]=!n&&(e||i>=120&&d.length>=120)?new Rn(a&&d):void 0}d=t[0];var h=-1,f=c[0];t:for(;++h<i&&u.length<l;){var p=d[h],g=e?e(p):p;if(p=n||0!==p?p:0,!(f?Pe(f,g):o(u,g,n))){for(a=s;--a;){var m=c[a];if(!(m?Pe(m,g):o(t[a],g,n)))continue t}f&&f.push(g),u.push(p)}}return u}function br(t,e,n){var r=null==(t=pi(t,e=io(e,t)))?t:t[Ei(Vi(e))];return null==r?void 0:ne(r,t,n)}function wr(t){return qs(t)&&hr(t)==a}function _r(t,e,n,r,o){return t===e||(null==t||null==e||!qs(t)&&!qs(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var s=Ds(t),h=Ds(e),f=s?c:ei(t),y=h?c:ei(e),x=(f=f==a?m:f)==m,A=(y=y==a?m:y)==m,E=f==y;if(E&&Ls(t)){if(!Ls(e))return!1;s=!0,x=!1}if(E&&!x)return i||(i=new jn),s||Js(t)?Uo(t,e,n,r,o,i):function(t,e,n,r,o,i,s){switch(n){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!i(new Ut(t),new Ut(e)));case l:case u:case g:return Ps(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case _:return t==e+"";case p:var a=Le;case w:if(a||(a=Be),t.size!=e.size&&!(1&r))return!1;var c=s.get(t);if(c)return c==e;r|=2,s.set(t,e);var h=Uo(a(t),a(e),r,o,i,s);return s.delete(t),h;case v:if(An)return An.call(t)==An.call(e)}return!1}(t,e,f,n,r,o,i);if(!(1&n)){var S=x&&Ct.call(t,"__wrapped__"),T=A&&Ct.call(e,"__wrapped__");if(S||T){var P=S?t.value():t,M=T?e.value():e;return i||(i=new jn),o(P,M,n,r,i)}}return!!E&&(i||(i=new jn),function(t,e,n,r,o,i){var s=1&n,a=qo(t),c=a.length;if(c!=qo(e).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in e:Ct.call(e,u)))return!1}var d=i.get(t),h=i.get(e);if(d&&h)return d==e&&h==t;var f=!0;i.set(t,e),i.set(e,t);for(var p=s;++l<c;){var g=t[u=a[l]],m=e[u];if(r)var b=s?r(m,g,u,e,t,i):r(g,m,u,t,e,i);if(!(void 0===b?g===m||o(g,m,n,r,i):b)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return i.delete(t),i.delete(e),f}(t,e,n,r,o,i))}(t,e,n,r,_r,o))}function vr(t,e,n,r){var o=n.length,i=o,s=!r;if(null==t)return!i;for(t=gt(t);o--;){var a=n[o];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=n[o])[0],l=t[c],u=a[1];if(s&&a[2]){if(void 0===l&&!(c in t))return!1}else{var d=new jn;if(r)var h=r(l,u,c,t,e,d);if(!(void 0===h?_r(u,l,3,r,d):h))return!1}}return!0}function yr(t){return!(!Hs(t)||(e=t,At&&At in e))&&(Bs(t)?Ot:it).test(Si(t));var e}function kr(t){return"function"==typeof t?t:null==t?Wa:"object"==typeof t?Ds(t)?Sr(t[0],t[1]):Er(t):ec(t)}function Cr(t){if(!ui(t))return rn(t);var e=[];for(var n in gt(t))Ct.call(t,n)&&"constructor"!=n&&e.push(n);return e}function xr(t,e){return t<e}function Ar(t,e){var n=-1,o=Rs(t)?r(t.length):[];return Xn(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}function Er(t){var e=Ko(t);return 1==e.length&&e[0][2]?hi(e[0][0],e[0][1]):function(n){return n===t||vr(n,t,e)}}function Sr(t,e){return ai(t)&&di(e)?hi(Ei(t),e):function(n){var r=ga(n,t);return void 0===r&&r===e?ma(n,t):_r(e,r,3)}}function Tr(t,e,n,r,o){t!==e&&ir(e,(function(i,s){if(o||(o=new jn),Hs(i))!function(t,e,n,r,o,i,s){var a=mi(t,n),c=mi(e,n),l=s.get(c);if(l)zn(t,n,l);else{var u=i?i(a,c,n+"",t,e,s):void 0,d=void 0===u;if(d){var h=Ds(c),f=!h&&Ls(c),p=!h&&!f&&Js(c);u=c,h||f||p?Ds(a)?u=a:js(a)?u=mo(a):f?(d=!1,u=lo(c,!0)):p?(d=!1,u=ho(c,!0)):u=[]:Gs(c)||Is(c)?(u=a,Is(a)?u=sa(a):Hs(a)&&!Bs(a)||(u=ri(c))):d=!1}d&&(s.set(c,u),o(u,c,r,i,s),s.delete(c)),zn(t,n,u)}}(t,e,s,n,Tr,r,o);else{var a=r?r(mi(t,s),i,s+"",t,e,o):void 0;void 0===a&&(a=i),zn(t,s,a)}}),ya)}function Pr(t,e){var n=t.length;if(n)return ii(e+=e<0?n:0,n)?t[e]:void 0}function Mr(t,e,n){e=e.length?ue(e,(function(t){return Ds(t)?function(e){return ur(e,1===t.length?t[0]:t)}:t})):[Wa];var r=-1;return e=ue(e,Se(Qo())),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,s=o.length,a=n.length;++r<s;){var c=fo(o[r],i[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(Ar(t,(function(t,n,o){return{criteria:ue(e,(function(e){return e(t)})),index:++r,value:t}})))}function Or(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var s=e[r],a=ur(t,s);n(a,s)&&Vr(i,io(s,t),a)}return i}function Ir(t,e,n,r){var o=r?_e:we,i=-1,s=e.length,a=t;for(t===e&&(e=mo(e)),n&&(a=ue(t,Se(n)));++i<s;)for(var c=0,l=e[i],u=n?n(l):l;(c=o(a,u,c,r))>-1;)a!==t&&Qt.call(a,c,1),Qt.call(t,c,1);return t}function Dr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;ii(o)?Qt.call(t,o,1):Kr(t,o)}}return t}function Nr(t,e){return t+Je(ln()*(e-t+1))}function Rr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Je(e/2))&&(t+=t)}while(e);return n}function jr(t,e){return _i(fi(t,e,Wa),t+"")}function Lr(t){return Fn(Pa(t))}function Fr(t,e){var n=Pa(t);return ki(n,Yn(e,0,n.length))}function Vr(t,e,n,r){if(!Hs(t))return t;for(var o=-1,i=(e=io(e,t)).length,s=i-1,a=t;null!=a&&++o<i;){var c=Ei(e[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=s){var u=a[c];void 0===(l=r?r(u,c,a):void 0)&&(l=Hs(u)?u:ii(e[o+1])?[]:{})}Un(a,c,l),a=a[c]}return t}var Br=bn?function(t,e){return bn.set(t,e),t}:Wa,zr=Ge?function(t,e){return Ge(t,"toString",{configurable:!0,enumerable:!1,value:Ha(e),writable:!0})}:Wa;function Ur(t){return ki(Pa(t))}function Hr(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=r(i);++o<i;)s[o]=t[o+e];return s}function qr(t,e){var n;return Xn(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}function $r(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=t[i];null!==s&&!Ks(s)&&(n?s<=e:s<e)?r=i+1:o=i}return o}return Wr(t,e,Wa,n)}function Wr(t,e,n,r){var o=0,i=null==t?0:t.length;if(0===i)return 0;for(var s=(e=n(e))!=e,a=null===e,c=Ks(e),l=void 0===e;o<i;){var u=Je((o+i)/2),d=n(t[u]),h=void 0!==d,f=null===d,p=d==d,g=Ks(d);if(s)var m=r||p;else m=l?p&&(r||h):a?p&&h&&(r||!f):c?p&&h&&!f&&(r||!g):!f&&!g&&(r?d<=e:d<e);m?o=u+1:i=u}return sn(i,4294967294)}function Gr(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Ps(a,c)){var c=a;i[o++]=0===s?0:s}}return i}function Yr(t){return"number"==typeof t?t:Ks(t)?NaN:+t}function Qr(t){if("string"==typeof t)return t;if(Ds(t))return ue(t,Qr)+"";if(Ks(t))return En?En.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Zr(t,e,n){var r=-1,o=ce,i=t.length,s=!0,a=[],c=a;if(n)s=!1,o=le;else if(i>=200){var l=e?null:jo(t);if(l)return Be(l);s=!1,o=Pe,c=new Rn}else c=e?[]:a;t:for(;++r<i;){var u=t[r],d=e?e(u):u;if(u=n||0!==u?u:0,s&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue t;e&&c.push(d),a.push(u)}else o(c,d,n)||(c!==a&&c.push(d),a.push(u))}return a}function Kr(t,e){return null==(t=pi(t,e=io(e,t)))||delete t[Ei(Vi(e))]}function Jr(t,e,n,r){return Vr(t,e,n(ur(t,e)),r)}function Xr(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?Hr(t,r?0:i,r?i+1:o):Hr(t,r?i+1:0,r?o:i)}function to(t,e){var n=t;return n instanceof On&&(n=n.value()),he(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),n)}function eo(t,e,n){var o=t.length;if(o<2)return o?Zr(t[0]):[];for(var i=-1,s=r(o);++i<o;)for(var a=t[i],c=-1;++c<o;)c!=i&&(s[i]=Jn(s[i]||a,t[c],e,n));return Zr(or(s,1),e,n)}function no(t,e,n){for(var r=-1,o=t.length,i=e.length,s={};++r<o;)n(s,t[r],r<i?e[r]:void 0);return s}function ro(t){return js(t)?t:[]}function oo(t){return"function"==typeof t?t:Wa}function io(t,e){return Ds(t)?t:ai(t,e)?[t]:Ai(aa(t))}var so=jr;function ao(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Hr(t,e,n)}var co=Ye||function(t){return qt.clearTimeout(t)};function lo(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function uo(t){var e=new t.constructor(t.byteLength);return new Ut(e).set(new Ut(t)),e}function ho(t,e){var n=e?uo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function fo(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t==t,i=Ks(t),s=void 0!==e,a=null===e,c=e==e,l=Ks(e);if(!a&&!l&&!i&&t>e||i&&s&&c&&!a&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!i&&!l&&t<e||l&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!c)return-1}return 0}function po(t,e,n,o){for(var i=-1,s=t.length,a=n.length,c=-1,l=e.length,u=on(s-a,0),d=r(l+u),h=!o;++c<l;)d[c]=e[c];for(;++i<a;)(h||i<s)&&(d[n[i]]=t[i]);for(;u--;)d[c++]=t[i++];return d}function go(t,e,n,o){for(var i=-1,s=t.length,a=-1,c=n.length,l=-1,u=e.length,d=on(s-c,0),h=r(d+u),f=!o;++i<d;)h[i]=t[i];for(var p=i;++l<u;)h[p+l]=e[l];for(;++a<c;)(f||i<s)&&(h[p+n[a]]=t[i++]);return h}function mo(t,e){var n=-1,o=t.length;for(e||(e=r(o));++n<o;)e[n]=t[n];return e}function bo(t,e,n,r){var o=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),o?Wn(n,a,c):Un(n,a,c)}return n}function wo(t,e){return function(n,r){var o=Ds(n)?re:qn,i=e?e():{};return o(n,t,Qo(r,2),i)}}function _o(t){return jr((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,s&&si(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),e=gt(e);++r<o;){var a=n[r];a&&t(e,a,r,i)}return e}))}function vo(t,e){return function(n,r){if(null==n)return n;if(!Rs(n))return t(n,r);for(var o=n.length,i=e?o:-1,s=gt(n);(e?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function yo(t){return function(e,n,r){for(var o=-1,i=gt(e),s=r(e),a=s.length;a--;){var c=s[t?a:++o];if(!1===n(i[c],c,i))break}return e}}function ko(t){return function(e){var n=je(e=aa(e))?He(e):void 0,r=n?n[0]:e.charAt(0),o=n?ao(n,1).join(""):e.slice(1);return r[t]()+o}}function Co(t){return function(e){return he(Ba(Ia(e).replace(Pt,"")),t,"")}}function xo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Tn(t.prototype),r=t.apply(n,e);return Hs(r)?r:n}}function Ao(t){return function(e,n,r){var o=gt(e);if(!Rs(e)){var i=Qo(n,3);e=va(e),n=function(t){return i(o[t],t,o)}}var s=t(e,n,r);return s>-1?o[i?e[s]:s]:void 0}}function Eo(t){return Ho((function(e){var n=e.length,r=n,i=Mn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new wt(o);if(i&&!a&&"wrapper"==Go(s))var a=new Mn([],!0)}for(r=a?r:n;++r<n;){var c=Go(s=e[r]),l="wrapper"==c?Wo(s):void 0;a=l&&ci(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Go(l[0])].apply(a,l[3]):1==s.length&&ci(s)?a[c]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&Ds(r))return a.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}}))}function So(t,e,n,o,i,s,a,c,l,u){var d=128&e,h=1&e,f=2&e,p=24&e,g=512&e,m=f?void 0:xo(t);return function b(){for(var w=arguments.length,_=r(w),v=w;v--;)_[v]=arguments[v];if(p)var y=Yo(b),k=Ie(_,y);if(o&&(_=po(_,o,i,p)),s&&(_=go(_,s,a,p)),w-=k,p&&w<u){var C=Ve(_,y);return No(t,e,So,b.placeholder,n,_,C,c,l,u-w)}var x=h?n:this,A=f?x[t]:t;return w=_.length,c?_=gi(_,c):g&&w>1&&_.reverse(),d&&l<w&&(_.length=l),this&&this!==qt&&this instanceof b&&(A=m||xo(A)),A.apply(x,_)}}function To(t,e){return function(n,r){return function(t,e,n,r){return ar(t,(function(t,o,i){e(r,n(t),o,i)})),r}(n,t,e(r),{})}}function Po(t,e){return function(n,r){var o;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=Qr(n),r=Qr(r)):(n=Yr(n),r=Yr(r)),o=t(n,r)}return o}}function Mo(t){return Ho((function(e){return e=ue(e,Se(Qo())),jr((function(n){var r=this;return t(e,(function(t){return ne(t,r,n)}))}))}))}function Oo(t,e){var n=(e=void 0===e?" ":Qr(e)).length;if(n<2)return n?Rr(e,t):e;var r=Rr(e,Ke(t/Ue(e)));return je(e)?ao(He(r),0,t).join(""):r.slice(0,t)}function Io(t){return function(e,n,o){return o&&"number"!=typeof o&&si(e,n,o)&&(n=o=void 0),e=na(e),void 0===n?(n=e,e=0):n=na(n),function(t,e,n,o){for(var i=-1,s=on(Ke((e-t)/(n||1)),0),a=r(s);s--;)a[o?s:++i]=t,t+=n;return a}(e,n,o=void 0===o?e<n?1:-1:na(o),t)}}function Do(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ia(e),n=ia(n)),t(e,n)}}function No(t,e,n,r,o,i,s,a,c,l){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var d=[t,e,o,u?i:void 0,u?s:void 0,u?void 0:i,u?void 0:s,a,c,l],h=n.apply(void 0,d);return ci(t)&&bi(h,d),h.placeholder=r,vi(h,t,e)}function Ro(t){var e=pt[t];return function(t,n){if(t=ia(t),(n=null==n?0:sn(ra(n),292))&&en(t)){var r=(aa(t)+"e").split("e");return+((r=(aa(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var jo=pn&&1/Be(new pn([,-0]))[1]==1/0?function(t){return new pn(t)}:Ka;function Lo(t){return function(e){var n=ei(e);return n==p?Le(e):n==w?ze(e):function(t,e){return ue(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Fo(t,e,n,s,a,c,l,u){var d=2&e;if(!d&&"function"!=typeof t)throw new wt(o);var h=s?s.length:0;if(h||(e&=-97,s=a=void 0),l=void 0===l?l:on(ra(l),0),u=void 0===u?u:ra(u),h-=a?a.length:0,64&e){var f=s,p=a;s=a=void 0}var g=d?void 0:Wo(t),m=[t,e,n,s,a,f,p,c,l,u];if(g&&function(t,e){var n=t[1],r=e[1],o=n|r;if(!(o<131||128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var s=e[3];if(s){var a=t[3];t[3]=a?po(a,s,e[4]):s,t[4]=a?Ve(t[3],i):e[4]}(s=e[5])&&(t[5]=(a=t[5])?go(a,s,e[6]):s,t[6]=a?Ve(t[5],i):e[6]),(s=e[7])&&(t[7]=s),128&r&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(m,g),t=m[0],e=m[1],n=m[2],s=m[3],a=m[4],!(u=m[9]=void 0===m[9]?d?0:t.length:on(m[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var o=xo(t);return function i(){for(var s=arguments.length,a=r(s),c=s,l=Yo(i);c--;)a[c]=arguments[c];var u=s<3&&a[0]!==l&&a[s-1]!==l?[]:Ve(a,l);if((s-=u.length)<n)return No(t,e,So,i.placeholder,void 0,a,u,void 0,void 0,n-s);var d=this&&this!==qt&&this instanceof i?o:t;return ne(d,this,a)}}(t,e,u):32!=e&&33!=e||a.length?So.apply(void 0,m):function(t,e,n,o){var i=1&e,s=xo(t);return function e(){for(var a=-1,c=arguments.length,l=-1,u=o.length,d=r(u+c),h=this&&this!==qt&&this instanceof e?s:t;++l<u;)d[l]=o[l];for(;c--;)d[l++]=arguments[++a];return ne(h,i?n:this,d)}}(t,e,n,s);else var b=function(t,e,n){var r=1&e,o=xo(t);return function e(){var i=this&&this!==qt&&this instanceof e?o:t;return i.apply(r?n:this,arguments)}}(t,e,n);return vi((g?Br:bi)(b,m),t,e)}function Vo(t,e,n,r){return void 0===t||Ps(t,vt[n])&&!Ct.call(r,n)?e:t}function Bo(t,e,n,r,o,i){return Hs(t)&&Hs(e)&&(i.set(e,t),Tr(t,e,void 0,Bo,i),i.delete(e)),t}function zo(t){return Gs(t)?void 0:t}function Uo(t,e,n,r,o,i){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=i.get(t),u=i.get(e);if(l&&u)return l==e&&u==t;var d=-1,h=!0,f=2&n?new Rn:void 0;for(i.set(t,e),i.set(e,t);++d<a;){var p=t[d],g=e[d];if(r)var m=s?r(g,p,d,e,t,i):r(p,g,d,t,e,i);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!pe(e,(function(t,e){if(!Pe(f,e)&&(p===t||o(p,t,n,r,i)))return f.push(e)}))){h=!1;break}}else if(p!==g&&!o(p,g,n,r,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Ho(t){return _i(fi(t,void 0,Ni),t+"")}function qo(t){return dr(t,va,Xo)}function $o(t){return dr(t,ya,ti)}var Wo=bn?function(t){return bn.get(t)}:Ka;function Go(t){for(var e=t.name+"",n=wn[e],r=Ct.call(wn,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function Yo(t){return(Ct.call(Sn,"placeholder")?Sn:t).placeholder}function Qo(){var t=Sn.iteratee||Ga;return t=t===Ga?kr:t,arguments.length?t(arguments[0],arguments[1]):t}function Zo(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Ko(t){for(var e=va(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,di(o)]}return e}function Jo(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return yr(n)?n:void 0}var Xo=Xe?function(t){return null==t?[]:(t=gt(t),ae(Xe(t),(function(e){return Yt.call(t,e)})))}:oc,ti=Xe?function(t){for(var e=[];t;)de(e,Xo(t)),t=$t(t);return e}:oc,ei=hr;function ni(t,e,n){for(var r=-1,o=(e=io(e,t)).length,i=!1;++r<o;){var s=Ei(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Us(o)&&ii(s,o)&&(Ds(t)||Is(t))}function ri(t){return"function"!=typeof t.constructor||ui(t)?{}:Tn($t(t))}function oi(t){return Ds(t)||Is(t)||!!(ge&&t&&t[ge])}function ii(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&at.test(t))&&t>-1&&t%1==0&&t<e}function si(t,e,n){if(!Hs(n))return!1;var r=typeof e;return!!("number"==r?Rs(n)&&ii(e,n.length):"string"==r&&e in n)&&Ps(n[e],t)}function ai(t,e){if(Ds(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ks(t))||H.test(t)||!U.test(t)||null!=e&&t in gt(e)}function ci(t){var e=Go(t),n=Sn[e];if("function"!=typeof n||!(e in On.prototype))return!1;if(t===n)return!0;var r=Wo(n);return!!r&&t===r[0]}(dn&&ei(new dn(new ArrayBuffer(1)))!=C||hn&&ei(new hn)!=p||fn&&"[object Promise]"!=ei(fn.resolve())||pn&&ei(new pn)!=w||gn&&ei(new gn)!=y)&&(ei=function(t){var e=hr(t),n=e==m?t.constructor:void 0,r=n?Si(n):"";if(r)switch(r){case _n:return C;case vn:return p;case yn:return"[object Promise]";case kn:return w;case Cn:return y}return e});var li=yt?Bs:ic;function ui(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||vt)}function di(t){return t==t&&!Hs(t)}function hi(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in gt(n))}}function fi(t,e,n){return e=on(void 0===e?t.length-1:e,0),function(){for(var o=arguments,i=-1,s=on(o.length-e,0),a=r(s);++i<s;)a[i]=o[e+i];i=-1;for(var c=r(e+1);++i<e;)c[i]=o[i];return c[e]=n(a),ne(t,this,c)}}function pi(t,e){return e.length<2?t:ur(t,Hr(e,0,-1))}function gi(t,e){for(var n=t.length,r=sn(e.length,n),o=mo(t);r--;){var i=e[r];t[r]=ii(i,n)?o[i]:void 0}return t}function mi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var bi=yi(Br),wi=Ze||function(t,e){return qt.setTimeout(t,e)},_i=yi(zr);function vi(t,e,n){var r=e+"";return _i(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Z,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return oe(s,(function(n){var r="_."+n[0];e&n[1]&&!ce(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(K);return e?e[1].split(J):[]}(r),n)))}function yi(t){var e=0,n=0;return function(){var r=an(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function ki(t,e){var n=-1,r=t.length,o=r-1;for(e=void 0===e?r:e;++n<e;){var i=Nr(n,o),s=t[i];t[i]=t[n],t[n]=s}return t.length=e,t}var Ci,xi,Ai=(Ci=Cs((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(q,(function(t,n,r,o){e.push(r?o.replace(tt,"$1"):n||t)})),e}),(function(t){return 500===xi.size&&xi.clear(),t})),xi=Ci.cache,Ci);function Ei(t){if("string"==typeof t||Ks(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Si(t){if(null!=t){try{return kt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ti(t){if(t instanceof On)return t.clone();var e=new Mn(t.__wrapped__,t.__chain__);return e.__actions__=mo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Pi=jr((function(t,e){return js(t)?Jn(t,or(e,1,js,!0)):[]})),Mi=jr((function(t,e){var n=Vi(e);return js(n)&&(n=void 0),js(t)?Jn(t,or(e,1,js,!0),Qo(n,2)):[]})),Oi=jr((function(t,e){var n=Vi(e);return js(n)&&(n=void 0),js(t)?Jn(t,or(e,1,js,!0),void 0,n):[]}));function Ii(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ra(n);return o<0&&(o=on(r+o,0)),be(t,Qo(e,3),o)}function Di(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=ra(n),o=n<0?on(r+o,0):sn(o,r-1)),be(t,Qo(e,3),o,!0)}function Ni(t){return null!=t&&t.length?or(t,1):[]}function Ri(t){return t&&t.length?t[0]:void 0}var ji=jr((function(t){var e=ue(t,ro);return e.length&&e[0]===t[0]?mr(e):[]})),Li=jr((function(t){var e=Vi(t),n=ue(t,ro);return e===Vi(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mr(n,Qo(e,2)):[]})),Fi=jr((function(t){var e=Vi(t),n=ue(t,ro);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mr(n,void 0,e):[]}));function Vi(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Bi=jr(zi);function zi(t,e){return t&&t.length&&e&&e.length?Ir(t,e):t}var Ui=Ho((function(t,e){var n=null==t?0:t.length,r=Gn(t,e);return Dr(t,ue(e,(function(t){return ii(t,n)?+t:t})).sort(fo)),r}));function Hi(t){return null==t?t:un.call(t)}var qi=jr((function(t){return Zr(or(t,1,js,!0))})),$i=jr((function(t){var e=Vi(t);return js(e)&&(e=void 0),Zr(or(t,1,js,!0),Qo(e,2))})),Wi=jr((function(t){var e=Vi(t);return e="function"==typeof e?e:void 0,Zr(or(t,1,js,!0),void 0,e)}));function Gi(t){if(!t||!t.length)return[];var e=0;return t=ae(t,(function(t){if(js(t))return e=on(t.length,e),!0})),Ee(e,(function(e){return ue(t,ke(e))}))}function Yi(t,e){if(!t||!t.length)return[];var n=Gi(t);return null==e?n:ue(n,(function(t){return ne(e,void 0,t)}))}var Qi=jr((function(t,e){return js(t)?Jn(t,e):[]})),Zi=jr((function(t){return eo(ae(t,js))})),Ki=jr((function(t){var e=Vi(t);return js(e)&&(e=void 0),eo(ae(t,js),Qo(e,2))})),Ji=jr((function(t){var e=Vi(t);return e="function"==typeof e?e:void 0,eo(ae(t,js),void 0,e)})),Xi=jr(Gi),ts=jr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Yi(t,n)}));function es(t){var e=Sn(t);return e.__chain__=!0,e}function ns(t,e){return e(t)}var rs=Ho((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Gn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof On&&ii(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ns,args:[o],thisArg:void 0}),new Mn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(o)})),os=wo((function(t,e,n){Ct.call(t,n)?++t[n]:Wn(t,n,1)})),is=Ao(Ii),ss=Ao(Di);function as(t,e){return(Ds(t)?oe:Xn)(t,Qo(e,3))}function cs(t,e){return(Ds(t)?ie:tr)(t,Qo(e,3))}var ls=wo((function(t,e,n){Ct.call(t,n)?t[n].push(e):Wn(t,n,[e])})),us=jr((function(t,e,n){var o=-1,i="function"==typeof e,s=Rs(t)?r(t.length):[];return Xn(t,(function(t){s[++o]=i?ne(e,t,n):br(t,e,n)})),s})),ds=wo((function(t,e,n){Wn(t,n,e)}));function hs(t,e){return(Ds(t)?ue:Ar)(t,Qo(e,3))}var fs=wo((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),ps=jr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&si(t,e[0],e[1])?e=[]:n>2&&si(e[0],e[1],e[2])&&(e=[e[0]]),Mr(t,or(e,1),[])})),gs=Qe||function(){return qt.Date.now()};function ms(t,e,n){return e=n?void 0:e,Fo(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function bs(t,e){var n;if("function"!=typeof e)throw new wt(o);return t=ra(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ws=jr((function(t,e,n){var r=1;if(n.length){var o=Ve(n,Yo(ws));r|=32}return Fo(t,r,e,n,o)})),_s=jr((function(t,e,n){var r=3;if(n.length){var o=Ve(n,Yo(_s));r|=32}return Fo(e,r,t,n,o)}));function vs(t,e,n){var r,i,s,a,c,l,u=0,d=!1,h=!1,f=!0;if("function"!=typeof t)throw new wt(o);function p(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function g(t){return u=t,c=wi(b,e),d?p(t):a}function m(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-u>=s}function b(){var t=gs();if(m(t))return w(t);c=wi(b,function(t){var n=e-(t-l);return h?sn(n,s-(t-u)):n}(t))}function w(t){return c=void 0,f&&r?p(t):(r=i=void 0,a)}function _(){var t=gs(),n=m(t);if(r=arguments,i=this,l=t,n){if(void 0===c)return g(l);if(h)return co(c),c=wi(b,e),p(l)}return void 0===c&&(c=wi(b,e)),a}return e=ia(e)||0,Hs(n)&&(d=!!n.leading,s=(h="maxWait"in n)?on(ia(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f),_.cancel=function(){void 0!==c&&co(c),u=0,r=l=i=c=void 0},_.flush=function(){return void 0===c?a:w(gs())},_}var ys=jr((function(t,e){return Kn(t,1,e)})),ks=jr((function(t,e,n){return Kn(t,ia(e)||0,n)}));function Cs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new wt(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(Cs.Cache||Nn),n}function xs(t){if("function"!=typeof t)throw new wt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Cs.Cache=Nn;var As=so((function(t,e){var n=(e=1==e.length&&Ds(e[0])?ue(e[0],Se(Qo())):ue(or(e,1),Se(Qo()))).length;return jr((function(r){for(var o=-1,i=sn(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return ne(t,this,r)}))})),Es=jr((function(t,e){return Fo(t,32,void 0,e,Ve(e,Yo(Es)))})),Ss=jr((function(t,e){return Fo(t,64,void 0,e,Ve(e,Yo(Ss)))})),Ts=Ho((function(t,e){return Fo(t,256,void 0,void 0,void 0,e)}));function Ps(t,e){return t===e||t!=t&&e!=e}var Ms=Do(fr),Os=Do((function(t,e){return t>=e})),Is=wr(function(){return arguments}())?wr:function(t){return qs(t)&&Ct.call(t,"callee")&&!Yt.call(t,"callee")},Ds=r.isArray,Ns=Zt?Se(Zt):function(t){return qs(t)&&hr(t)==k};function Rs(t){return null!=t&&Us(t.length)&&!Bs(t)}function js(t){return qs(t)&&Rs(t)}var Ls=tn||ic,Fs=Kt?Se(Kt):function(t){return qs(t)&&hr(t)==u};function Vs(t){if(!qs(t))return!1;var e=hr(t);return e==d||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Gs(t)}function Bs(t){if(!Hs(t))return!1;var e=hr(t);return e==h||e==f||"[object AsyncFunction]"==e||"[object Proxy]"==e}function zs(t){return"number"==typeof t&&t==ra(t)}function Us(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Hs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function qs(t){return null!=t&&"object"==typeof t}var $s=Jt?Se(Jt):function(t){return qs(t)&&ei(t)==p};function Ws(t){return"number"==typeof t||qs(t)&&hr(t)==g}function Gs(t){if(!qs(t)||hr(t)!=m)return!1;var e=$t(t);if(null===e)return!0;var n=Ct.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&kt.call(n)==St}var Ys=Xt?Se(Xt):function(t){return qs(t)&&hr(t)==b},Qs=te?Se(te):function(t){return qs(t)&&ei(t)==w};function Zs(t){return"string"==typeof t||!Ds(t)&&qs(t)&&hr(t)==_}function Ks(t){return"symbol"==typeof t||qs(t)&&hr(t)==v}var Js=ee?Se(ee):function(t){return qs(t)&&Us(t.length)&&!!Lt[hr(t)]},Xs=Do(xr),ta=Do((function(t,e){return t<=e}));function ea(t){if(!t)return[];if(Rs(t))return Zs(t)?He(t):mo(t);if(Ce&&t[Ce])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ce]());var e=ei(t);return(e==p?Le:e==w?Be:Pa)(t)}function na(t){return t?(t=ia(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ra(t){var e=na(t),n=e%1;return e==e?n?e-n:e:0}function oa(t){return t?Yn(ra(t),0,4294967295):0}function ia(t){if("number"==typeof t)return t;if(Ks(t))return NaN;if(Hs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Hs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(G,"");var n=ot.test(t);return n||st.test(t)?zt(t.slice(2),n?2:8):rt.test(t)?NaN:+t}function sa(t){return bo(t,ya(t))}function aa(t){return null==t?"":Qr(t)}var ca=_o((function(t,e){if(ui(e)||Rs(e))bo(e,va(e),t);else for(var n in e)Ct.call(e,n)&&Un(t,n,e[n])})),la=_o((function(t,e){bo(e,ya(e),t)})),ua=_o((function(t,e,n,r){bo(e,ya(e),t,r)})),da=_o((function(t,e,n,r){bo(e,va(e),t,r)})),ha=Ho(Gn),fa=jr((function(t,e){t=gt(t);var n=-1,r=e.length,o=r>2?e[2]:void 0;for(o&&si(e[0],e[1],o)&&(r=1);++n<r;)for(var i=e[n],s=ya(i),a=-1,c=s.length;++a<c;){var l=s[a],u=t[l];(void 0===u||Ps(u,vt[l])&&!Ct.call(t,l))&&(t[l]=i[l])}return t})),pa=jr((function(t){return t.push(void 0,Bo),ne(Ca,void 0,t)}));function ga(t,e,n){var r=null==t?void 0:ur(t,e);return void 0===r?n:r}function ma(t,e){return null!=t&&ni(t,e,gr)}var ba=To((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Et.call(e)),t[e]=n}),Ha(Wa)),wa=To((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Et.call(e)),Ct.call(t,e)?t[e].push(n):t[e]=[n]}),Qo),_a=jr(br);function va(t){return Rs(t)?Ln(t):Cr(t)}function ya(t){return Rs(t)?Ln(t,!0):function(t){if(!Hs(t))return function(t){var e=[];if(null!=t)for(var n in gt(t))e.push(n);return e}(t);var e=ui(t),n=[];for(var r in t)("constructor"!=r||!e&&Ct.call(t,r))&&n.push(r);return n}(t)}var ka=_o((function(t,e,n){Tr(t,e,n)})),Ca=_o((function(t,e,n,r){Tr(t,e,n,r)})),xa=Ho((function(t,e){var n={};if(null==t)return n;var r=!1;e=ue(e,(function(e){return e=io(e,t),r||(r=e.length>1),e})),bo(t,$o(t),n),r&&(n=Qn(n,7,zo));for(var o=e.length;o--;)Kr(n,e[o]);return n})),Aa=Ho((function(t,e){return null==t?{}:function(t,e){return Or(t,e,(function(e,n){return ma(t,n)}))}(t,e)}));function Ea(t,e){if(null==t)return{};var n=ue($o(t),(function(t){return[t]}));return e=Qo(e),Or(t,n,(function(t,n){return e(t,n[0])}))}var Sa=Lo(va),Ta=Lo(ya);function Pa(t){return null==t?[]:Te(t,va(t))}var Ma=Co((function(t,e,n){return e=e.toLowerCase(),t+(n?Oa(e):e)}));function Oa(t){return Va(aa(t).toLowerCase())}function Ia(t){return(t=aa(t))&&t.replace(ct,De).replace(Mt,"")}var Da=Co((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Na=Co((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ra=ko("toLowerCase"),ja=Co((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),La=Co((function(t,e,n){return t+(n?" ":"")+Va(e)})),Fa=Co((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Va=ko("toUpperCase");function Ba(t,e,n){return t=aa(t),void 0===(e=n?void 0:e)?function(t){return Nt.test(t)}(t)?function(t){return t.match(It)||[]}(t):function(t){return t.match(X)||[]}(t):t.match(e)||[]}var za=jr((function(t,e){try{return ne(t,void 0,e)}catch(n){return Vs(n)?n:new ht(n)}})),Ua=Ho((function(t,e){return oe(e,(function(e){e=Ei(e),Wn(t,e,ws(t[e],t))})),t}));function Ha(t){return function(){return t}}var qa=Eo(),$a=Eo(!0);function Wa(t){return t}function Ga(t){return kr("function"==typeof t?t:Qn(t,1))}var Ya=jr((function(t,e){return function(n){return br(n,t,e)}})),Qa=jr((function(t,e){return function(n){return br(t,n,e)}}));function Za(t,e,n){var r=va(e),o=lr(e,r);null!=n||Hs(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=lr(e,va(e)));var i=!(Hs(n)&&"chain"in n&&!n.chain),s=Bs(t);return oe(o,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__),o=n.__actions__=mo(this.__actions__);return o.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,de([this.value()],arguments))})})),t}function Ka(){}var Ja=Mo(ue),Xa=Mo(se),tc=Mo(pe);function ec(t){return ai(t)?ke(Ei(t)):function(t){return function(e){return ur(e,t)}}(t)}var nc=Io(),rc=Io(!0);function oc(){return[]}function ic(){return!1}var sc,ac=Po((function(t,e){return t+e}),0),cc=Ro("ceil"),lc=Po((function(t,e){return t/e}),1),uc=Ro("floor"),dc=Po((function(t,e){return t*e}),1),hc=Ro("round"),fc=Po((function(t,e){return t-e}),0);return Sn.after=function(t,e){if("function"!=typeof e)throw new wt(o);return t=ra(t),function(){if(--t<1)return e.apply(this,arguments)}},Sn.ary=ms,Sn.assign=ca,Sn.assignIn=la,Sn.assignInWith=ua,Sn.assignWith=da,Sn.at=ha,Sn.before=bs,Sn.bind=ws,Sn.bindAll=Ua,Sn.bindKey=_s,Sn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ds(t)?t:[t]},Sn.chain=es,Sn.chunk=function(t,e,n){e=(n?si(t,e,n):void 0===e)?1:on(ra(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var i=0,s=0,a=r(Ke(o/e));i<o;)a[s++]=Hr(t,i,i+=e);return a},Sn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},Sn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return de(Ds(n)?mo(n):[n],or(e,1))},Sn.cond=function(t){var e=null==t?0:t.length,n=Qo();return t=e?ue(t,(function(t){if("function"!=typeof t[1])throw new wt(o);return[n(t[0]),t[1]]})):[],jr((function(n){for(var r=-1;++r<e;){var o=t[r];if(ne(o[0],this,n))return ne(o[1],this,n)}}))},Sn.conforms=function(t){return function(t){var e=va(t);return function(n){return Zn(n,t,e)}}(Qn(t,1))},Sn.constant=Ha,Sn.countBy=os,Sn.create=function(t,e){var n=Tn(t);return null==e?n:$n(n,e)},Sn.curry=function t(e,n,r){var o=Fo(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=t.placeholder,o},Sn.curryRight=function t(e,n,r){var o=Fo(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return o.placeholder=t.placeholder,o},Sn.debounce=vs,Sn.defaults=fa,Sn.defaultsDeep=pa,Sn.defer=ys,Sn.delay=ks,Sn.difference=Pi,Sn.differenceBy=Mi,Sn.differenceWith=Oi,Sn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=n||void 0===e?1:ra(e))<0?0:e,r):[]},Sn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,0,(e=r-(e=n||void 0===e?1:ra(e)))<0?0:e):[]},Sn.dropRightWhile=function(t,e){return t&&t.length?Xr(t,Qo(e,3),!0,!0):[]},Sn.dropWhile=function(t,e){return t&&t.length?Xr(t,Qo(e,3),!0):[]},Sn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&si(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=ra(n))<0&&(n=-n>o?0:o+n),(r=void 0===r||r>o?o:ra(r))<0&&(r+=o),r=n>r?0:oa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Sn.filter=function(t,e){return(Ds(t)?ae:rr)(t,Qo(e,3))},Sn.flatMap=function(t,e){return or(hs(t,e),1)},Sn.flatMapDeep=function(t,e){return or(hs(t,e),1/0)},Sn.flatMapDepth=function(t,e,n){return n=void 0===n?1:ra(n),or(hs(t,e),n)},Sn.flatten=Ni,Sn.flattenDeep=function(t){return null!=t&&t.length?or(t,1/0):[]},Sn.flattenDepth=function(t,e){return null!=t&&t.length?or(t,e=void 0===e?1:ra(e)):[]},Sn.flip=function(t){return Fo(t,512)},Sn.flow=qa,Sn.flowRight=$a,Sn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},Sn.functions=function(t){return null==t?[]:lr(t,va(t))},Sn.functionsIn=function(t){return null==t?[]:lr(t,ya(t))},Sn.groupBy=ls,Sn.initial=function(t){return null!=t&&t.length?Hr(t,0,-1):[]},Sn.intersection=ji,Sn.intersectionBy=Li,Sn.intersectionWith=Fi,Sn.invert=ba,Sn.invertBy=wa,Sn.invokeMap=us,Sn.iteratee=Ga,Sn.keyBy=ds,Sn.keys=va,Sn.keysIn=ya,Sn.map=hs,Sn.mapKeys=function(t,e){var n={};return e=Qo(e,3),ar(t,(function(t,r,o){Wn(n,e(t,r,o),t)})),n},Sn.mapValues=function(t,e){var n={};return e=Qo(e,3),ar(t,(function(t,r,o){Wn(n,r,e(t,r,o))})),n},Sn.matches=function(t){return Er(Qn(t,1))},Sn.matchesProperty=function(t,e){return Sr(t,Qn(e,1))},Sn.memoize=Cs,Sn.merge=ka,Sn.mergeWith=Ca,Sn.method=Ya,Sn.methodOf=Qa,Sn.mixin=Za,Sn.negate=xs,Sn.nthArg=function(t){return t=ra(t),jr((function(e){return Pr(e,t)}))},Sn.omit=xa,Sn.omitBy=function(t,e){return Ea(t,xs(Qo(e)))},Sn.once=function(t){return bs(2,t)},Sn.orderBy=function(t,e,n,r){return null==t?[]:(Ds(e)||(e=null==e?[]:[e]),Ds(n=r?void 0:n)||(n=null==n?[]:[n]),Mr(t,e,n))},Sn.over=Ja,Sn.overArgs=As,Sn.overEvery=Xa,Sn.overSome=tc,Sn.partial=Es,Sn.partialRight=Ss,Sn.partition=fs,Sn.pick=Aa,Sn.pickBy=Ea,Sn.property=ec,Sn.propertyOf=function(t){return function(e){return null==t?void 0:ur(t,e)}},Sn.pull=Bi,Sn.pullAll=zi,Sn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ir(t,e,Qo(n,2)):t},Sn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ir(t,e,void 0,n):t},Sn.pullAt=Ui,Sn.range=nc,Sn.rangeRight=rc,Sn.rearg=Ts,Sn.reject=function(t,e){return(Ds(t)?ae:rr)(t,xs(Qo(e,3)))},Sn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=Qo(e,3);++r<i;){var s=t[r];e(s,r,t)&&(n.push(s),o.push(r))}return Dr(t,o),n},Sn.rest=function(t,e){if("function"!=typeof t)throw new wt(o);return jr(t,e=void 0===e?e:ra(e))},Sn.reverse=Hi,Sn.sampleSize=function(t,e,n){return e=(n?si(t,e,n):void 0===e)?1:ra(e),(Ds(t)?Vn:Fr)(t,e)},Sn.set=function(t,e,n){return null==t?t:Vr(t,e,n)},Sn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Vr(t,e,n,r)},Sn.shuffle=function(t){return(Ds(t)?Bn:Ur)(t)},Sn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&si(t,e,n)?(e=0,n=r):(e=null==e?0:ra(e),n=void 0===n?r:ra(n)),Hr(t,e,n)):[]},Sn.sortBy=ps,Sn.sortedUniq=function(t){return t&&t.length?Gr(t):[]},Sn.sortedUniqBy=function(t,e){return t&&t.length?Gr(t,Qo(e,2)):[]},Sn.split=function(t,e,n){return n&&"number"!=typeof n&&si(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=aa(t))&&("string"==typeof e||null!=e&&!Ys(e))&&!(e=Qr(e))&&je(t)?ao(He(t),0,n):t.split(e,n):[]},Sn.spread=function(t,e){if("function"!=typeof t)throw new wt(o);return e=null==e?0:on(ra(e),0),jr((function(n){var r=n[e],o=ao(n,0,e);return r&&de(o,r),ne(t,this,o)}))},Sn.tail=function(t){var e=null==t?0:t.length;return e?Hr(t,1,e):[]},Sn.take=function(t,e,n){return t&&t.length?Hr(t,0,(e=n||void 0===e?1:ra(e))<0?0:e):[]},Sn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=r-(e=n||void 0===e?1:ra(e)))<0?0:e,r):[]},Sn.takeRightWhile=function(t,e){return t&&t.length?Xr(t,Qo(e,3),!1,!0):[]},Sn.takeWhile=function(t,e){return t&&t.length?Xr(t,Qo(e,3)):[]},Sn.tap=function(t,e){return e(t),t},Sn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new wt(o);return Hs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vs(t,e,{leading:r,maxWait:e,trailing:i})},Sn.thru=ns,Sn.toArray=ea,Sn.toPairs=Sa,Sn.toPairsIn=Ta,Sn.toPath=function(t){return Ds(t)?ue(t,Ei):Ks(t)?[t]:mo(Ai(aa(t)))},Sn.toPlainObject=sa,Sn.transform=function(t,e,n){var r=Ds(t),o=r||Ls(t)||Js(t);if(e=Qo(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:Hs(t)&&Bs(i)?Tn($t(t)):{}}return(o?oe:ar)(t,(function(t,r,o){return e(n,t,r,o)})),n},Sn.unary=function(t){return ms(t,1)},Sn.union=qi,Sn.unionBy=$i,Sn.unionWith=Wi,Sn.uniq=function(t){return t&&t.length?Zr(t):[]},Sn.uniqBy=function(t,e){return t&&t.length?Zr(t,Qo(e,2)):[]},Sn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Zr(t,void 0,e):[]},Sn.unset=function(t,e){return null==t||Kr(t,e)},Sn.unzip=Gi,Sn.unzipWith=Yi,Sn.update=function(t,e,n){return null==t?t:Jr(t,e,oo(n))},Sn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Jr(t,e,oo(n),r)},Sn.values=Pa,Sn.valuesIn=function(t){return null==t?[]:Te(t,ya(t))},Sn.without=Qi,Sn.words=Ba,Sn.wrap=function(t,e){return Es(oo(e),t)},Sn.xor=Zi,Sn.xorBy=Ki,Sn.xorWith=Ji,Sn.zip=Xi,Sn.zipObject=function(t,e){return no(t||[],e||[],Un)},Sn.zipObjectDeep=function(t,e){return no(t||[],e||[],Vr)},Sn.zipWith=ts,Sn.entries=Sa,Sn.entriesIn=Ta,Sn.extend=la,Sn.extendWith=ua,Za(Sn,Sn),Sn.add=ac,Sn.attempt=za,Sn.camelCase=Ma,Sn.capitalize=Oa,Sn.ceil=cc,Sn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=ia(n))==n?n:0),void 0!==e&&(e=(e=ia(e))==e?e:0),Yn(ia(t),e,n)},Sn.clone=function(t){return Qn(t,4)},Sn.cloneDeep=function(t){return Qn(t,5)},Sn.cloneDeepWith=function(t,e){return Qn(t,5,e="function"==typeof e?e:void 0)},Sn.cloneWith=function(t,e){return Qn(t,4,e="function"==typeof e?e:void 0)},Sn.conformsTo=function(t,e){return null==e||Zn(t,e,va(e))},Sn.deburr=Ia,Sn.defaultTo=function(t,e){return null==t||t!=t?e:t},Sn.divide=lc,Sn.endsWith=function(t,e,n){t=aa(t),e=Qr(e);var r=t.length,o=n=void 0===n?r:Yn(ra(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Sn.eq=Ps,Sn.escape=function(t){return(t=aa(t))&&F.test(t)?t.replace(j,Ne):t},Sn.escapeRegExp=function(t){return(t=aa(t))&&W.test(t)?t.replace($,"\\$&"):t},Sn.every=function(t,e,n){var r=Ds(t)?se:er;return n&&si(t,e,n)&&(e=void 0),r(t,Qo(e,3))},Sn.find=is,Sn.findIndex=Ii,Sn.findKey=function(t,e){return me(t,Qo(e,3),ar)},Sn.findLast=ss,Sn.findLastIndex=Di,Sn.findLastKey=function(t,e){return me(t,Qo(e,3),cr)},Sn.floor=uc,Sn.forEach=as,Sn.forEachRight=cs,Sn.forIn=function(t,e){return null==t?t:ir(t,Qo(e,3),ya)},Sn.forInRight=function(t,e){return null==t?t:sr(t,Qo(e,3),ya)},Sn.forOwn=function(t,e){return t&&ar(t,Qo(e,3))},Sn.forOwnRight=function(t,e){return t&&cr(t,Qo(e,3))},Sn.get=ga,Sn.gt=Ms,Sn.gte=Os,Sn.has=function(t,e){return null!=t&&ni(t,e,pr)},Sn.hasIn=ma,Sn.head=Ri,Sn.identity=Wa,Sn.includes=function(t,e,n,r){t=Rs(t)?t:Pa(t),n=n&&!r?ra(n):0;var o=t.length;return n<0&&(n=on(o+n,0)),Zs(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&we(t,e,n)>-1},Sn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ra(n);return o<0&&(o=on(r+o,0)),we(t,e,o)},Sn.inRange=function(t,e,n){return e=na(e),void 0===n?(n=e,e=0):n=na(n),function(t,e,n){return t>=sn(e,n)&&t<on(e,n)}(t=ia(t),e,n)},Sn.invoke=_a,Sn.isArguments=Is,Sn.isArray=Ds,Sn.isArrayBuffer=Ns,Sn.isArrayLike=Rs,Sn.isArrayLikeObject=js,Sn.isBoolean=function(t){return!0===t||!1===t||qs(t)&&hr(t)==l},Sn.isBuffer=Ls,Sn.isDate=Fs,Sn.isElement=function(t){return qs(t)&&1===t.nodeType&&!Gs(t)},Sn.isEmpty=function(t){if(null==t)return!0;if(Rs(t)&&(Ds(t)||"string"==typeof t||"function"==typeof t.splice||Ls(t)||Js(t)||Is(t)))return!t.length;var e=ei(t);if(e==p||e==w)return!t.size;if(ui(t))return!Cr(t).length;for(var n in t)if(Ct.call(t,n))return!1;return!0},Sn.isEqual=function(t,e){return _r(t,e)},Sn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?_r(t,e,void 0,n):!!r},Sn.isError=Vs,Sn.isFinite=function(t){return"number"==typeof t&&en(t)},Sn.isFunction=Bs,Sn.isInteger=zs,Sn.isLength=Us,Sn.isMap=$s,Sn.isMatch=function(t,e){return t===e||vr(t,e,Ko(e))},Sn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,vr(t,e,Ko(e),n)},Sn.isNaN=function(t){return Ws(t)&&t!=+t},Sn.isNative=function(t){if(li(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return yr(t)},Sn.isNil=function(t){return null==t},Sn.isNull=function(t){return null===t},Sn.isNumber=Ws,Sn.isObject=Hs,Sn.isObjectLike=qs,Sn.isPlainObject=Gs,Sn.isRegExp=Ys,Sn.isSafeInteger=function(t){return zs(t)&&t>=-9007199254740991&&t<=9007199254740991},Sn.isSet=Qs,Sn.isString=Zs,Sn.isSymbol=Ks,Sn.isTypedArray=Js,Sn.isUndefined=function(t){return void 0===t},Sn.isWeakMap=function(t){return qs(t)&&ei(t)==y},Sn.isWeakSet=function(t){return qs(t)&&"[object WeakSet]"==hr(t)},Sn.join=function(t,e){return null==t?"":nn.call(t,e)},Sn.kebabCase=Da,Sn.last=Vi,Sn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return void 0!==n&&(o=(o=ra(n))<0?on(r+o,0):sn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):be(t,ve,o,!0)},Sn.lowerCase=Na,Sn.lowerFirst=Ra,Sn.lt=Xs,Sn.lte=ta,Sn.max=function(t){return t&&t.length?nr(t,Wa,fr):void 0},Sn.maxBy=function(t,e){return t&&t.length?nr(t,Qo(e,2),fr):void 0},Sn.mean=function(t){return ye(t,Wa)},Sn.meanBy=function(t,e){return ye(t,Qo(e,2))},Sn.min=function(t){return t&&t.length?nr(t,Wa,xr):void 0},Sn.minBy=function(t,e){return t&&t.length?nr(t,Qo(e,2),xr):void 0},Sn.stubArray=oc,Sn.stubFalse=ic,Sn.stubObject=function(){return{}},Sn.stubString=function(){return""},Sn.stubTrue=function(){return!0},Sn.multiply=dc,Sn.nth=function(t,e){return t&&t.length?Pr(t,ra(e)):void 0},Sn.noConflict=function(){return qt._===this&&(qt._=Tt),this},Sn.noop=Ka,Sn.now=gs,Sn.pad=function(t,e,n){t=aa(t);var r=(e=ra(e))?Ue(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return Oo(Je(o),n)+t+Oo(Ke(o),n)},Sn.padEnd=function(t,e,n){t=aa(t);var r=(e=ra(e))?Ue(t):0;return e&&r<e?t+Oo(e-r,n):t},Sn.padStart=function(t,e,n){t=aa(t);var r=(e=ra(e))?Ue(t):0;return e&&r<e?Oo(e-r,n)+t:t},Sn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),cn(aa(t).replace(Y,""),e||0)},Sn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&si(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=na(t),void 0===e?(e=t,t=0):e=na(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=ln();return sn(t+o*(e-t+Bt("1e-"+((o+"").length-1))),e)}return Nr(t,e)},Sn.reduce=function(t,e,n){var r=Ds(t)?he:xe,o=arguments.length<3;return r(t,Qo(e,4),n,o,Xn)},Sn.reduceRight=function(t,e,n){var r=Ds(t)?fe:xe,o=arguments.length<3;return r(t,Qo(e,4),n,o,tr)},Sn.repeat=function(t,e,n){return e=(n?si(t,e,n):void 0===e)?1:ra(e),Rr(aa(t),e)},Sn.replace=function(){var t=arguments,e=aa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Sn.result=function(t,e,n){var r=-1,o=(e=io(e,t)).length;for(o||(o=1,t=void 0);++r<o;){var i=null==t?void 0:t[Ei(e[r])];void 0===i&&(r=o,i=n),t=Bs(i)?i.call(t):i}return t},Sn.round=hc,Sn.runInContext=t,Sn.sample=function(t){return(Ds(t)?Fn:Lr)(t)},Sn.size=function(t){if(null==t)return 0;if(Rs(t))return Zs(t)?Ue(t):t.length;var e=ei(t);return e==p||e==w?t.size:Cr(t).length},Sn.snakeCase=ja,Sn.some=function(t,e,n){var r=Ds(t)?pe:qr;return n&&si(t,e,n)&&(e=void 0),r(t,Qo(e,3))},Sn.sortedIndex=function(t,e){return $r(t,e)},Sn.sortedIndexBy=function(t,e,n){return Wr(t,e,Qo(n,2))},Sn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=$r(t,e);if(r<n&&Ps(t[r],e))return r}return-1},Sn.sortedLastIndex=function(t,e){return $r(t,e,!0)},Sn.sortedLastIndexBy=function(t,e,n){return Wr(t,e,Qo(n,2),!0)},Sn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=$r(t,e,!0)-1;if(Ps(t[n],e))return n}return-1},Sn.startCase=La,Sn.startsWith=function(t,e,n){return t=aa(t),n=null==n?0:Yn(ra(n),0,t.length),e=Qr(e),t.slice(n,n+e.length)==e},Sn.subtract=fc,Sn.sum=function(t){return t&&t.length?Ae(t,Wa):0},Sn.sumBy=function(t,e){return t&&t.length?Ae(t,Qo(e,2)):0},Sn.template=function(t,e,n){var r=Sn.templateSettings;n&&si(t,e,n)&&(e=void 0),t=aa(t),e=ua({},e,r,Vo);var o,i,s=ua({},e.imports,r.imports,Vo),a=va(s),c=Te(s,a),l=0,u=e.interpolate||lt,d="__p += '",h=mt((e.escape||lt).source+"|"+u.source+"|"+(u===z?et:lt).source+"|"+(e.evaluate||lt).source+"|$","g"),f="//# sourceURL="+(Ct.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jt+"]")+"\n";t.replace(h,(function(e,n,r,s,a,c){return r||(r=s),d+=t.slice(l,c).replace(ut,Re),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(i=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),d+="';\n";var p=Ct.call(e,"variable")&&e.variable;p||(d="with (obj) {\n"+d+"\n}\n"),d=(i?d.replace(I,""):d).replace(D,"$1").replace(N,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=za((function(){return ft(a,f+"return "+d).apply(void 0,c)}));if(g.source=d,Vs(g))throw g;return g},Sn.times=function(t,e){if((t=ra(t))<1||t>9007199254740991)return[];var n=4294967295,r=sn(t,4294967295);t-=4294967295;for(var o=Ee(r,e=Qo(e));++n<t;)e(n);return o},Sn.toFinite=na,Sn.toInteger=ra,Sn.toLength=oa,Sn.toLower=function(t){return aa(t).toLowerCase()},Sn.toNumber=ia,Sn.toSafeInteger=function(t){return t?Yn(ra(t),-9007199254740991,9007199254740991):0===t?t:0},Sn.toString=aa,Sn.toUpper=function(t){return aa(t).toUpperCase()},Sn.trim=function(t,e,n){if((t=aa(t))&&(n||void 0===e))return t.replace(G,"");if(!t||!(e=Qr(e)))return t;var r=He(t),o=He(e);return ao(r,Me(r,o),Oe(r,o)+1).join("")},Sn.trimEnd=function(t,e,n){if((t=aa(t))&&(n||void 0===e))return t.replace(Q,"");if(!t||!(e=Qr(e)))return t;var r=He(t);return ao(r,0,Oe(r,He(e))+1).join("")},Sn.trimStart=function(t,e,n){if((t=aa(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=Qr(e)))return t;var r=He(t);return ao(r,Me(r,He(e))).join("")},Sn.truncate=function(t,e){var n=30,r="...";if(Hs(e)){var o="separator"in e?e.separator:o;n="length"in e?ra(e.length):n,r="omission"in e?Qr(e.omission):r}var i=(t=aa(t)).length;if(je(t)){var s=He(t);i=s.length}if(n>=i)return t;var a=n-Ue(r);if(a<1)return r;var c=s?ao(s,0,a).join(""):t.slice(0,a);if(void 0===o)return c+r;if(s&&(a+=c.length-a),Ys(o)){if(t.slice(a).search(o)){var l,u=c;for(o.global||(o=mt(o.source,aa(nt.exec(o))+"g")),o.lastIndex=0;l=o.exec(u);)var d=l.index;c=c.slice(0,void 0===d?a:d)}}else if(t.indexOf(Qr(o),a)!=a){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+r},Sn.unescape=function(t){return(t=aa(t))&&L.test(t)?t.replace(R,qe):t},Sn.uniqueId=function(t){var e=++xt;return aa(t)+e},Sn.upperCase=Fa,Sn.upperFirst=Va,Sn.each=as,Sn.eachRight=cs,Sn.first=Ri,Za(Sn,(sc={},ar(Sn,(function(t,e){Ct.call(Sn.prototype,e)||(sc[e]=t)})),sc),{chain:!1}),Sn.VERSION="4.17.20",oe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Sn[t].placeholder=Sn})),oe(["drop","take"],(function(t,e){On.prototype[t]=function(n){n=void 0===n?1:on(ra(n),0);var r=this.__filtered__&&!e?new On(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},On.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),oe(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;On.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Qo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),oe(["head","last"],(function(t,e){var n="take"+(e?"Right":"");On.prototype[t]=function(){return this[n](1).value()[0]}})),oe(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");On.prototype[t]=function(){return this.__filtered__?new On(this):this[n](1)}})),On.prototype.compact=function(){return this.filter(Wa)},On.prototype.find=function(t){return this.filter(t).head()},On.prototype.findLast=function(t){return this.reverse().find(t)},On.prototype.invokeMap=jr((function(t,e){return"function"==typeof t?new On(this):this.map((function(n){return br(n,t,e)}))})),On.prototype.reject=function(t){return this.filter(xs(Qo(t)))},On.prototype.slice=function(t,e){t=ra(t);var n=this;return n.__filtered__&&(t>0||e<0)?new On(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ra(e))<0?n.dropRight(-e):n.take(e-t)),n)},On.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},On.prototype.toArray=function(){return this.take(4294967295)},ar(On.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Sn[r?"take"+("last"==e?"Right":""):e],i=r||/^find/.test(e);o&&(Sn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,a=e instanceof On,c=s[0],l=a||Ds(e),u=function(t){var e=o.apply(Sn,de([t],s));return r&&d?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(a=l=!1);var d=this.__chain__,h=!!this.__actions__.length,f=i&&!d,p=a&&!h;if(!i&&l){e=p?e:new On(this);var g=t.apply(e,s);return g.__actions__.push({func:ns,args:[u],thisArg:void 0}),new Mn(g,d)}return f&&p?t.apply(this,s):(g=this.thru(u),f?r?g.value()[0]:g.value():g)})})),oe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=_t[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Sn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Ds(o)?o:[],t)}return this[n]((function(n){return e.apply(Ds(n)?n:[],t)}))}})),ar(On.prototype,(function(t,e){var n=Sn[e];if(n){var r=n.name+"";Ct.call(wn,r)||(wn[r]=[]),wn[r].push({name:e,func:n})}})),wn[So(void 0,2).name]=[{name:"wrapper",func:void 0}],On.prototype.clone=function(){var t=new On(this.__wrapped__);return t.__actions__=mo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mo(this.__views__),t},On.prototype.reverse=function(){if(this.__filtered__){var t=new On(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},On.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ds(t),r=e<0,o=n?t.length:0,i=function(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=sn(e,t+s);break;case"takeRight":t=on(t,e-s)}}return{start:t,end:e}}(0,o,this.__views__),s=i.start,a=i.end,c=a-s,l=r?a:s-1,u=this.__iteratees__,d=u.length,h=0,f=sn(c,this.__takeCount__);if(!n||!r&&o==c&&f==c)return to(t,this.__actions__);var p=[];t:for(;c--&&h<f;){for(var g=-1,m=t[l+=e];++g<d;){var b=u[g],w=b.type,_=(0,b.iteratee)(m);if(2==w)m=_;else if(!_){if(1==w)continue t;break t}}p[h++]=m}return p},Sn.prototype.at=rs,Sn.prototype.chain=function(){return es(this)},Sn.prototype.commit=function(){return new Mn(this.value(),this.__chain__)},Sn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ea(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Sn.prototype.plant=function(t){for(var e,n=this;n instanceof Pn;){var r=Ti(n);r.__index__=0,r.__values__=void 0,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Sn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof On){var e=t;return this.__actions__.length&&(e=new On(this)),(e=e.reverse()).__actions__.push({func:ns,args:[Hi],thisArg:void 0}),new Mn(e,this.__chain__)}return this.thru(Hi)},Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=function(){return to(this.__wrapped__,this.__actions__)},Sn.prototype.first=Sn.prototype.head,Ce&&(Sn.prototype[Ce]=function(){return this}),Sn}();qt._=$e,void 0===(r=(function(){return $e}).call(e,n,e,t))||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},PSD3:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function c(t,e,n){return(c=a()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&s(o,n.prototype),o}).apply(null,arguments)}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}var d=function(t){return Object.keys(t).map((function(e){return t[e]}))},h=function(t){return Array.prototype.slice.call(t)},f=function(t){console.warn("".concat("SweetAlert2:"," ").concat(t))},p=function(t){console.error("".concat("SweetAlert2:"," ").concat(t))},g=[],m=function(t){return"function"==typeof t?t():t},b=function(t){return t&&Promise.resolve(t)===t},w=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),_=function(e){return e instanceof Element||function(e){return"object"===t(e)&&e.jquery}(e)},v=function(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e},y=v(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),k=v(["success","warning","info","question","error"]),C=function(){return document.body.querySelector(".".concat(y.container))},x=function(t){var e=C();return e?e.querySelector(t):null},A=function(t){return x(".".concat(t))},E=function(){return A(y.popup)},S=function(){var t=E();return h(t.querySelectorAll(".".concat(y.icon)))},T=function(){var t=S().filter((function(t){return it(t)}));return t.length?t[0]:null},P=function(){return A(y.title)},M=function(){return A(y.content)},O=function(){return A(y.image)},I=function(){return A(y["progress-steps"])},D=function(){return A(y["validation-message"])},N=function(){return x(".".concat(y.actions," .").concat(y.confirm))},R=function(){return x(".".concat(y.actions," .").concat(y.cancel))},j=function(){return A(y.actions)},L=function(){return A(y.header)},F=function(){return A(y.footer)},V=function(){return A(y["timer-progress-bar"])},B=function(){return A(y.close)},z=function(){var t=h(E().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0})),e=h(E().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(t){return"-1"!==t.getAttribute("tabindex")}));return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter((function(t){return it(t)}))},U=function(){return!H()&&!document.body.classList.contains(y["no-backdrop"])},H=function(){return document.body.classList.contains(y["toast-shown"])},q={previousBodyPadding:null},$=function(t,e){if(t.textContent="",e){var n=(new DOMParser).parseFromString(e,"text/html");h(n.querySelector("head").childNodes).forEach((function(e){t.appendChild(e)})),h(n.querySelector("body").childNodes).forEach((function(e){t.appendChild(e)}))}},W=function(t,e){if(!e)return!1;for(var n=e.split(/\s+/),r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},G=function(e,n,r){if(function(t,e){h(t.classList).forEach((function(n){-1===d(y).indexOf(n)&&-1===d(k).indexOf(n)&&-1===d(e.showClass).indexOf(n)&&t.classList.remove(n)}))}(e,n),n.customClass&&n.customClass[r]){if("string"!=typeof n.customClass[r]&&!n.customClass[r].forEach)return f("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(t(n.customClass[r]),'"'));J(e,n.customClass[r])}};function Y(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return tt(t,y[e]);case"checkbox":return t.querySelector(".".concat(y.checkbox," input"));case"radio":return t.querySelector(".".concat(y.radio," input:checked"))||t.querySelector(".".concat(y.radio," input:first-child"));case"range":return t.querySelector(".".concat(y.range," input"));default:return tt(t,y.input)}}var Q,Z=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},K=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((function(e){t.forEach?t.forEach((function(t){n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},J=function(t,e){K(t,e,!0)},X=function(t,e){K(t,e,!1)},tt=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(W(t.childNodes[n],e))return t.childNodes[n]},et=function(t,e,n){n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},nt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.opacity="",t.style.display=e},rt=function(t){t.style.opacity="",t.style.display="none"},ot=function(t,e,n){e?nt(t,n):rt(t)},it=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},st=function(t){return!!(t.scrollHeight>t.clientHeight)},at=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},ct=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=V();it(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"}),10))},lt=function(){return"undefined"==typeof window||"undefined"==typeof document},ut='\n <div aria-labelledby="'.concat(y.title,'" aria-describedby="').concat(y.content,'" class="').concat(y.popup,'" tabindex="-1">\n   <div class="').concat(y.header,'">\n     <ul class="').concat(y["progress-steps"],'"></ul>\n     <div class="').concat(y.icon," ").concat(k.error,'"></div>\n     <div class="').concat(y.icon," ").concat(k.question,'"></div>\n     <div class="').concat(y.icon," ").concat(k.warning,'"></div>\n     <div class="').concat(y.icon," ").concat(k.info,'"></div>\n     <div class="').concat(y.icon," ").concat(k.success,'"></div>\n     <img class="').concat(y.image,'" />\n     <h2 class="').concat(y.title,'" id="').concat(y.title,'"></h2>\n     <button type="button" class="').concat(y.close,'"></button>\n   </div>\n   <div class="').concat(y.content,'">\n     <div id="').concat(y.content,'" class="').concat(y["html-container"],'"></div>\n     <input class="').concat(y.input,'" />\n     <input type="file" class="').concat(y.file,'" />\n     <div class="').concat(y.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(y.select,'"></select>\n     <div class="').concat(y.radio,'"></div>\n     <label for="').concat(y.checkbox,'" class="').concat(y.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(y.label,'"></span>\n     </label>\n     <textarea class="').concat(y.textarea,'"></textarea>\n     <div class="').concat(y["validation-message"],'" id="').concat(y["validation-message"],'"></div>\n   </div>\n   <div class="').concat(y.actions,'">\n     <button type="button" class="').concat(y.confirm,'">OK</button>\n     <button type="button" class="').concat(y.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(y.footer,'"></div>\n   <div class="').concat(y["timer-progress-bar-container"],'">\n     <div class="').concat(y["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),dt=function(t){be.isVisible()&&Q!==t.target.value&&be.resetValidationMessage(),Q=t.target.value},ht=function(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?ft(e,n):e&&$(n,e)},ft=function(t,e){t.jquery?pt(e,t):$(e,t.toString())},pt=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},gt=function(){if(lt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1}();function mt(t,e,n){var r;ot(t,n["show".concat((r=e,r.charAt(0).toUpperCase()+r.slice(1)),"Button")],"inline-block"),$(t,n["".concat(e,"ButtonText")]),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]),t.className=y[e],G(t,n,"".concat(e,"Button")),J(t,n["".concat(e,"ButtonClass")])}var bt={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},wt=["input","file","range","select","radio","checkbox","textarea"],_t=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},vt=function(t){var e=y[t]?y[t]:y.input;return tt(M(),e)},yt={};yt.text=yt.email=yt.password=yt.number=yt.tel=yt.url=function(e,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?e.value=n.inputValue:b(n.inputValue)||f('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n.inputValue),'"')),_t(e,n),e.type=n.input,e},yt.file=function(t,e){return _t(t,e),t},yt.range=function(t,e){var n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,t},yt.select=function(t,e){if(t.textContent="",e.inputPlaceholder){var n=document.createElement("option");$(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return t},yt.radio=function(t){return t.textContent="",t},yt.checkbox=function(t,e){var n=Y(M(),"checkbox");n.value=1,n.id=y.checkbox,n.checked=Boolean(e.inputValue);var r=t.querySelector("span");return $(r,e.inputPlaceholder),t},yt.textarea=function(t,e){if(t.value=e.inputValue,_t(t,e),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(E()).width),r=parseInt(window.getComputedStyle(E()).paddingLeft)+parseInt(window.getComputedStyle(E()).paddingRight);new MutationObserver((function(){var e=t.offsetWidth+r;E().style.width=e>n?"".concat(e,"px"):null})).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};var kt=function(t){return'<div class="'.concat(y["icon-content"],'">').concat(t,"</div>")},Ct=[],xt=function(){return C()&&C().getAttribute("data-queue-step")},At=function(t,e){!function(t,e){var n=E();et(n,"width",e.width),et(n,"padding",e.padding),e.background&&(n.style.background=e.background),function(t,e){t.className="".concat(y.popup," ").concat(it(t)?e.showClass.popup:""),e.toast?(J([document.documentElement,document.body],y["toast-shown"]),J(t,y.toast)):J(t,y.modal),G(t,e,"popup"),"string"==typeof e.customClass&&J(t,e.customClass),e.icon&&J(t,y["icon-".concat(e.icon)])}(n,e)}(0,e),function(t,e){var n=C();if(n){!function(t,e){"string"==typeof e?t.style.background=e:e||J([document.documentElement,document.body],y["no-backdrop"])}(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&f('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(t,e){e in y?J(t,y[e]):(f('The "position" parameter is not valid, defaulting to "center"'),J(t,y.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){var n="grow-".concat(e);n in y&&J(t,y[n])}}(n,e.grow),G(n,e,"container");var r=document.body.getAttribute("data-swal2-queue-step");r&&(n.setAttribute("data-queue-step",r),document.body.removeAttribute("data-swal2-queue-step"))}}(0,e),function(t,e){var n=L();G(n,e,"header"),function(t,e){var n=I();if(!e.progressSteps||0===e.progressSteps.length)return rt(n);nt(n),n.textContent="";var r=parseInt(void 0===e.currentProgressStep?xt():e.currentProgressStep);r>=e.progressSteps.length&&f("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((function(t,o){var i=function(t){var e=document.createElement("li");return J(e,y["progress-step"]),$(e,t),e}(t);if(n.appendChild(i),o===r&&J(i,y["active-progress-step"]),o!==e.progressSteps.length-1){var s=function(t){var e=document.createElement("li");return J(e,y["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e}(t);n.appendChild(s)}}))}(0,e),function(t,e){var n=bt.innerParams.get(t);if(n&&e.icon===n.icon&&T())G(T(),e,"icon");else if(function(){for(var t=S(),e=0;e<t.length;e++)rt(t[e])}(),e.icon)if(-1!==Object.keys(k).indexOf(e.icon)){var r=x(".".concat(y.icon,".").concat(k[e.icon]));nt(r),function(t,e){t.textContent="",$(t,e.iconHtml?kt(e.iconHtml):"success"===e.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===e.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':kt({question:"?",warning:"!",info:"i"}[e.icon]))}(r,e),function(){for(var t=E(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=e}(),G(r,e,"icon"),J(r,e.showClass.icon)}else p('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"'))}(t,e),function(t,e){var n=O();if(!e.imageUrl)return rt(n);nt(n),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),et(n,"width",e.imageWidth),et(n,"height",e.imageHeight),n.className=y.image,G(n,e,"image")}(0,e),function(t,e){var n=P();ot(n,e.title||e.titleText),e.title&&ht(e.title,n),e.titleText&&(n.innerText=e.titleText),G(n,e,"title")}(0,e),function(t,e){var n=B();$(n,e.closeButtonHtml),G(n,e,"closeButton"),ot(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)}(0,e)}(t,e),function(t,e){var n=M().querySelector("#".concat(y.content));e.html?(ht(e.html,n),nt(n,"block")):e.text?(n.textContent=e.text,nt(n,"block")):rt(n),function(t,e){var n=M(),r=bt.innerParams.get(t),o=!r||e.input!==r.input;wt.forEach((function(t){var r=y[t],i=tt(n,r);(function(t,e){var n=Y(M(),t);if(n)for(var r in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}}(n),e)"range"===t&&"placeholder"===r||n.setAttribute(r,e[r])})(t,e.inputAttributes),i.className=r,o&&rt(i)})),e.input&&(o&&function(t){if(!yt[t.input])return p('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=vt(t.input),n=yt[t.input](e,t);nt(n),setTimeout((function(){Z(n)}))}(e),function(t){var e=vt(t.input);t.customClass&&J(e,t.customClass.input)}(e))}(t,e),G(M(),e,"content")}(t,e),function(t,e){var n=j(),r=N(),o=R();e.showConfirmButton||e.showCancelButton||rt(n),G(n,e,"actions"),mt(r,"confirm",e),mt(o,"cancel",e),e.buttonsStyling?function(t,e,n){J([t,e],y.styled),n.confirmButtonColor&&(t.style.backgroundColor=n.confirmButtonColor),n.cancelButtonColor&&(e.style.backgroundColor=n.cancelButtonColor);var r=window.getComputedStyle(t).getPropertyValue("background-color");t.style.borderLeftColor=r,t.style.borderRightColor=r}(r,o,e):(X([r,o],y.styled),r.style.backgroundColor=r.style.borderLeftColor=r.style.borderRightColor="",o.style.backgroundColor=o.style.borderLeftColor=o.style.borderRightColor=""),e.reverseButtons&&r.parentNode.insertBefore(o,r)}(0,e),function(t,e){var n=F();ot(n,e.footer),e.footer&&ht(e.footer,n),G(n,e,"footer")}(0,e),"function"==typeof e.onRender&&e.onRender(E())},Et=function(){return N()&&N().click()},St=function(){var t=E();t||be.fire(),t=E();var e=j(),n=N();nt(e),nt(n,"inline-block"),J([t,e],y.loading),n.disabled=!0,t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},Tt={},Pt=function(){if(Tt.timeout)return function(){var t=V(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")}(),Tt.timeout.stop()},Mt=function(){if(Tt.timeout){var t=Tt.timeout.start();return ct(t),t}},Ot={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconHtml:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:void 0,target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,onRender:void 0,onClose:void 0,onAfterClose:void 0,onDestroy:void 0,scrollbarPadding:!0},It=["title","titleText","text","html","icon","hideClass","customClass","allowOutsideClick","allowEscapeKey","showConfirmButton","showCancelButton","confirmButtonText","confirmButtonAriaLabel","confirmButtonColor","cancelButtonText","cancelButtonAriaLabel","cancelButtonColor","buttonsStyling","reverseButtons","imageUrl","imageWidth","imageHeight","imageAlt","progressSteps","currentProgressStep"],Dt={animation:'showClass" and "hideClass'},Nt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],Rt=function(t){return Object.prototype.hasOwnProperty.call(Ot,t)},jt=function(t){return Dt[t]},Lt=function(t){Rt(t)||f('Unknown parameter "'.concat(t,'"'))},Ft=function(t){-1!==Nt.indexOf(t)&&f('The parameter "'.concat(t,'" is incompatible with toasts'))},Vt=function(t){var e,n,r;jt(t)&&(e=t,n=jt(t),r='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),-1===g.indexOf(r)&&(g.push(r),f(r)))},Bt=Object.freeze({isValidParameter:Rt,isUpdatableParameter:function(t){return-1!==It.indexOf(t)},isDeprecatedParameter:jt,argsToParams:function(e){var n={};return"object"!==t(e[0])||_(e[0])?["title","html","icon"].forEach((function(r,o){var i=e[o];"string"==typeof i||_(i)?n[r]=i:void 0!==i&&p("Unexpected type of ".concat(r,'! Expected "string" or "Element", got ').concat(t(i)))})):o(n,e[0]),n},isVisible:function(){return it(E())},clickConfirm:Et,clickCancel:function(){return R()&&R().click()},getContainer:C,getPopup:E,getTitle:P,getContent:M,getHtmlContainer:function(){return A(y["html-container"])},getImage:O,getIcon:T,getIcons:S,getCloseButton:B,getActions:j,getConfirmButton:N,getCancelButton:R,getHeader:L,getFooter:F,getTimerProgressBar:V,getFocusableElements:z,getValidationMessage:D,isLoading:function(){return E().hasAttribute("data-loading")},fire:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)},mixin:function(t){return function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,n);var c,d=(c=h,function(){var t,e=i(c);if(a()){var n=i(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return l(this,t)});function h(){return e(this,h),d.apply(this,arguments)}return r(h,[{key:"_main",value:function(e){return u(i(h.prototype),"_main",this).call(this,o({},t,e))}}]),h}(this)},queue:function(t){var e=this;Ct=t;var n=function(t,e){Ct=[],t(e)},r=[];return new Promise((function(t){!function o(i,s){i<Ct.length?(document.body.setAttribute("data-swal2-queue-step",i),e.fire(Ct[i]).then((function(e){void 0!==e.value?(r.push(e.value),o(i+1,s)):n(t,{dismiss:e.dismiss})}))):n(t,{value:r})}(0)}))},getQueueStep:xt,insertQueueStep:function(t,e){return e&&e<Ct.length?Ct.splice(e,0,t):Ct.push(t)},deleteQueueStep:function(t){void 0!==Ct[t]&&Ct.splice(t,1)},showLoading:St,enableLoading:St,getTimerLeft:function(){return Tt.timeout&&Tt.timeout.getTimerLeft()},stopTimer:Pt,resumeTimer:Mt,toggleTimer:function(){var t=Tt.timeout;return t&&(t.running?Pt():Mt())},increaseTimer:function(t){if(Tt.timeout){var e=Tt.timeout.increase(t);return ct(e,!0),e}},isTimerRunning:function(){return Tt.timeout&&Tt.timeout.isRunning()}});function zt(){var t=bt.innerParams.get(this);if(t){var e=bt.domCache.get(this);t.showConfirmButton||(rt(e.confirmButton),t.showCancelButton||rt(e.actions)),X([e.popup,e.actions],y.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.cancelButton.disabled=!1}}var Ut=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Ht=function(){var t=C(),e=E();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")},qt={swalPromiseResolve:new WeakMap};function $t(t,e,n,r){n?Qt(t,r):(new Promise((function(t){var e=window.scrollX,n=window.scrollY;Tt.restoreFocusTimeout=setTimeout((function(){Tt.previousActiveElement&&Tt.previousActiveElement.focus?(Tt.previousActiveElement.focus(),Tt.previousActiveElement=null):document.body&&document.body.focus(),t()}),100),void 0!==e&&void 0!==n&&window.scrollTo(e,n)})).then((function(){return Qt(t,r)})),Tt.keydownTarget.removeEventListener("keydown",Tt.keydownHandler,{capture:Tt.keydownListenerCapture}),Tt.keydownHandlerAdded=!1),e.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&e.parentNode.removeChild(e),U()&&(null!==q.previousBodyPadding&&(document.body.style.paddingRight="".concat(q.previousBodyPadding,"px"),q.previousBodyPadding=null),function(){if(W(document.body,y.iosfix)){var t=parseInt(document.body.style.top,10);X(document.body,y.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}}(),"undefined"!=typeof window&&Ut()&&window.removeEventListener("resize",Ht),h(document.body.children).forEach((function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))),X([document.documentElement,document.body],[y.shown,y["height-auto"],y["no-backdrop"],y["toast-shown"],y["toast-column"]])}function Wt(t){var e=E();if(e){var n=bt.innerParams.get(this);if(n&&!W(e,n.hideClass.popup)){var r=qt.swalPromiseResolve.get(this);X(e,n.showClass.popup),J(e,n.hideClass.popup);var o=C();X(o,n.showClass.backdrop),J(o,n.hideClass.backdrop),Gt(this,e,n),r(t||{})}}}var Gt=function(t,e,n){var r=C(),o=gt&&at(e),i=n.onClose,s=n.onAfterClose;null!==i&&"function"==typeof i&&i(e),o?Yt(t,e,r,s):$t(t,r,H(),s)},Yt=function(t,e,n,r){Tt.swalCloseEventFinishedCallback=$t.bind(null,t,n,H(),r),e.addEventListener(gt,(function(t){t.target===e&&(Tt.swalCloseEventFinishedCallback(),delete Tt.swalCloseEventFinishedCallback)}))},Qt=function(t,e){setTimeout((function(){"function"==typeof e&&e(),t._destroy()}))};function Zt(t,e,n){var r=bt.domCache.get(t);e.forEach((function(t){r[t].disabled=n}))}function Kt(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=e;else t.disabled=e}var Jt=function(){function t(n,r){e(this,t),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),Xt={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function te(t){var e=E();if(t.target===e){var n=C();e.removeEventListener(gt,te),n.style.overflowY="auto"}}var ee,ne=function(t,e){!function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!W(document.body,y.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),J(document.body,y.iosfix),function(){var t,e=C();e.ontouchstart=function(e){t=function(t){var e=C();return t===e||!(st(e)||"INPUT"===t.tagName||st(M())&&M().contains(t))}(e.target)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}}()}}(),"undefined"!=typeof window&&Ut()&&(Ht(),window.addEventListener("resize",Ht)),h(document.body.children).forEach((function(t){t===C()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,C())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),e&&null===q.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(q.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(q.previousBodyPadding+function(){var t=document.createElement("div");t.className=y["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px")),setTimeout((function(){t.scrollTop=0}))},re={select:function(t,e,n){var r=tt(t,y.select);e.forEach((function(t){var e=t[0],o=t[1],i=document.createElement("option");i.value=e,$(i,o),n.inputValue.toString()===e.toString()&&(i.selected=!0),r.appendChild(i)})),r.focus()},radio:function(t,e,n){var r=tt(t,y.radio);e.forEach((function(t){var e=t[0],o=t[1],i=document.createElement("input"),s=document.createElement("label");i.type="radio",i.name=y.radio,i.value=e,n.inputValue.toString()===e.toString()&&(i.checked=!0);var a=document.createElement("span");$(a,o),a.className=y.label,s.appendChild(i),s.appendChild(a),r.appendChild(s)}));var o=r.querySelectorAll("input");o.length&&o[0].focus()}},oe=function(t,e){t.closePopup({value:e})},ie=function(t,e,n){e.showLoaderOnConfirm&&St(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then((function(){return e.preConfirm(n,e.validationMessage)})).then((function(e){it(D())||!1===e?t.hideLoading():oe(t,void 0===e?n:e)}))):oe(t,n)},se=function(t,e,n){for(var r=z(),o=0;o<r.length;o++)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();E().focus()},ae=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"],ce=["Escape","Esc"],le=!1,ue=function(e,n,r){return new Promise((function(o){var i,s,a,c=function(t){e.closePopup({dismiss:t})};qt.swalPromiseResolve.set(e,o),n.confirmButton.onclick=function(){return function(t,e){t.disableButtons(),e.input?function(t,e){var n=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return function(t){return t.checked?1:0}(n);case"radio":return function(t){return t.checked?t.value:null}(n);case"file":return function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null}(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(t,e);e.inputValidator?(t.disableInput(),Promise.resolve().then((function(){return e.inputValidator(n,e.validationMessage)})).then((function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):ie(t,e,n)}))):t.getInput().checkValidity()?ie(t,e,n):(t.enableButtons(),t.showValidationMessage(e.validationMessage))}(t,e):ie(t,e,!0)}(e,r)},n.cancelButton.onclick=function(){return function(t,e){t.disableButtons(),e(w.cancel)}(e,c)},n.closeButton.onclick=function(){return c(w.close)},function(t,e,n){bt.innerParams.get(t).toast?function(t,e,n){e.popup.onclick=function(){var e=bt.innerParams.get(t);e.showConfirmButton||e.showCancelButton||e.showCloseButton||e.input||n(w.close)}}(t,e,n):(function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(le=!0)}}}(e),function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(le=!0)}}}(e),function(t,e,n){e.container.onclick=function(r){var o=bt.innerParams.get(t);le?le=!1:r.target===e.container&&m(o.allowOutsideClick)&&n(w.backdrop)}}(t,e,n))}(e,n,c),function(t,e,n,r){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=function(e){return function(t,e,n){var r,o,i=bt.innerParams.get(t);i.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;Et(),e.preventDefault()}}(t,e,i):"Tab"===e.key?function(t,e){for(var n=t.target,r=z(),o=-1,i=0;i<r.length;i++)if(n===r[i]){o=i;break}se(0,o,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()}(e):-1!==ae.indexOf(e.key)?(r=N(),o=R(),document.activeElement===r&&it(o)?o.focus():document.activeElement===o&&it(r)&&r.focus()):-1!==ce.indexOf(e.key)&&function(t,e,n){m(e.allowEscapeKey)&&(t.preventDefault(),n(w.esc))}(e,i,n)}(t,e,r)},e.keydownTarget=n.keydownListenerCapture?window:E(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)}(e,Tt,r,c),r.toast&&(r.input||r.footer||r.showCloseButton)?J(document.body,y["toast-column"]):X(document.body,y["toast-column"]),function(e,n){"select"===n.input||"radio"===n.input?function(e,n){var r=M(),o=function(t){return re[n.input](r,function(t){var e=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach((function(t,n){e.push([n,t])})):Object.keys(t).forEach((function(n){e.push([n,t[n]])})),e}(t),n)};b(n.inputOptions)?(St(),n.inputOptions.then((function(t){e.hideLoading(),o(t)}))):"object"===t(n.inputOptions)?o(n.inputOptions):p("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))}(e,n):-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&b(n.inputValue)&&function(t,e){var n=t.getInput();rt(n),e.inputValue.then((function(r){n.value="number"===e.input?parseFloat(r)||0:"".concat(r),nt(n),n.focus(),t.hideLoading()})).catch((function(e){p("Error in inputValue promise: ".concat(e)),n.value="",nt(n),n.focus(),t.hideLoading()}))}(e,n)}(e,r),i=r,s=C(),a=E(),"function"==typeof i.onBeforeOpen&&i.onBeforeOpen(a),function(t,e,n){J(t,n.showClass.backdrop),nt(e),J(e,n.showClass.popup),J([document.documentElement,document.body],y.shown),n.heightAuto&&n.backdrop&&!n.toast&&J([document.documentElement,document.body],y["height-auto"])}(s,a,i),function(t,e){gt&&at(e)?(t.style.overflowY="hidden",e.addEventListener(gt,te)):t.style.overflowY="auto"}(s,a),U()&&ne(s,i.scrollbarPadding),H()||Tt.previousActiveElement||(Tt.previousActiveElement=document.activeElement),"function"==typeof i.onOpen&&setTimeout((function(){return i.onOpen(a)})),X(s,y["no-transition"]),de(Tt,r,c),he(n,r),setTimeout((function(){n.container.scrollTop=0}))}))},de=function(t,e,n){var r=V();rt(r),e.timer&&(t.timeout=new Jt((function(){n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(nt(r),setTimeout((function(){t.timeout.running&&ct(e.timer)}))))},he=function(t,e){if(!e.toast)return m(e.allowEnterKey)?e.focusCancel&&it(t.cancelButton)?t.cancelButton.focus():e.focusConfirm&&it(t.confirmButton)?t.confirmButton.focus():void se(0,-1,1):fe()},fe=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},pe=function(t){for(var e in t)t[e]=new WeakMap},ge=Object.freeze({hideLoading:zt,disableLoading:zt,getInput:function(t){var e=bt.innerParams.get(t||this),n=bt.domCache.get(t||this);return n?Y(n.content,e.input):null},close:Wt,closePopup:Wt,closeModal:Wt,closeToast:Wt,enableButtons:function(){Zt(this,["confirmButton","cancelButton"],!1)},disableButtons:function(){Zt(this,["confirmButton","cancelButton"],!0)},enableInput:function(){return Kt(this.getInput(),!1)},disableInput:function(){return Kt(this.getInput(),!0)},showValidationMessage:function(t){var e=bt.domCache.get(this);$(e.validationMessage,t);var n=window.getComputedStyle(e.popup);e.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),e.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),nt(e.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",y["validation-message"]),Z(r),J(r,y.inputerror))},resetValidationMessage:function(){var t=bt.domCache.get(this);t.validationMessage&&rt(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),X(e,y.inputerror))},getProgressSteps:function(){return bt.domCache.get(this).progressSteps},_main:function(t){!function(t){for(var e in t)Lt(e),t.toast&&Ft(e),Vt(e)}(t),Tt.currentInstance&&Tt.currentInstance._destroy(),Tt.currentInstance=this;var e,n=function(t){var e=o({},Ot.showClass,t.showClass),n=o({},Ot.hideClass,t.hideClass),r=o({},Ot,t);return r.showClass=e,r.hideClass=n,!1===t.animation&&(r.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},r.hideClass={}),r}(t);(function(t){t.inputValidator||Object.keys(Xt).forEach((function(e){t.input===e&&(t.inputValidator=Xt[e])}))})(e=n),e.showLoaderOnConfirm&&!e.preConfirm&&f("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),e.animation=m(e.animation),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(f('Target parameter is not valid, defaulting to "body"'),t.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),function(t){var e,n=!!(e=C())&&(e.parentNode.removeChild(e),X([document.documentElement,document.body],[y["no-backdrop"],y["toast-shown"],y["has-column"]]),!0);if(lt())p("SweetAlert2 requires document to initialize");else{var r=document.createElement("div");r.className=y.container,n&&J(r,y["no-transition"]),$(r,ut);var o,i,s,a,c,l,u,d,h,f="string"==typeof(o=t.target)?document.querySelector(o):o;f.appendChild(r),function(t){var e=E();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&J(C(),y.rtl)}(f),i=M(),s=tt(i,y.input),a=tt(i,y.file),c=i.querySelector(".".concat(y.range," input")),l=i.querySelector(".".concat(y.range," output")),u=tt(i,y.select),d=i.querySelector(".".concat(y.checkbox," input")),h=tt(i,y.textarea),s.oninput=dt,a.onchange=dt,u.onchange=dt,d.onchange=dt,h.oninput=dt,c.oninput=function(t){dt(t),l.value=c.value},c.onchange=function(t){dt(t),c.nextSibling.value=c.value}}}(e),Object.freeze(n),Tt.timeout&&(Tt.timeout.stop(),delete Tt.timeout),clearTimeout(Tt.restoreFocusTimeout);var r=function(t){var e={popup:E(),container:C(),content:M(),actions:j(),confirmButton:N(),cancelButton:R(),closeButton:B(),validationMessage:D(),progressSteps:I()};return bt.domCache.set(t,e),e}(this);return At(this,n),bt.innerParams.set(this,n),ue(this,r,n)},update:function(t){var e=E(),n=bt.innerParams.get(this);if(!e||W(e,n.hideClass.popup))return f("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var r={};Object.keys(t).forEach((function(e){be.isUpdatableParameter(e)?r[e]=t[e]:f('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))}));var i=o({},n,r);At(this,i),bt.innerParams.set(this,i),Object.defineProperties(this,{params:{value:o({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){var t=bt.domCache.get(this),e=bt.innerParams.get(this);e&&(t.popup&&Tt.swalCloseEventFinishedCallback&&(Tt.swalCloseEventFinishedCallback(),delete Tt.swalCloseEventFinishedCallback),Tt.deferDisposalTimer&&(clearTimeout(Tt.deferDisposalTimer),delete Tt.deferDisposalTimer),"function"==typeof e.onDestroy&&e.onDestroy(),delete this.params,delete Tt.keydownHandler,delete Tt.keydownTarget,pe(bt),pe(qt))}});function me(){if("undefined"!=typeof window){"undefined"==typeof Promise&&p("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),ee=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});var o=this._main(this.params);bt.promise.set(this,o)}}me.prototype.then=function(t){return bt.promise.get(this).then(t)},me.prototype.finally=function(t){return bt.promise.get(this).finally(t)},o(me.prototype,ge),o(me,Bt),Object.keys(ge).forEach((function(t){me[t]=function(){var e;if(ee)return(e=ee)[t].apply(e,arguments)}})),me.DismissReason=w,me.version="9.10.12";var be=me;return be.default=be,be}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-no-transition{transition:none!important}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-actions.swal2-loading .swal2-styled.swal2-confirm{box-sizing:border-box;width:2.5em;height:2.5em;margin:.46875em;padding:0;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent!important;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{content:"";display:inline-block;width:15px;height:15px;margin-left:5px;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff}.swal2-styled{margin:.3125em;padding:.625em 2em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(50,100,150,.4)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;height:.25em;overflow:hidden;border-bottom-right-radius:.3125em;border-bottom-left-radius:.3125em}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;align-items:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:0;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-file::-webkit-input-placeholder,.swal2-input::-webkit-input-placeholder,.swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::-ms-input-placeholder,.swal2-input::-ms-input-placeholder,.swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-validation-message{display:none;align-items:center;justify-content:center;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{align-items:center;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#3085d6}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;width:2.5em;height:.4em;margin:0 -1px;background:#3085d6}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')},WOAq:function(t,e,n){"use strict";(function(t){var r=n("Ju5/"),o=n("L3Qv"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===i?r.a.Buffer:void 0;e.a=(a?a.isBuffer:void 0)||o.a}).call(this,n("3UD+")(t))},XqMk:function(t,e,n){"use strict";var r="object"==typeof global&&global&&global.Object===Object&&global;e.a=r},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},xutz:function(t,e,n){"use strict";(function(t){var r=n("XqMk"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===o&&r.a.process,a=function(){try{return i&&i.require&&i.require("util").types||s&&s.binding&&s.binding("util")}catch(t){}}();e.a=a}).call(this,n("3UD+")(t))},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let o=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=t},get useDeprecatedSynchronousErrorHandling(){return o}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},c=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function l(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let d=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:o,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(o))try{o.call(this)}catch(s){e=s instanceof u?h(s.errors):[s]}if(c(i)){let t=-1,n=i.length;for(;++t<n;){const n=i[t];if(l(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof u?e=e.concat(h(s.errors)):e.push(s)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function h(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,o){let i;super(),this._parentSubscriber=t;let s=this;r(e)?i=e:e&&(i=e.next,n=e.error,o=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=i;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function b(){}function w(...t){return _(t)}function _(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:b}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,o=function(t,e,n){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(o.add(r?r.call(o,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),i.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(e){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=y(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(o){n(o),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=y(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function y(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const k=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class C extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class x extends p{constructor(t){super(t),this.destination=t}}let A=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new x(this)}lift(t){const e=new E(this,this);return e.operator=t,e}next(t){if(this.closed)throw new k;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let o=0;o<n;o++)r[o].next(t)}}error(t){if(this.closed)throw new k;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let o=0;o<n;o++)r[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new k;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new k;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new k;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new C(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new E(t,e),t})();class E extends A{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function S(t){return t&&"function"==typeof t.schedule}class T extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const P=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=M(),I=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const N=t=>{if(t&&"function"==typeof t[m])return r=t,t=>{const e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(I(t))return P(t);if(D(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[O])return e=t,t=>{const n=e[O]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,r};function R(t,e,n,r,o=new T(t,n,r)){if(!o.closed)return e instanceof v?e.subscribe(o):N(e)(o)}class j extends p{notifyNext(t,e,n,r,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function L(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new F(t,e))}}class F{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new V(t,this.project,this.thisArg))}}class V extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function B(t,e){return new v(n=>{const r=new d;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function z(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new v(n=>{const r=new d;return r.add(e.schedule(()=>{const o=t[m]();r.add(o.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(D(t))return function(t,e){return new v(n=>{const r=new d;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(I(t))return B(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(n=>{const r=new d;let o;return r.add(()=>{o&&"function"==typeof o.return&&o.return()}),r.add(e.schedule(()=>{o=t[O](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=o.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof v?t:new v(N(t))}function U(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(U((n,r)=>z(t(n,r)).pipe(L((t,o)=>e(n,t,r,o))),n)):("number"==typeof e&&(n=e),e=>e.lift(new H(t,n)))}class H{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new q(t,this.project,this.concurrent))}}class q extends j{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new T(this,e,n),o=this.destination;o.add(r);const i=R(this,t,void 0,void 0,r);i!==r&&o.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,o){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function $(t){return t}function W(t=Number.POSITIVE_INFINITY){return U($,t)}function G(t,e){return e?B(t,e):new v(P(t))}function Y(){return function(t){return t.lift(new Q(t))}}class Q{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Z(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o}}class Z extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class K extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new d,t.add(this.source.subscribe(new X(this.getSubject(),this))),t.closed&&(this._connection=null,t=d.EMPTY)),t}refCount(){return Y()(this)}}const J=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class X extends x{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function tt(){return new A}function et(t){return{toString:t}.toString()}function nt(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function rt(t,e,n){return et(()=>{const r=nt(e);function o(...t){if(this instanceof o)return r.apply(this,t),this;const e=new o(...t);return n.annotation=e,n;function n(t,n,r){const o=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;o.length<=r;)o.push(null);return(o[r]=o[r]||[]).push(e),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function ot(t,e,n,r){return et(()=>{const o=nt(e);function i(...t){if(this instanceof i)return o.apply(this,t),this;const e=new i(...t);return function(n,o){const i=n.constructor,s=i.hasOwnProperty("__prop__metadata__")?i.__prop__metadata__:Object.defineProperty(i,"__prop__metadata__",{value:{}}).__prop__metadata__;s[o]=s.hasOwnProperty(o)&&s[o]||[],s[o].unshift(e),r&&r(n,o,...t)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const it=rt("Inject",t=>({token:t})),st=rt("Optional"),at=rt("Self"),ct=rt("SkipSelf");var lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ut(t){for(let e in t)if(t[e]===ut)return e;throw Error("Could not find renamed property on target object.")}function dt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function pt(t){return gt(t,t[bt])||gt(t,t[vt])}function gt(t,e){return e&&e.token===t?e:null}function mt(t){return t&&(t.hasOwnProperty(wt)||t.hasOwnProperty(yt))?t[wt]:null}const bt=ut({"\u0275prov":ut}),wt=ut({"\u0275inj":ut}),_t=ut({"\u0275provFallback":ut}),vt=ut({ngInjectableDef:ut}),yt=ut({ngInjectorDef:ut});function kt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(kt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ct(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const xt=ut({__forward_ref__:ut});function At(t){return t.__forward_ref__=At,t.toString=function(){return kt(this())},t}function Et(t){return St(t)?t():t}function St(t){return"function"==typeof t&&t.hasOwnProperty(xt)&&t.__forward_ref__===At}const Tt="undefined"!=typeof globalThis&&globalThis,Pt="undefined"!=typeof window&&window,Mt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ot="undefined"!=typeof global&&global,It=Tt||Ot||Pt||Mt,Dt=ut({"\u0275cmp":ut}),Nt=ut({"\u0275dir":ut}),Rt=ut({"\u0275pipe":ut}),jt=ut({"\u0275mod":ut}),Lt=ut({"\u0275loc":ut}),Ft=ut({"\u0275fac":ut}),Vt=ut({__NG_ELEMENT_ID__:ut});class Bt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ht({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zt=new Bt("INJECTOR",-1),Ut={},Ht=/\n/gm,qt=ut({provide:String,useValue:ut});let $t,Wt=void 0;function Gt(t){const e=Wt;return Wt=t,e}function Yt(t){const e=$t;return $t=t,e}function Qt(t,e=lt.Default){if(void 0===Wt)throw new Error("inject() must be called from an injection context");return null===Wt?Kt(t,void 0,e):Wt.get(t,e&lt.Optional?null:void 0,e)}function Zt(t,e=lt.Default){return($t||Qt)(Et(t),e)}function Kt(t,e,n){const r=pt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&lt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${kt(t)}]`)}function Jt(t){const e=[];for(let n=0;n<t.length;n++){const r=Et(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=lt.Default;for(let e=0;e<r.length;e++){const o=r[e];o instanceof st||"Optional"===o.ngMetadataName||o===st?n|=lt.Optional:o instanceof ct||"SkipSelf"===o.ngMetadataName||o===ct?n|=lt.SkipSelf:o instanceof at||"Self"===o.ngMetadataName||o===at?n|=lt.Self:t=o instanceof it||o===it?o.token:o}e.push(Zt(t,n))}else e.push(Zt(r))}return e}class Xt{get(t,e=Ut){if(e===Ut){const e=new Error(`NullInjectorError: No provider for ${kt(t)}!`);throw e.name="NullInjectorError",e}return e}}class te{}class ee{}function ne(t,e){t.forEach(t=>Array.isArray(t)?ne(t,e):e(t))}function re(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function oe(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ie(t,e,n){let r=ae(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(1===o)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;)t[o]=t[o-2],o--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function se(t,e){const n=ae(t,e);if(n>=0)return t[1|n]}function ae(t,e){return function(t,e,n){let r=0,o=t.length>>1;for(;o!==r;){const n=r+(o-r>>1),i=t[n<<1];if(e===i)return n<<1;i>e?o=n:r=n+1}return~(o<<1)}(t,e)}const ce=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),le=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ue={},de=[];let he=0;function fe(t){return et(()=>{const e=t.type,n=e.prototype,r={},o={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===ce.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||de,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||le.Emulated,id:"c",styles:t.styles||de,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,a=t.pipes;return o.id+=he++,o.inputs=we(t.inputs,r),o.outputs=we(t.outputs),s&&s.forEach(t=>t(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(pe):null,o.pipeDefs=a?()=>("function"==typeof a?a():a).map(ge):null,o})}function pe(t){return ye(t)||function(t){return t[Nt]||null}(t)}function ge(t){return function(t){return t[Rt]||null}(t)}const me={};function be(t){const e={type:t.type,bootstrap:t.bootstrap||de,declarations:t.declarations||de,imports:t.imports||de,exports:t.exports||de,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&et(()=>{me[t.id]=t.type}),e}function we(t,e){if(null==t)return ue;const n={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,e&&(e[o]=i)}return n}const _e=fe;function ve(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ye(t){return t[Dt]||null}function ke(t,e){return t.hasOwnProperty(Ft)?t[Ft]:null}function Ce(t,e){const n=t[jt]||null;if(!n&&!0===e)throw new Error(`Type ${kt(t)} does not have '\u0275mod' property.`);return n}function xe(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ae(t){return Array.isArray(t)&&!0===t[1]}function Ee(t){return 0!=(8&t.flags)}function Se(t){return 2==(2&t.flags)}function Te(t){return 1==(1&t.flags)}function Pe(t){return null!==t.template}function Me(t){return 0!=(512&t[2])}const Oe={lFrame:Je(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ie(){return Oe.bindingsEnabled}function De(){return Oe.lFrame.lView}function Ne(){return Oe.lFrame.tView}function Re(t){Oe.lFrame.contextLView=t}function je(){return Oe.lFrame.previousOrParentTNode}function Le(t,e){Oe.lFrame.previousOrParentTNode=t,Oe.lFrame.isParent=e}function Fe(){return Oe.lFrame.isParent}function Ve(){Oe.lFrame.isParent=!1}function Be(){return Oe.checkNoChangesMode}function ze(t){Oe.checkNoChangesMode=t}function Ue(){const t=Oe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function He(){return Oe.lFrame.bindingIndex}function qe(){return Oe.lFrame.bindingIndex++}function $e(t){const e=Oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function We(t,e){const n=Oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function Ge(){return Oe.lFrame.currentQueryIndex}function Ye(t){Oe.lFrame.currentQueryIndex=t}function Qe(t,e){const n=Ke();Oe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Ze(t,e){const n=Ke(),r=t[1];Oe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ke(){const t=Oe.lFrame,e=null===t?null:t.child;return null===e?Je(t):e}function Je(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Xe(){const t=Oe.lFrame;return Oe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const tn=Xe;function en(){const t=Xe();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nn(){return Oe.lFrame.selectedIndex}function rn(t){Oe.lFrame.selectedIndex=t}function on(){Oe.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function sn(){Oe.lFrame.currentNamespace=null}function an(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function cn(t,e,n){dn(t,e,3,n)}function ln(t,e,n,r){(3&t[2])===n&&dn(t,e,n,r)}function un(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function dn(t,e,n,r){const o=null!=r?r:-1;let i=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(i=e[s],null!=r&&i>=r)break}else e[s]<0&&(t[18]+=65536),(i<o||-1==o)&&(hn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function hn(t,e,n,r){const o=n[r]<0,i=n[r+1],s=t[o?-n[r]:n[r]];o?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,i.call(s)):i.call(s)}class fn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}let pn=void 0;function gn(){return void 0!==pn?pn:"undefined"!=typeof document?document:void 0}function mn(t){return!!t.listen}const bn={createRenderer:(t,e)=>gn()};function wn(t,e,n){const r=mn(t);let o=0;for(;o<n.length;){const i=n[o];if("number"==typeof i){if(0!==i)break;o++;const s=n[o++],a=n[o++],c=n[o++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=i,a=n[++o];vn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),o++}}return o}function _n(t){return 3===t||4===t||6===t}function vn(t){return 64===t.charCodeAt(0)}function yn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?n=o:0===n||kn(t,n,o,null,-1===n||2===n?e[++r]:null)}}return t}function kn(t,e,n,r,o){let i=0,s=t.length;if(-1===e)s=-1;else for(;i<t.length;){const n=t[i++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=i-1;break}}}for(;i<t.length;){const e=t[i];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function Cn(t){return-1!==t}function xn(t){return 32767&t}function An(t){return t>>16}function En(t,e){let n=An(t),r=e;for(;n>0;)r=r[15],n--;return r}function Sn(t){return"string"==typeof t?t:null==t?"":""+t}function Tn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Sn(t)}const Pn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It))();function Mn(t){return{name:"window",target:t.ownerDocument.defaultView}}function On(t){return t instanceof Function?t():t}let In=!0;function Dn(t){const e=In;return In=t,e}let Nn=0;function Rn(t,e){const n=Ln(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,jn(r.data,t),jn(e,null),jn(r.blueprint,null));const o=Fn(t,e),i=t.injectorIndex;if(Cn(o)){const t=xn(o),n=En(o,e),r=n[1].data;for(let o=0;o<8;o++)e[i+o]=n[t+o]|r[t+o]}return e[i+8]=o,i}function jn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ln(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Fn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Vn(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Vt]:n.charCodeAt(0)||0;null==r&&(r=n[Vt]=Nn++);const o=255&r,i=1<<o,s=64&o,a=32&o,c=e.data;128&o?s?a?c[t+7]|=i:c[t+6]|=i:a?c[t+5]|=i:c[t+4]|=i:s?a?c[t+3]|=i:c[t+2]|=i:a?c[t+1]|=i:c[t]|=i}(t,e,n)}function Bn(t,e,n,r=lt.Default,o){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Vt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){Qe(e,t);try{const t=o();if(null!=t||r&lt.Optional)return t;throw new Error(`No provider for ${Tn(n)}!`)}finally{tn()}}else if("number"==typeof o){if(-1===o)return new Gn(t,e);let i=null,s=Ln(t,e),a=-1,c=r&lt.Host?e[16][6]:null;for((-1===s||r&lt.SkipSelf)&&(a=-1===s?Fn(t,e):e[s+8],Wn(r,!1)?(i=e[1],s=xn(a),e=En(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if($n(o,s,t.data)){const t=Un(s,e,n,i,r,c);if(t!==zn)return t}Wn(r,e[1].data[s+8]===c)&&$n(o,s,e)?(i=t,s=xn(a),e=En(a,e)):s=-1}}}if(r&lt.Optional&&void 0===o&&(o=null),0==(r&(lt.Self|lt.Host))){const t=e[9],i=Yt(void 0);try{return t?t.get(n,o,r&lt.Optional):Kt(n,o,r&lt.Optional)}finally{Yt(i)}}if(r&lt.Optional)return o;throw new Error(`NodeInjector: NOT_FOUND [${Tn(n)}]`)}const zn={};function Un(t,e,n,r,o,i){const s=e[1],a=s.data[t+8],c=Hn(a,s,n,null==r?Se(a)&&In:r!=s&&3===a.type,o&lt.Host&&i===a);return null!==c?qn(e,s,c,a):zn}function Hn(t,e,n,r,o){const i=t.providerIndexes,s=e.data,a=65535&i,c=t.directiveStart,l=i>>16,u=o?a+l:t.directiveEnd;for(let d=r?a:a+l;d<u;d++){const t=s[d];if(d<c&&n===t||d>=c&&t.type===n)return d}if(o){const t=s[c];if(t&&Pe(t)&&t.type===n)return c}return null}function qn(t,e,n,r){let o=t[n];const i=e.data;if(o instanceof fn){const s=o;if(s.resolving)throw new Error(`Circular dep for ${Tn(i[n])}`);const a=Dn(s.canSeeViewProviders);let c;s.resolving=!0,s.injectImpl&&(c=Yt(s.injectImpl)),Qe(t,r);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:o,doCheck:i}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,o),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i))}(n,i[n],e)}finally{s.injectImpl&&Yt(c),Dn(a),s.resolving=!1,tn()}}return o}function $n(t,e,n){const r=64&t,o=32&t;let i;return i=128&t?r?o?n[e+7]:n[e+6]:o?n[e+5]:n[e+4]:r?o?n[e+3]:n[e+2]:o?n[e+1]:n[e],!!(i&1<<t)}function Wn(t,e){return!(t&lt.Self||t&lt.Host&&e)}class Gn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Bn(this._tNode,this._lView,t,void 0,e)}}function Yn(t){return et(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Ft]||function t(e){const n=e;if(St(e))return()=>{const e=t(Et(n));return e?e():null};let r=ke(n);if(null===r){const t=mt(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t})}function Qn(t){return t.ngDebugContext}function Zn(t){return t.ngOriginalError}function Kn(t,...e){t.error(...e)}class Jn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Kn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Qn(t)?Qn(t):this._findContext(Zn(t)):null}_findOriginalError(t){let e=Zn(t);for(;e&&Zn(e);)e=Zn(e);return e}}class Xn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}function tr(t){return t instanceof Xn?t.changingThisBreaksApplicationSecurity:t}function er(t,e){const n=function(t){return t instanceof Xn&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}let nr=!0,rr=!1;function or(){return rr=!0,nr}class ir{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const sr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ar=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function cr(t){return(t=String(t)).match(sr)||t.match(ar)?t:(or()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function lr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ur(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const dr=lr("area,br,col,hr,img,wbr"),hr=lr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fr=lr("rp,rt"),pr=ur(fr,hr),gr=ur(dr,ur(hr,lr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ur(fr,lr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pr),mr=lr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),br=lr("srcset"),wr=ur(mr,br,lr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),lr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_r=lr("script,style,template");class vr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!gr.hasOwnProperty(e))return this.sanitizedSomething=!0,!_r.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let o=0;o<n.length;o++){const t=n.item(o),e=t.name,i=e.toLowerCase();if(!wr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;mr[i]&&(s=cr(s)),br[i]&&(r=s,s=(r=String(r)).split(",").map(t=>cr(t.trim())).join(", ")),this.buf.push(" ",e,'="',Cr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();gr.hasOwnProperty(e)&&!dr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Cr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const yr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kr=/([^\#-~ |!])/g;function Cr(t){return t.replace(/&/g,"&amp;").replace(yr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(kr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xr;function Ar(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Er=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();function Sr(t){const e=Pr();return e?e.sanitize(Er.HTML,t)||"":er(t,"HTML")?tr(t):function(t,e){let n=null;try{xr=xr||new ir(t);let r=e?String(e):"";n=xr.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=xr.getInertBodyElement(r)}while(r!==i);const s=new vr,a=s.sanitizeChildren(Ar(n)||n);return or()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Ar(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(gn(),Sn(t))}function Tr(t){const e=Pr();return e?e.sanitize(Er.URL,t)||"":er(t,"URL")?tr(t):cr(Sn(t))}function Pr(){const t=De();return t&&t[12]}function Mr(t){for(;Array.isArray(t);)t=t[0];return t}function Or(t,e){return Mr(e[t+19])}function Ir(t,e){return Mr(e[t.index])}function Dr(t,e){return t.data[e+19]}function Nr(t,e){return t[e+19]}function Rr(t,e){const n=e[t];return xe(n)?n:n[0]}function jr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lr(t){return 4==(4&t[2])}function Fr(t){return 128==(128&t[2])}function Vr(t,e){return null===t||null==e?null:t[e]}function Br(t){t[18]=0}function zr(t,e){t.__ngContext__=e}function Ur(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function Hr(){throw new Error("Cannot mix multi providers and regular providers")}function qr(t,e,n){let r=t.length;for(;;){const o=t.indexOf(e,n);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const n=e.length;if(o+n===r||t.charCodeAt(o+n)<=32)return o}n=o+1}}function $r(t,e,n){let r=0;for(;r<t.length;){let o=t[r++];if(n&&"class"===o){if(o=t[r],-1!==qr(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function Wr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Gr(t,e,n){let r=4;const o=t.attrs||[],i=function(t){for(let e=0;e<t.length;e++)if(_n(t[e]))return e;return t.length}(o);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Wr(t,c,n)||""===c&&1===e.length){if(Yr(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!$r(t.attrs,l,n)){if(Yr(r))return!1;s=!0}continue}const u=Qr(8&r?"class":c,o,0==t.type&&"ng-template"!==t.tagName,n);if(-1===u){if(Yr(r))return!1;s=!0;continue}if(""!==l){let t;t=u>i?"":o[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==qr(e,l,0)||2&r&&l!==t){if(Yr(r))return!1;s=!0}}}}else{if(!s&&!Yr(r)&&!Yr(c))return!1;if(s&&Yr(c))continue;s=!1,r=c|1&r}}return Yr(r)||s}function Yr(t){return 0==(1&t)}function Qr(t,e,n,r){if(null===e)return-1;let o=0;if(r||!n){let n=!1;for(;o<e.length;){const r=e[o];if(r===t)return o;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++o];for(;"string"==typeof t;)t=e[++o];continue}if(4===r)break;if(0===r){o+=4;continue}}o+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function Zr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Gr(t,e[r],n))return!0;return!1}function Kr(t,e){return t?":not("+e.trim()+")":e}function Jr(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];o+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""===o||Yr(s)||(e+=Kr(i,o),o=""),r=s,i=i||!Yr(r);n++}return""!==o&&(e+=Kr(i,o)),e}const Xr={};function to(t){const e=t[3];return Ae(e)?e[3]:e}function eo(t){no(Ne(),De(),nn()+t,Be())}function no(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&cn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ln(e,r,0,n)}rn(n)}function ro(t,e){return t<<17|e<<2}function oo(t){return t>>17&32767}function io(t){return 2|t}function so(t){return(131068&t)>>2}function ao(t,e){return-131069&t|e<<2}function co(t){return 1|t}function lo(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],i=n[r+1];if(-1!==i){const n=t.data[i];Ye(o),n.contentQueries(2,e[i],i)}}}function uo(t,e,n){return mn(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ho(t,e,n,r,o,i,s,a,c,l){const u=e.blueprint.slice();return u[0]=o,u[2]=140|r,Br(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=i,u[16]=2==e.type?t[16]:u,u}function fo(t,e,n,r,o,i){const s=n+19,a=t.data[s]||function(t,e,n,r,o,i){const s=je(),a=Fe(),c=a?s:s&&s.parent,l=t.data[n]=Co(0,c&&c!==e?c:null,r,n,o,i);return null===t.firstChild&&(t.firstChild=l),s&&(!a||null!=s.child||null===l.parent&&2!==s.type?a||(s.next=l):s.child=l),l}(t,e,s,r,o,i);return Le(a,!0),a}function po(t,e,n){Ze(e,e[6]);try{const r=t.viewQuery;null!==r&&Wo(1,r,n);const o=t.template;null!==o&&bo(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&lo(t,e),t.staticViewQueries&&Wo(2,t.viewQuery,n);const i=t.components;null!==i&&function(t,e){for(let n=0;n<e.length;n++)zo(t,e[n])}(e,i)}finally{e[2]&=-5,en()}}function go(t,e,n,r){const o=e[2];if(256==(256&o))return;Ze(e,e[6]);const i=Be();try{Br(e),Oe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&bo(t,e,n,2,r);const s=3==(3&o);if(!i)if(s){const n=t.preOrderCheckHooks;null!==n&&cn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ln(e,n,0,null),un(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(Ae(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],r=n[1];Fr(n)&&go(r,n,r.template,n[8])}0!=(1&n)&&Vo(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&lo(t,e),!i)if(s){const n=t.contentCheckHooks;null!==n&&cn(e,n)}else{const n=t.contentHooks;null!==n&&ln(e,n,1),un(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,o=-1,i=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(i=0-s,rn(i),r+=9+n[++t],o=r):r+=s:(null!==s&&(We(r,o),s(2,e[o])),o++)}}}finally{rn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Bo(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Wo(2,c,r),!i)if(s){const n=t.viewCheckHooks;null!==n&&cn(e,n)}else{const n=t.viewHooks;null!==n&&ln(e,n,2),un(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i||(e[2]&=-73)}finally{en()}}function mo(t,e,n,r){const o=e[10],i=!Be(),s=Lr(e);try{i&&!s&&o.begin&&o.begin(),s&&po(t,e,r),go(t,e,n,r)}finally{i&&!s&&o.end&&o.end()}}function bo(t,e,n,r,o){const i=nn();try{rn(-1),2&r&&e.length>19&&no(t,e,0,Be()),n(r,o)}finally{rn(i)}}function wo(t,e,n){if(Ee(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const e=t.data[o];e.contentQueries&&e.contentQueries(1,n[o],o)}}}function _o(t,e,n){Ie()&&(function(t,e,n,r){const o=n.directiveStart,i=n.directiveEnd;t.firstCreatePass||Rn(n,e),zr(r,e);const s=n.initialInputs;for(let a=o;a<i;a++){const r=t.data[a],i=Pe(r);i&&Ro(e,n,r);const c=qn(e,t,a,n);zr(c,e),null!==s&&jo(0,a-o,c,r,0,s),i&&(Rr(n.index,e)[8]=c)}}(t,e,n,Ir(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,o=n.directiveEnd,i=t.expandoInstructions,s=t.firstCreatePass,a=n.index-19;try{rn(a);for(let n=r;n<o;n++){const r=t.data[n],o=e[n];null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Po(r,o):s&&i.push(null)}}finally{rn(-1)}}(t,e,n))}function vo(t,e,n=Ir){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(e,t):t[s];t[o++]=a}}}function yo(t){return t.tView||(t.tView=ko(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function ko(t,e,n,r,o,i,s,a,c,l){const u=19+r,d=u+o,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Xr);return n}(u,d);return h[1]={type:t,id:e,blueprint:h,template:n,queries:null,viewQuery:a,node:null,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:l}}function Co(t,e,n,r,o,i){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xo(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const o=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,o):n[r]=[e,o]}return n}function Ao(t,e,n,r,o,i,s,a){const c=Or(n,e),l=Dr(t,n);let u,d=l.inputs;if(!s&&null!=d&&(u=d[r]))Ko(t,e,u,r,o),Se(l)&&function(t,e){const n=Rr(e,t);16&n[2]||(n[2]|=64)}(e,n+19);else if(3===l.type){r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h;const t=a?a(l,e):e[11];o=null!=i?i(o,l.tagName||"",r):o,mn(t)?t.setProperty(c,r,o):vn(r)||(c.setProperty?c.setProperty(r,o):c[r]=o)}var h}function Eo(t,e,n,r){let o=!1;if(Ie()){const i=function(t,e,n){const r=t.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];Zr(n,s.selectors,!1)&&(o||(o=[]),Vn(Rn(n,e),t,s.type),Pe(s)?(2&n.flags&&Ur(n),Oo(t,n),o.unshift(s)):o.push(s))}return o}(t,e,n),s=null===r?null:{"":-1};if(null!==i){let r=0;o=!0,Do(n,t.data.length,i.length);for(let t=0;t<i.length;t++){const e=i[t];e.providersResolver&&e.providersResolver(e)}Mo(t,n,i.length);let a=!1,c=!1;for(let o=0;o<i.length;o++){const l=i[o];n.mergedAttrs=yn(n.mergedAttrs,l.hostAttrs),No(t,e,l),Io(t.data.length-1,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128),!a&&(l.onChanges||l.onInit||l.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),c||!l.onChanges&&!l.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),c=!0),So(t,l),r+=l.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,o=e.attrs,i=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],e=t.inputs;i.push(null!==o?Lo(e,o):null),s=xo(e,c,s),a=xo(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=i,e.inputs=s,e.outputs=a}(t,n),To(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const o=n[e[t+1]];if(null==o)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],o)}}}(n,r,s)}return n.mergedAttrs=yn(n.mergedAttrs,n.attrs),o}function So(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function To(t,e,n){for(let r=0;r<n;r++)e.push(Xr),t.blueprint.push(Xr),t.data.push(null)}function Po(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Mo(t,e,n){const r=19-e.index,o=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,o,n)}function Oo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Io(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pe(e)&&(n[""]=t)}}function Do(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function No(t,e,n){t.data.push(n);const r=n.factory||(n.factory=ke(n.type)),o=new fn(r,Pe(n),null);t.blueprint.push(o),e.push(o)}function Ro(t,e,n){const r=Ir(e,t),o=yo(n),i=t[10],s=Uo(t,ho(t,o,null,n.onPush?64:16,r,e,i,i.createRenderer(r,n)));t[e.index]=s}function jo(t,e,n,r,o,i){const s=i[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const o=s[e++],i=s[e++],a=s[e++];null!==t?r.setInput(n,a,o,i):n[i]=a}}}function Lo(t,e){let n=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,t[o],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Fo(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function Vo(t,e){const n=t[5];for(let r=0;r<n.length;r++){const t=n[r],o=t[3][3][16];if(o!==e&&0==(16&o[2])){const e=t[1];go(e,t,e.template,t[8])}}}function Bo(t,e){const n=Rr(e,t);if(Fr(n)&&80&n[2]){const t=n[1];go(t,n,t.template,n[8])}}function zo(t,e){const n=Rr(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),po(r,n,n[8])}function Uo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ho(t){for(;t;){t[2]|=64;const e=to(t);if(Me(t)&&!e)return t;t=e}return null}function qo(t,e,n){const r=e[10];r.begin&&r.begin();try{go(t,e,t.template,n)}catch(o){throw Zo(e,o),o}finally{r.end&&r.end()}}function $o(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=jr(n),o=r[1];mo(o,r,o.template,n)}}(t[8])}function Wo(t,e,n){Ye(0),e(t,n)}const Go=(()=>Promise.resolve(null))();function Yo(t){return t[7]||(t[7]=[])}function Qo(t){return t.cleanup||(t.cleanup=[])}function Zo(t,e){const n=t[9],r=n?n.get(Jn,null):null;r&&r.handleError(e)}function Ko(t,e,n,r,o){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],c=e[s],l=t.data[s];null!==l.setInput?l.setInput(c,o,r,a):c[a]=o}}function Jo(t,e,n){const r=Or(e,t),o=t[11];mn(o)?o.setValue(r,n):r.textContent=n}function Xo(t,e){const n=e[3];return-1===t.index?Ae(n)?n:null:n}function ti(t,e){const n=Xo(t,e);return n?di(e[11],n[7]):null}function ei(t,e,n,r,o){if(null!=r){let i,s=!1;Ae(r)?i=r:xe(r)&&(s=!0,r=r[0]);const a=Mr(r);0===t&&null!==n?null==o?li(e,n,a):ci(e,n,a,o||null):1===t&&null!==n?ci(e,n,a,o||null):2===t?function(t,e,n){const r=di(t,e);r&&function(t,e,n,r){mn(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=i&&function(t,e,n,r,o){const i=n[7];i!==Mr(n)&&ei(e,t,r,i,o);for(let s=9;s<n.length;s++){const o=n[s];gi(o[1],o,t,e,r,i)}}(e,t,i,n,o)}}function ni(t,e,n,r){const o=ti(t.node,e);o&&gi(t,e,e[11],n?1:2,o,r)}function ri(t,e){const n=t[5],r=n.indexOf(e);n.splice(r,1)}function oi(t,e){if(t.length<=9)return;const n=9+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&ri(o,r),e>0&&(t[n-1][4]=r[4]);const i=oe(t,9+e);ni(r[1],r,!1,null);const s=i[5];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ii(t,e){if(!(256&e[2])){const n=e[11];mn(n)&&n.destroyNode&&gi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return ai(t[1],t);for(;e;){let n=null;if(xe(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)xe(e)&&ai(e[1],e),e=si(e,t);null===e&&(e=t),xe(e)&&ai(e[1],e),n=e&&e[4]}e=n}}(e)}}function si(t,e){let n;return xe(t)&&(n=t[6])&&2===n.type?Xo(n,t):t[3]===e?null:t[3]}function ai(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof fn||n[r+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const o=n[r+1],i="function"==typeof o?o(e):Mr(e[o]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?i.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&mn(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Ae(e[3])){r!==e[3]&&ri(r,e);const n=e[5];null!==n&&n.detachView(t)}}}function ci(t,e,n,r){mn(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function li(t,e,n){mn(t)?t.appendChild(e,n):e.appendChild(n)}function ui(t,e,n,r){null!==r?ci(t,e,n,r):li(t,e,n)}function di(t,e){return mn(t)?t.parentNode(e):e.parentNode}function hi(t,e,n,r){const o=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?ti(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Ir(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==le.ShadowDom&&n!==le.Native)return null}return Ir(r,n)}(t,r,e);if(null!=o){const t=e[11],i=function(t,e){if(2===t.type){const n=Xo(t,e);return null===n?null:fi(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Ir(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)ui(t,o,n[e],i);else ui(t,o,n,i)}}function fi(t,e){const n=9+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Ir(n,e);if(0===r)return fi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Ae(t)?fi(-1,t):Mr(t)}}{const r=e[16],o=r[6],i=to(r),s=o.projection[n.projection];return null!=s?t(i,s):t(e,n.next)}}return null}(t,r)}return e[7]}function pi(t,e,n,r,o,i,s){for(;null!=n;){const a=r[n.index],c=n.type;s&&0===e&&(a&&zr(Mr(a),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(pi(t,e,n.child,r,o,i,!1),ei(e,t,o,a,i)):1===c?mi(t,e,r,n,o,i):ei(e,t,o,a,i)),n=s?n.projectionNext:n.next}}function gi(t,e,n,r,o,i){pi(n,r,t.node.child,e,o,i,!1)}function mi(t,e,n,r,o,i){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)ei(e,t,o,a[c],i);else pi(t,e,a,s[3],o,i,!0)}function bi(t,e,n){mn(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function wi(t,e,n){mn(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class _i{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,o,i=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&o.push(Mr(s)),Ae(s))for(let e=9;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,o)}const a=r.type;if(4===a||5===a)t(e,n,r.child,o);else if(1===a){const e=n[16],i=e[6],s=to(e);let a=i.projection[r.projection];null!==a&&null!==s&&t(s[1],s,a,o,!0)}r=i?r.projectionNext:r.next}return o}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ii(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,Yo(n=this._lView).push(r),e.firstCreatePass&&Qo(e).push(n[7].length-1,null)}markForCheck(){Ho(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){qo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ze(!0);try{qo(t,e,n)}finally{ze(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,gi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class vi extends _i{constructor(t){super(t),this._view=t}detectChanges(){$o(this._view)}checkNoChanges(){!function(t){ze(!0);try{$o(t)}finally{ze(!1)}}(this._view)}get context(){return null}}let yi,ki,Ci;function xi(t,e,n){return yi||(yi=class extends t{}),new yi(Ir(e,n))}function Ai(t,e,n,r){return ki||(ki=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ho(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(e)),po(e,n,t);const o=new _i(n);return o._tViewNode=n[6],o}}),0===n.type?new ki(r,n,xi(e,n,r)):null}function Ei(t,e,n,r){let o;Ci||(Ci=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return xi(e,this._hostTNode,this._hostView)}get injector(){return new Gn(this._hostTNode,this._hostView)}get parentInjector(){const t=Fn(this._hostTNode,this._hostView),e=En(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=An(t),o=e,i=e[6];for(;r>1;)o=o[15],i=o[6],r--;return i}(t,this._hostView,this._hostTNode);return Cn(t)&&null!=n?new Gn(n,e):new Gn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,o){const i=n||this.parentInjector;if(!o&&null==t.ngModule&&i){const t=i.get(te,null);t&&(o=t)}const s=t.create(i,r,void 0,o);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ae(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ci(e,e[6],e[3]);r.detach(r.indexOf(t))}}const o=this._adjustIndex(e);return function(t,e,n,r){const o=9+r,i=n.length;r>0&&(n[o-1][4]=e),r<i-9?(e[4]=n[o],re(n,9+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[5],r=e[3][3][16];16!=(16&r[2])&&e[16]!==r&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(s,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,o),ni(r,n,!0,fi(o,this._lContainer)),t.attachToViewContainerRef(this),re(this._lContainer[8],o,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=oi(t,e);n&&ii(n[1],n)})(this._lContainer,e),oe(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=oi(this._lContainer,e);return n&&null!=oe(this._lContainer[8],e)?new _i(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const i=r[n.index];if(Ae(i))o=i,function(t,e){t[2]=-2}(o);else{let t;if(4===n.type)t=Mr(i);else if(t=r[11].createComment(""),Me(r)){const e=r[11],o=Ir(n,r);ci(e,di(e,o),t,function(t,e){return mn(t)?t.nextSibling(e):e.nextSibling}(e,o))}else hi(r[1],r,t,n);r[n.index]=o=Fo(i,r,t,n),Uo(r,o)}return new Ci(o,n,r)}let Si=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ti(),t})();const Ti=function(t=!1){return function(t,e,n){if(!n&&Se(t)){const n=Rr(t.index,e);return new _i(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new _i(e[16],e):null}(je(),De(),t)},Pi=new Bt("Set Injector scope."),Mi={},Oi={},Ii=[];let Di=void 0;function Ni(){return void 0===Di&&(Di=new Xt),Di}function Ri(t,e=null,n=null,r){return new ji(t,n,e||Ni(),r)}class ji{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&ne(e,n=>this.processProvider(n,t,e)),ne([t],t=>this.processInjectorType(t,[],o)),this.records.set(zt,Vi(void 0,this));const i=this.records.get(Pi);this.scope=null!=i?i.value:null,this.source=r||("object"==typeof t?null:kt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Ut,n=lt.Default){this.assertNotDestroyed();const r=Gt(this);try{if(!(n&lt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(o=t)||"object"==typeof o&&o instanceof Bt)&&pt(t);e=n&&this.injectableDefInScope(n)?Vi(Li(t),Mi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&lt.Self?Ni():this.parent).get(t,e=n&lt.Optional&&e===Ut?null:e)}catch(i){if("NullInjectorError"===i.name){if((i.ngTempTokenPath=i.ngTempTokenPath||[]).unshift(kt(t)),r)throw i;return function(t,e,n,r){const o=t.ngTempTokenPath;throw e.__source&&o.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let o=kt(e);if(Array.isArray(e))o=e.map(kt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):kt(r)))}o=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(Ht,"\n  ")}`}("\n"+t.message,o,n,r),t.ngTokenPath=o,t.ngTempTokenPath=null,t}(i,t,"R3InjectorError",this.source)}throw i}finally{Gt(r)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(kt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Et(t)))return!1;let r=mt(t);const o=null==r&&t.ngModule||void 0,i=void 0===o?t:o,s=-1!==n.indexOf(i);if(void 0!==o&&(r=mt(o)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(i);try{ne(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ne(r,t=>this.processProvider(t,n,r||Ii))}}this.injectorDefTypes.add(i),this.records.set(i,Vi(r.factory,Mi));const a=r.providers;if(null!=a&&!s){const e=t;ne(a,t=>this.processProvider(t,e,a))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,n){let r=zi(t=Et(t))?t:Et(t&&t.provide);const o=function(t,e,n){return Bi(t)?Vi(void 0,t.useValue):Vi(Fi(t,e,n),Mi)}(t,e,n);if(zi(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Hr()}else{let e=this.records.get(r);e?void 0===e.multi&&Hr():(e=Vi(void 0,Mi,!0),e.factory=()=>Jt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,o)}hydrate(t,e){var n;return e.value===Oi?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(kt(t)):e.value===Mi&&(e.value=Oi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Li(t){const e=pt(t),n=null!==e?e.factory:ke(t);if(null!==n)return n;const r=mt(t);if(null!==r)return r.factory;if(t instanceof Bt)throw new Error(`Token ${kt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${kt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[bt]||t[vt]||t[_t]&&t[_t]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Fi(t,e,n){let r=void 0;if(zi(t)){const e=Et(t);return ke(e)||Li(e)}if(Bi(t))r=()=>Et(t.useValue);else if((o=t)&&o.useFactory)r=()=>t.useFactory(...Jt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Zt(Et(t.useExisting));else{const o=Et(t&&(t.useClass||t.provide));if(o||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${kt(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return ke(o)||Li(o);r=()=>new o(...Jt(t.deps))}var o;return r}function Vi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Bi(t){return null!==t&&"object"==typeof t&&qt in t}function zi(t){return"function"==typeof t}const Ui=function(t,e,n){return function(t,e=null,n=null,r){const o=Ri(t,e,n,r);return o._resolveInjectorDefTypes(),o}({name:n},e,t,n)};let Hi=(()=>{class t{static create(t,e){return Array.isArray(t)?Ui(t,e,""):Ui(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Ut,t.NULL=new Xt,t.\u0275prov=ht({token:t,providedIn:"any",factory:()=>Zt(zt)}),t.__NG_ELEMENT_ID__=-1,t})();const qi=new Bt("AnalyzeForEntryComponents");let $i=new Map;const Wi=new Set;function Gi(t){return"string"==typeof t?t:t.text()}function Yi(t,e){let n=t.styles,r=t.classes,o=0;for(let i=0;i<e.length;i++){const t=e[i];"number"==typeof t?o=t:1==o?r=Ct(r,t):2==o&&(n=Ct(n,t+": "+e[++i]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}let Qi=null;function Zi(){if(!Qi){const t=It.Symbol;if(t&&t.iterator)Qi=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Qi=n)}}}return Qi}function Ki(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Ji{constructor(t){this.wrapped=t}static wrap(t){return new Ji(t)}static unwrap(t){return Ji.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ji}}function Xi(t){return!!ts(t)&&(Array.isArray(t)||!(t instanceof Map)&&Zi()in t)}function ts(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function es(t,e,n){return t[e]=n}function ns(t,e){return t[e]}function rs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function os(t,e,n,r){const o=rs(t,e,n);return rs(t,e+1,r)||o}function is(t,e,n,r){const o=De();return rs(o,qe(),e)&&function(t,e,n,r,o,i,s){const a=Or(t,o),c=o[11];if(null==n)mn(c)?c.removeAttribute(a,e,s):a.removeAttribute(e);else{const o=Dr(r,t),l=null==i?Sn(n):i(n,o.tagName||"",e);mn(c)?c.setAttribute(a,e,l,s):s?a.setAttributeNS(s,e,l):a.setAttribute(e,l)}}(nn(),t,e,Ne(),o,n,r),is}function ss(t,e,n,r){return rs(t,qe(),n)?e+Sn(n)+r:Xr}function as(t,e,n,r,o,i,s,a){const c=De(),l=Ne(),u=t+19,d=l.firstCreatePass?function(t,e,n,r,o,i,s,a,c){const l=e.consts,u=fo(e,n[6],t,0,s||null,Vr(l,a));Eo(e,n,u,Vr(l,c)),an(e,u);const d=u.tViews=ko(2,-1,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l),h=Co(0,null,2,-1,null,null);return h.injectorIndex=u.injectorIndex,d.node=h,null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(t,l,c,e,n,r,o,i,s):l.data[u];Le(d,!1);const h=c[11].createComment("");hi(l,c,h,d),zr(h,c),Uo(c,c[u]=Fo(h,c,h,d)),Te(d)&&_o(l,c,d),null!=s&&vo(c,d,a)}function cs(t){return Nr(Oe.lFrame.contextLView,t)}function ls(t,e=lt.Default){const n=De();return null==n?Zt(t,e):Bn(je(),n,Et(t),e)}function us(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const o=n[r];if(_n(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(o===e)return n[r+1];r+=2}}}return null}(je(),t)}function ds(){throw new Error("invalid")}function hs(t,e,n){const r=De();if(rs(r,qe(),e)){const o=nn();Ao(Ne(),r,o,t,e,n)}return hs}function fs(t,e,n,r,o){const i=o?"class":"style";Ko(t,n,e.inputs[i],i,r)}function ps(t,e,n,r){const o=De(),i=Ne(),s=19+t,a=o[11],c=o[s]=uo(e,a,Oe.lFrame.currentNamespace),l=i.firstCreatePass?function(t,e,n,r,o,i,s){const a=e.consts,c=Vr(a,i),l=fo(e,n[6],t,3,o,c);return Eo(e,n,l,Vr(a,s)),null!==l.mergedAttrs&&Yi(l,l.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,l),l}(t,i,o,0,e,n,r):i.data[s];Le(l,!0);const u=l.mergedAttrs;null!==u&&wn(a,c,u);const d=l.classes;null!==d&&wi(a,c,d);const h=l.styles;null!==h&&bi(a,c,h),hi(i,o,c,l),0===Oe.lFrame.elementDepthCount&&zr(c,o),Oe.lFrame.elementDepthCount++,Te(l)&&(_o(i,o,l),wo(i,l,o)),null!==r&&vo(o,l)}function gs(){let t=je();Fe()?Ve():(t=t.parent,Le(t,!1));const e=t;Oe.lFrame.elementDepthCount--;const n=Ne();n.firstCreatePass&&(an(n,t),Ee(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&fs(n,e,De(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&fs(n,e,De(),e.styles,!1)}function ms(t,e,n,r){ps(t,e,n,r),gs()}function bs(t,e,n){const r=De(),o=Ne(),i=t+19,s=o.firstCreatePass?function(t,e,n,r,o){const i=e.consts,s=Vr(i,r),a=fo(e,n[6],t,4,"ng-container",s);return null!==s&&Yi(a,s),Eo(e,n,a,Vr(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,o,r,e,n):o.data[i];Le(s,!0);const a=r[i]=r[11].createComment("");hi(o,r,a,s),zr(a,r),Te(s)&&(_o(o,r,s),wo(o,s,r)),null!=n&&vo(r,s)}function ws(){let t=je();const e=Ne();Fe()?Ve():(t=t.parent,Le(t,!1)),e.firstCreatePass&&(an(e,t),Ee(t)&&e.queries.elementEnd(t))}function _s(){return De()}function vs(t){return!!t&&"function"==typeof t.then}function ys(t){return!!t&&"function"==typeof t.subscribe}function ks(t,e,n=!1,r){const o=De(),i=Ne(),s=je();return function(t,e,n,r,o,i,s=!1,a){const c=Te(r),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=Yo(e);let d=!0;if(3===r.type){const h=Ir(r,e),f=a?a(h):ue,p=f.target||h,g=u.length,m=a?t=>a(Mr(t[r.index])).target:r.index;if(mn(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const t=o[i];if(t===n&&o[i+1]===r){const t=e[7],n=o[i+2];return t.length>n?t[n]:null}"string"==typeof t&&(i+=2)}return null}(t,e,o,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=i,s.__ngLastListenerFn__=i,d=!1;else{i=xs(r,e,i,!1);const t=n.listen(f.name||p,o,i);u.push(i,t),l&&l.push(o,m,g,g+1)}}else i=xs(r,e,i,!0),p.addEventListener(o,i,s),u.push(i),l&&l.push(o,m,g,s)}const h=r.outputs;let f;if(d&&null!==h&&(f=h[o])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(i),s=u.length;u.push(i,t),l&&l.push(o,r.index,s,-(s+1))}}}(i,o,o[11],s,t,e,n,r),ks}function Cs(t,e,n){try{return!1!==e(n)}catch(r){return Zo(t,r),!1}}function xs(t,e,n,r){return function o(i){if(i===Function)return n;const s=2&t.flags?Rr(t.index,e):e;0==(32&e[2])&&Ho(s);let a=Cs(e,n,i),c=o.__ngNextListenerFn__;for(;c;)a=Cs(e,c,i)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(i.preventDefault(),i.returnValue=!1),a}}function As(t=1){return function(t){return(Oe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Oe.lFrame.contextLView))[8]}(t)}function Es(t,e,n){return Ss(t,"",e,"",n),Es}function Ss(t,e,n,r,o){const i=De(),s=ss(i,e,n,r);if(s!==Xr){const e=nn();Ao(Ne(),i,e,t,s,o)}return Ss}const Ts=[];function Ps(t,e,n,r,o){const i=t[n+1],s=null===e;let a=r?oo(i):so(i),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];Ms(t[a],e)&&(c=!0,t[a+1]=r?co(n):io(n)),a=r?oo(n):so(n)}c&&(t[n+1]=r?io(i):co(i))}function Ms(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ae(t,e)>=0}const Os={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Is(t){return t.substring(Os.key,Os.keyEnd)}function Ds(t,e){const n=Os.textEnd;return n===e?-1:(e=Os.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Os.key=e,n),Ns(t,e,n))}function Ns(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Rs(t,e){return function(t,e,n,r){const o=De(),i=Ne(),s=$e(2);if(i.firstUpdatePass&&Fs(i,t,s,!0),e!==Xr&&rs(o,s,e)){let r;null==n&&(r=function(){const t=Oe.lFrame;return null===t?null:t.currentSanitizer}())&&(n=r),zs(i,i.data[nn()+19],o,o[11],t,o[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=kt(tr(t)))),t}(e,n),!0,s)}}(t,e,null),Rs}function js(t,e){for(let n=function(t){return function(t){Os.key=0,Os.keyEnd=0,Os.value=0,Os.valueEnd=0,Os.textEnd=t.length}(t),Ds(t,Ns(t,0,Os.textEnd))}(e);n>=0;n=Ds(e,n))ie(t,Is(e),!0)}function Ls(t,e){return e>=t.expandoStartIndex}function Fs(t,e,n,r){const o=t.data;if(null===o[n+1]){const i=o[nn()+19],s=Ls(t,n);qs(i,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const o=function(t){const e=Oe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(n=Bs(n=Vs(null,t,e,n,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==o)if(n=Vs(o,t,e,n,r),null===i){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==so(r))return t[oo(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Vs(null,t,e,n[1],r),n=Bs(n,e.attrs,r),function(t,e,n,r){t[oo(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else i=function(t,e,n){let r=void 0;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=Bs(r,t[i].hostAttrs,n);return Bs(r,e.attrs,n)}(t,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),n}(o,i,e,r),function(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=oo(s),c=so(s);t[r]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||ae(t,l)>0)&&(u=!0)}else l=n;if(o)if(0!==c){const e=oo(t[a+1]);t[r+1]=ro(e,a),0!==e&&(t[e+1]=ao(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ro(a,0),0!==a&&(t[a+1]=ao(t[a+1],r)),a=r;else t[r+1]=ro(c,0),0===a?a=r:t[c+1]=ao(t[c+1],r),c=r;u&&(t[r+1]=io(t[r+1])),Ps(t,l,r,!0),Ps(t,l,r,!1),function(t,e,n,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof e&&ae(i,e)>=0&&(n[r+1]=co(n[r+1]))}(e,l,t,r,i),s=ro(a,c),i?e.classBindings=s:e.styleBindings=s}(o,i,e,n,s,r)}}function Vs(t,e,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=e[a],r=Bs(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Bs(t,e,n){const r=n?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ie(t,s,!!n||e[++i]))}return void 0===t?null:t}function zs(t,e,n,r,o,i,s,a){if(3!==e.type)return;const c=t.data,l=c[a+1];Hs(1==(1&l)?Us(c,e,n,o,so(l),s):void 0)||(Hs(i)||function(t){return 2==(2&t)}(l)&&(i=Us(c,null,n,o,a,s)),function(t,e,n,r,o){const i=mn(t);if(e)o?i?t.addClass(n,r):n.classList.add(r):i?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==o?i?t.removeStyle(n,r,e):n.style.removeProperty(r):i?t.setStyle(n,r,o,e):n.style.setProperty(r,o)}}(r,s,Or(nn(),n),o,i))}function Us(t,e,n,r,o,i){const s=null===e;let a=void 0;for(;o>0;){const e=t[o],i=Array.isArray(e),c=i?e[1]:e,l=null===c;let u=n[o+1];u===Xr&&(u=l?Ts:void 0);let d=l?se(u,r):c===r?u:void 0;if(i&&!Hs(d)&&(d=se(e,r)),Hs(d)&&(a=d,s))return a;const h=t[o+1];o=s?oo(h):so(h)}if(null!==e){let t=i?e.residualClasses:e.residualStyles;null!=t&&(a=se(t,r))}return a}function Hs(t){return void 0!==t}function qs(t,e){return 0!=(t.flags&(e?16:32))}function $s(t,e=""){const n=De(),r=Ne(),o=t+19,i=r.firstCreatePass?fo(r,n[6],t,3,null,null):r.data[o],s=n[o]=function(t,e){return mn(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);hi(r,n,s,i),Le(i,!1)}function Ws(t){return Gs("",t,""),Ws}function Gs(t,e,n){const r=De(),o=ss(r,t,e,n);return o!==Xr&&Jo(r,nn(),o),Gs}function Ys(t,e,n,r,o){const i=De(),s=function(t,e,n,r,o,i){const s=os(t,He(),n,o);return $e(2),s?e+Sn(n)+r+Sn(o)+i:Xr}(i,t,e,n,r,o);return s!==Xr&&Jo(i,nn(),s),Ys}function Qs(t,e,n){const r=De();if(rs(r,qe(),e)){const o=nn();Ao(Ne(),r,o,t,e,n,!0)}return Qs}function Zs(t,e){const n=jr(t)[1],r=n.data.length-1;an(n,{directiveStart:r,directiveEnd:r+1})}function Ks(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let o=void 0;if(Pe(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");o=e.\u0275dir}if(o){if(n){r.push(o);const e=t;e.inputs=Js(t.inputs),e.declaredInputs=Js(t.declaredInputs),e.outputs=Js(t.outputs);const n=o.hostBindings;n&&ea(t,n);const i=o.viewQuery,s=o.contentQueries;if(i&&Xs(t,i),s&&ta(t,s),dt(t.inputs,o.inputs),dt(t.declaredInputs,o.declaredInputs),dt(t.outputs,o.outputs),Pe(o)&&o.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(o.data.animation)}e.afterContentChecked=e.afterContentChecked||o.afterContentChecked,e.afterContentInit=t.afterContentInit||o.afterContentInit,e.afterViewChecked=t.afterViewChecked||o.afterViewChecked,e.afterViewInit=t.afterViewInit||o.afterViewInit,e.doCheck=t.doCheck||o.doCheck,e.onDestroy=t.onDestroy||o.onDestroy,e.onInit=t.onInit||o.onInit}const e=o.features;if(e)for(let r=0;r<e.length;r++){const o=e[r];o&&o.ngInherit&&o(t),o===Ks&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=yn(o.hostAttrs,n=yn(n,o.hostAttrs))}}(r)}function Js(t){return t===ue?{}:t===de?[]:t}function Xs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ta(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,o)=>{e(t,r,o),n(t,r,o)}:e}function ea(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class na{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ra(t){t.type.prototype.ngOnChanges&&(t.setInput=oa,t.onChanges=function(){const t=ia(this),e=t&&t.current;if(e){const n=t.previous;if(n===ue)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function oa(t,e,n,r){const o=ia(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ue,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[n],c=s[a];i[a]=new na(c&&c.currentValue,e,s===ue),t[r]=e}function ia(t){return t.__ngSimpleChanges__||null}function sa(t,e,n,r,o){if(t=Et(t),Array.isArray(t))for(let i=0;i<t.length;i++)sa(t[i],e,n,r,o);else{const i=Ne(),s=De();let a=zi(t)?t:Et(t.provide),c=Fi(t);const l=je(),u=65535&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>16;if(zi(t)||!t.multi){const r=new fn(c,o,ls),f=la(a,e,o?u:u+h,d);-1===f?(Vn(Rn(l,s),i,a),aa(i,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=65536),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=la(a,e,u+h,d),p=la(a,e,u,u+h),g=f>=0&&n[f],m=p>=0&&n[p];if(o&&!m||!o&&!g){Vn(Rn(l,s),i,a);const u=function(t,e,n,r,o){const i=new fn(t,n,ls);return i.multi=[],i.index=e,i.componentProviders=0,ca(i,o,r&&!n),i}(o?da:ua,n.length,o,r,c);!o&&m&&(n[p].providerFactory=u),aa(i,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=65536),n.push(u),s.push(u)}else aa(i,t,f>-1?f:p),ca(n[o?p:f],c,!o&&r);!o&&r&&m&&n[p].componentProviders++}}}function aa(t,e,n){if(zi(e)||e.useClass){const r=(e.useClass||e).prototype.ngOnDestroy;r&&(t.destroyHooks||(t.destroyHooks=[])).push(n,r)}}function ca(t,e,n){t.multi.push(e),n&&t.componentProviders++}function la(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function ua(t,e,n,r){return ha(this.multi,[])}function da(t,e,n,r){const o=this.multi;let i;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=qn(n,n[1],this.providerFactory.index,r);i=e.slice(0,t),ha(o,i);for(let n=t;n<e.length;n++)i.push(e[n])}else i=[],ha(o,i);return i}function ha(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function fa(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ne();if(r.firstCreatePass){const o=Pe(t);sa(n,r.data,r.blueprint,o,!0),sa(e,r.data,r.blueprint,o,!1)}}(n,r?r(t):t,e)}}ra.ngInherit=!0;class pa{}class ga{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${kt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ma=(()=>{class t{}return t.NULL=new ga,t})(),ba=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>wa(t),t})();const wa=function(t){return xi(t,je(),De())};class _a{}const va=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ka(),t})();const ka=function(){const t=De(),e=Rr(je().index,t);return function(t){const e=t[11];if(mn(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(xe(e)?e:t)};let Ca=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>null}),t})();class xa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Aa=new xa("9.0.6");class Ea{constructor(){}supports(t){return Xi(t)}create(t){return new Ta(t)}}const Sa=(t,e)=>e;class Ta{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Sa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,o=null;for(;e||n;){const i=!n||e&&e.currentIndex<Ia(n,r,o)?e:n,s=Ia(i,r,o),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)r++;else{o||(o=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<o.length?o[n]:o[n]=0,i=r+n;e<=i&&i<t&&(o[n]=r+1)}o[i.previousIndex]=e-t}}s!==a&&t(i,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Xi(t))throw new Error(`Error trying to diff '${kt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,o=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==o&&Ki(o.trackById,r)?(i&&(o=this._verifyReinsertion(o,n,r,e)),Ki(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,r,e),i=!0),o=o._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Zi()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==o&&Ki(o.trackById,r)?(i&&(o=this._verifyReinsertion(o,t,r,e)),Ki(o.item,t)||this._addIdentityChange(o,t)):(o=this._mismatch(o,t,r,e),i=!0),o=o._next,e++}),this.length=e;return this._truncate(o),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ki(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ki(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):t=this._addAfter(new Pa(e,n),o,r),t}_verifyReinsertion(t,e,n,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Oa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Oa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Pa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ma{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ki(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Oa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ma,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ia(t,e,n){const r=t.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}class Da{constructor(){}supports(t){return t instanceof Map||ts(t)}create(){return new Na}}class Na{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ts(t)))throw new Error(`Error trying to diff '${kt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}const n=new Ra(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ki(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ra{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ja=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new st]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new t([new Ea])}),t})(),La=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new st]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new t([new Da])}),t})();const Fa=[new Da],Va=new ja([new Ea]),Ba=new La(Fa);let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ua(t,ba),t})();const Ua=function(t,e){return Ai(t,e,je(),De())};let Ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qa(t,ba),t})();const qa=function(t,e){return Ei(t,e,je(),De())},$a={};class Wa extends ma{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ye(t);return new Qa(e,this.ngModule)}}function Ga(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ya=new Bt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Pn});class Qa extends pa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Jr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ga(this.componentDef.inputs)}get outputs(){return Ga(this.componentDef.outputs)}create(t,e,n,r){const o=(r=r||this.ngModule)?function(t,e){return{get:(n,r,o)=>{const i=t.get(n,$a,o);return i!==$a||r===$a?i:e.get(n,r,o)}}}(t,r.injector):t,i=o.get(_a,bn),s=o.get(Ca,null),a=i.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(mn(t))return t.selectRootElement(e,n===le.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):uo(c,i.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),h={components:[],scheduler:Pn,clean:Go,playerHandler:null,flags:0},f=ko(0,-1,null,1,0,null,null,null,null,null),p=ho(null,f,h,u,null,null,i,a,s,o);let g,m;Ze(p,null);try{const t=function(t,e,n,r,o,i){const s=n[1];n[19]=t;const a=fo(s,null,0,3,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Yi(a,c),null!==t&&(wn(o,t,c),null!==a.classes&&wi(o,t,a.classes),null!==a.styles&&bi(o,t,a.styles)));const l=r.createRenderer(t,e),u=ho(n,yo(e),null,e.onPush?64:16,n[19],a,r,l,void 0);return s.firstCreatePass&&(Vn(Rn(a,n),s,e.type),Oo(s,a),Do(a,n.length,1)),Uo(n,u),n[19]=u}(l,this.componentDef,p,i,a);if(l)if(n)wn(a,l,["ng-version",Aa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&e.push(i,t[++r]):8===o&&n.push(i);else{if(!Yr(o))break;o=i}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&wn(a,l,t),e&&e.length>0&&wi(a,l,e.join(" "))}m=Dr(p[1],0),e&&(m.projection=e.map(t=>Array.from(t))),g=function(t,e,n,r,o){const i=n[1],s=function(t,e,n){const r=je();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Mo(t,r,1),No(t,e,n));const o=qn(e,t,e.length-1,r);zr(o,e);const i=Ir(r,e);return i&&zr(i,e),o}(i,n,e);r.components.push(s),t[8]=s,o&&o.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=je();if(i.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){rn(a.index-19);const t=n[1];So(t,e),To(t,n,e.hostVars),Po(e,s)}return s}(t,this.componentDef,p,h,[Zs]),po(f,p,null)}finally{en()}const b=new Za(this.componentType,g,xi(ba,m,p),p,m);return n&&!d||(b.hostView._tViewNode.child=m),b}}class Za extends class{}{constructor(t,e,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new vi(r),this.hostView._tViewNode=function(t,e,n,r){let o=t.node;return null==o&&(t.node=o=Co(0,null,2,-1,null,null)),r[6]=o}(r[1],0,0,r),this.componentType=t}get injector(){return new Gn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Ka=void 0;var Ja=["en",[["a","p"],["AM","PM"],Ka],[["AM","PM"],Ka,Ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ka,"{1} 'at' {0}",Ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Xa={};function tc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ec(e);if(n)return n;const r=e.split("-")[0];if(n=ec(r),n)return n;if("en"===r)return Ja;throw new Error(`Missing locale data for the locale "${t}".`)}function ec(t){return t in Xa||(Xa[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),Xa[t]}const nc=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let rc="en-US";function oc(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(rc=t.toLowerCase().replace(/_/g,"-"))}const ic=new Map;class sc extends te{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Wa(this);const n=Ce(t),r=t[Lt]||null;r&&oc(r),this._bootstrapComponents=On(n.bootstrap),this._r3Injector=Ri(t,e,[{provide:te,useValue:this},{provide:ma,useValue:this.componentFactoryResolver}],kt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Hi.THROW_IF_NOT_FOUND,n=lt.Default){return t===Hi||t===te||t===zt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ac extends ee{constructor(t){super(),this.moduleType=t,null!==Ce(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${kt(e)} vs ${kt(e.name)}`)})(t,ic.get(t),e),ic.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new sc(this.moduleType,t)}}function cc(t,e,n){const r=Ue()+t,o=De();return o[r]===Xr?es(o,r,n?e.call(n):e()):ns(o,r)}function lc(t,e,n,r){return uc(De(),Ue(),t,e,n,r)}function uc(t,e,n,r,o,i){const s=e+n;return rs(t,s,o)?es(t,s+1,i?r.call(i,o):r(o)):ns(t,s+1)}function dc(t,e){const n=Ne();let r;const o=t+19;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=ke(r.type)),s=Yt(ls),a=i();return Yt(s),function(t,e,n,r){const o=n+19;o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),e[o]=r}(n,De(),t,a),a}function hc(t,e,n){const r=De(),o=Nr(r,t);return mc(r,gc(r,t)?uc(r,Ue(),e,o.transform,n,o):o.transform(n))}function fc(t,e,n,r){const o=De(),i=Nr(o,t);return mc(o,gc(o,t)?function(t,e,n,r,o,i,s){const a=e+n;return os(t,a,o,i)?es(t,a+2,s?r.call(s,o,i):r(o,i)):ns(t,a+2)}(o,Ue(),e,i.transform,n,r,i):i.transform(n,r))}function pc(t,e,n,r,o){const i=De(),s=Nr(i,t);return mc(i,gc(i,t)?function(t,e,n,r,o,i,s,a){const c=e+n;return function(t,e,n,r,o){const i=os(t,e,n,r);return rs(t,e+2,o)||i}(t,c,o,i,s)?es(t,c+3,a?r.call(a,o,i,s):r(o,i,s)):ns(t,c+3)}(i,Ue(),e,s.transform,n,r,o,s):s.transform(n,r,o))}function gc(t,e){return t[1].data[e+19].pure}function mc(t,e){return Ji.isWrapped(e)&&(e=Ji.unwrap(e),t[He()]=Xr),e}class bc extends A{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,i=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(i=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(i=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,o,i);return t instanceof d&&t.add(s),s}}function wc(){return this._results[Zi()]()}class _c{constructor(){this.dirty=!0,this._results=[],this.changes=new bc,this.length=0;const t=Zi(),e=_c.prototype;e[t]||(e[t]=wc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?(n===e&&(n=e.slice(0,r)),t(o,n)):n!==e&&n.push(o)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class vc{constructor(t){this.queryList=t,this.matches=null}clone(){return new vc(this.queryList)}setDirty(){this.queryList.setDirty()}}class yc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new yc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Oc(t,e).matches&&this.queries[e].setDirty()}}class kc{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Cc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,o=this.getByIndex(n).embeddedTView(t,r);o&&(o.indexInDeclarationView=n,null!==e?e.push(o):e=[o])}return null!==e?new Cc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new xc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Ac(e,n[r]))}else{const n=this.metadata.predicate;n===za?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Hn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ba||r===Ha||r===za&&0===e.type)this.addMatch(e.index,-2);else{const n=Hn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ac(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ec(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?xi(ba,t,e):0===t.type?Ai(za,ba,t,e):null}(e,t):-2===n?function(t,e,n){return n===ba?xi(ba,e,t):n===za?Ai(za,ba,e,t):n===Ha?Ei(Ha,ba,e,t):void 0}(t,e,r):qn(t,t[1],n,e)}function Sc(t,e,n,r){const o=e[5].queries[r];if(null===o.matches){const r=t.data,i=n.matches,s=[];for(let t=0;t<i.length;t+=2){const o=i[t];s.push(o<0?null:Ec(e,r[o],i[t+1],n.metadata.read))}o.matches=s}return o.matches}function Tc(t){const e=De(),n=Ne(),r=Ge();Ye(r+1);const o=Oc(n,r);if(t.dirty&&Lr(e)===o.metadata.isStatic){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?function t(e,n,r,o){const i=e.queries.getByIndex(r),s=i.matches;if(null!==s){const a=Sc(e,n,i,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)o.push(a[e/2]);else{const i=s[e+1],a=n[-r];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,i,o)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,i,o)}}}}}return o}(n,e,r,[]):Sc(n,e,o,r);t.reset(i),t.notifyOnChanges()}return!0}return!1}function Pc(t,e,n,r){!function(t,e,n,r,o,i,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Cc),t.queries.track(new xc(e,n))}(t,new kc(n,r,!1,o),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new _c;!function(t,e,n,r){const o=Yo(e);o.push(n),t.firstCreatePass&&Qo(t).push(r,o.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new yc),e[5].queries.push(new vc(n))}(t,e)}(Ne(),De(),e,n,r,0,je(),t)}function Mc(){return t=De(),e=Ge(),t[5].queries[e].queryList;var t,e}function Oc(t,e){return t.queries.getByIndex(e)}const Ic=ot("Input",t=>({bindingPropertyName:t})),Dc=ot("Output",t=>({bindingPropertyName:t})),Nc=new Bt("Application Initializer");let Rc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();vs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Zt(Nc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const jc=new Bt("AppId"),Lc={provide:jc,useFactory:function(){return`${Fc()}${Fc()}${Fc()}`},deps:[]};function Fc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Vc=new Bt("Platform Initializer"),Bc=new Bt("Platform ID"),zc=new Bt("appBootstrapListener");let Uc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Hc=new Bt("LocaleId"),qc=new Bt("DefaultCurrencyCode");class $c{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Wc=function(t){return new ac(t)},Gc=Wc,Yc=function(t){return Promise.resolve(Wc(t))},Qc=function(t){const e=Wc(t),n=On(Ce(t).declarations).reduce((t,e)=>{const n=ye(e);return n&&t.push(new Qa(n)),t},[]);return new $c(e,n)},Zc=Qc,Kc=function(t){return Promise.resolve(Qc(t))};let Jc=(()=>{class t{constructor(){this.compileModuleSync=Gc,this.compileModuleAsync=Yc,this.compileModuleAndAllComponentsSync=Zc,this.compileModuleAndAllComponentsAsync=Kc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Xc=new Bt("compilerOptions"),tl=(()=>Promise.resolve(0))();function el(t){"undefined"==typeof Zone?tl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class nl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bc(!1),this.onMicrotaskEmpty=new bc(!1),this.onStable=new bc(!1),this.onError=new bc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=It.requestAnimationFrame,e=It.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,()=>{t.lastRequestAnimationFrameId=-1,sl(t),il(t)}),sl(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,o,i,s,a)=>{try{return al(t),n.invokeTask(o,i,s,a)}finally{e&&"eventTask"===i.type&&e(),cl(t)}},onInvoke:(e,n,r,o,i,s,a)=>{try{return al(t),e.invoke(r,o,i,s,a)}finally{cl(t)}},onHasTask:(e,n,r,o)=>{e.hasTask(r,o),n===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,sl(t),il(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(nl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,t,ol,rl,rl);try{return o.runTask(i,e,n)}finally{o.cancelTask(i)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function rl(){}const ol={};function il(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function al(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cl(t){t._nesting--,il(t)}class ll{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bc,this.onMicrotaskEmpty=new bc,this.onStable=new bc,this.onError=new bc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ul=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nl.assertNotInAngularZone(),el(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())el(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Zt(nl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),dl=(()=>{class t{constructor(){this._applications=new Map,pl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return pl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class hl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let fl,pl=new hl,gl=function(t,e,n){const r=new ac(n);if(0===$i.size)return Promise.resolve(r);const o=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(Xc,[]).concat(e).map(t=>t.providers));if(0===o.length)return Promise.resolve(r);const i=function(){const t=It.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),s=Hi.create({providers:o}).get(i.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(s.get(t)))(t);n.set(t,e=r.then(Gi))}return e}return $i.forEach((t,n)=>{const o=[];t.templateUrl&&o.push(r(t.templateUrl).then(e=>{t.template=e}));const i=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;i&&i.forEach((e,n)=>{s.push(""),o.push(r(e).then(r=>{s[a+n]=r,i.splice(i.indexOf(e),1),0==i.length&&(t.styleUrls=void 0)}))});const c=Promise.all(o).then(()=>function(t){Wi.delete(t)}(n));e.push(c)}),$i=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const ml=new Bt("AllowMultipleToken");class bl{constructor(t,e){this.name=t,this.token=e}}function wl(t,e,n=[]){const r=`Platform: ${e}`,o=new Bt(r);return(e=[])=>{let i=_l();if(!i||i.injector.get(ml,!1))if(t)t(n.concat(e).concat({provide:o,useValue:!0}));else{const t=n.concat(e).concat({provide:o,useValue:!0},{provide:Pi,useValue:"platform"});!function(t){if(fl&&!fl.destroyed&&!fl.injector.get(ml,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fl=t.get(vl);const e=t.get(Vc,null);e&&e.forEach(t=>t())}(Hi.create({providers:t,name:r}))}return function(t){const e=_l();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(o)}}function _l(){return fl&&!fl.destroyed?fl:null}let vl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ll:("zone.js"===t?void 0:t)||new nl({enableLongStackTrace:or(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:nl,useValue:n}];return n.run(()=>{const e=Hi.create({providers:r,parent:this.injector,name:t.moduleType.name}),o=t.create(e),i=o.injector.get(Jn,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.onDestroy(()=>Cl(this._modules,o)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{i.handleError(t)}})),function(t,e,n){try{const r=n();return vs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(i,n,()=>{const t=o.injector.get(Rc);return t.runInitializers(),t.donePromise.then(()=>(oc(o.injector.get(Hc,"en-US")||"en-US"),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,e=[]){const n=yl({},e);return gl(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(kl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${kt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Zt(Hi))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function yl(t,e){return Array.isArray(e)?e.reduce(yl,t):Object.assign(Object.assign({},t),e)}let kl=(()=>{class t{constructor(t,e,n,r,o,i){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=or(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{nl.assertNotInAngularZone(),el(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{nl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return S(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof v?t[0]:W(e)(G(t,n))}(s,a.pipe(t=>{return Y()((e=tt,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,J);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof pa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(te),o=n.create(Hi.NULL,[],e||n.selector,r);o.onDestroy(()=>{this._unloadComponent(o)});const i=o.injector.get(ul,null);return i&&o.injector.get(dl).registerApplication(o.location.nativeElement,i),this._loadComponent(o),or()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Cl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(zc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Cl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Zt(nl),Zt(Uc),Zt(Hi),Zt(Jn),Zt(ma),Zt(Rc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Cl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xl{}class Al{}const El={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Sl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||El}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Tl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),o="NgFactory";return void 0===r&&(r="default",o=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+o]).then(t=>Tl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Zt(Jc),Zt(Al,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Tl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Pl=wl(null,"core",[{provide:Bc,useValue:"unknown"},{provide:vl,deps:[Hi]},{provide:dl,deps:[]},{provide:Uc,deps:[]}]),Ml=[{provide:kl,useClass:kl,deps:[nl,Uc,Hi,Jn,ma,Rc]},{provide:Ya,deps:[nl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Rc,useClass:Rc,deps:[[new st,Nc]]},{provide:Jc,useClass:Jc,deps:[]},Lc,{provide:ja,useFactory:function(){return Va},deps:[]},{provide:La,useFactory:function(){return Ba},deps:[]},{provide:Hc,useFactory:function(t){return oc(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new it(Hc),new st,new ct]]},{provide:qc,useValue:"USD"}];let Ol=(()=>{class t{constructor(t){}}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Zt(kl))},providers:Ml}),t})(),Il=null;function Dl(){return Il}const Nl=new Bt("DocumentToken");let Rl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:jl,token:t,providedIn:"platform"}),t})();function jl(){return Zt(Fl)}const Ll=new Bt("Location Initialized");let Fl=(()=>{class t extends Rl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Dl().getLocation(),this._history=Dl().getHistory()}getBaseHrefFromDOM(){return Dl().getBaseHref(this._doc)}onPopState(t){Dl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Dl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Vl()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Vl()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Zt(Nl))},t.\u0275prov=ht({factory:Bl,token:t,providedIn:"platform"}),t})();function Vl(){return!!window.history.pushState}function Bl(){return new Fl(Zt(Nl))}function zl(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Ul(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hl(t){return t&&"?"!==t[0]?"?"+t:t}let ql=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:$l,token:t,providedIn:"root"}),t})();function $l(t){const e=Zt(Nl).location;return new Gl(Zt(Rl),e&&e.origin||"")}const Wl=new Bt("appBaseHref");let Gl=(()=>{class t extends ql{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zl(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Hl(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const o=this.prepareExternalUrl(n+Hl(r));this._platformLocation.pushState(t,e,o)}replaceState(t,e,n,r){const o=this.prepareExternalUrl(n+Hl(r));this._platformLocation.replaceState(t,e,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Zt(Rl),Zt(Wl,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Yl=(()=>{class t extends ql{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=zl(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let o=this.prepareExternalUrl(n+Hl(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)}replaceState(t,e,n,r){let o=this.prepareExternalUrl(n+Hl(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Zt(Rl),Zt(Wl,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Ql=(()=>{class t{constructor(t,e){this._subject=new bc,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Ul(Kl(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Hl(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Kl(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hl(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hl(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Zt(ql),Zt(Rl))},t.normalizeQueryParams=Hl,t.joinWithSlash=zl,t.stripTrailingSlash=Ul,t.\u0275prov=ht({factory:Zl,token:t,providedIn:"root"}),t})();function Zl(){return new Ql(Zt(ql),Zt(Rl))}function Kl(t){return t.replace(/\/index.html$/,"")}const Jl=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),Xl=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),tu=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),eu=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),nu=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),ru=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function ou(t,e){return lu(tc(t)[nc.DateFormat],e)}function iu(t,e){return lu(tc(t)[nc.TimeFormat],e)}function su(t,e){return lu(tc(t)[nc.DateTimeFormat],e)}function au(t,e){const n=tc(t),r=n[nc.NumberSymbols][e];if(void 0===r){if(e===ru.CurrencyDecimal)return n[nc.NumberSymbols][ru.Decimal];if(e===ru.CurrencyGroup)return n[nc.NumberSymbols][ru.Group]}return r}function cu(t){if(!t[nc.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[nc.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function lu(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function uu(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const du=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hu={},fu=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,pu=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),gu=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),mu=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function bu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function wu(t,e,n="-",r,o){let i="";(t<0||o&&t<=0)&&(o?t=1-t:(t=-t,i=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),i+s}function _u(t,e,n=0,r=!1,o=!1){return function(i,s){let a=function(t,e){switch(t){case gu.FullYear:return e.getFullYear();case gu.Month:return e.getMonth();case gu.Date:return e.getDate();case gu.Hours:return e.getHours();case gu.Minutes:return e.getMinutes();case gu.Seconds:return e.getSeconds();case gu.FractionalSeconds:return e.getMilliseconds();case gu.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,i);if((n>0||a>-n)&&(a+=n),t===gu.Hours)0===a&&-12===n&&(a=12);else if(t===gu.FractionalSeconds)return c=e,wu(a,3).substr(0,c);var c;const l=au(s,ru.MinusSign);return wu(a,e,l,r,o)}}function vu(t,e,n=tu.Format,r=!1){return function(o,i){return function(t,e,n,r,o,i){switch(n){case mu.Months:return function(t,e,n){const r=tc(t),o=lu([r[nc.MonthsFormat],r[nc.MonthsStandalone]],e);return lu(o,n)}(e,o,r)[t.getMonth()];case mu.Days:return function(t,e,n){const r=tc(t),o=lu([r[nc.DaysFormat],r[nc.DaysStandalone]],e);return lu(o,n)}(e,o,r)[t.getDay()];case mu.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(i){const t=function(t){const e=tc(t);return cu(e),(e[nc.ExtraData][2]||[]).map(t=>"string"==typeof t?uu(t):[uu(t[0]),uu(t[1])])}(e),n=function(t,e,n){const r=tc(t);cu(r);const o=lu([r[nc.ExtraData][0],r[nc.ExtraData][1]],e)||[];return lu(o,n)||[]}(e,o,r);let i;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:o}=t[0],{hours:c,minutes:l}=t[1];s>=r&&a>=o&&(s<c||s===c&&a<l)&&(i=n[e])}else{const{hours:r,minutes:o}=t;r===s&&o===a&&(i=n[e])}}),i)return i}return function(t,e,n){const r=tc(t),o=lu([r[nc.DayPeriodsFormat],r[nc.DayPeriodsStandalone]],e);return lu(o,n)}(e,o,r)[s<12?0:1];case mu.Eras:return function(t,e){return lu(tc(t)[nc.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,i,t,e,n,r)}}function yu(t){return function(e,n,r){const o=-1*r,i=au(n,ru.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case pu.Short:return(o>=0?"+":"")+wu(s,2,i)+wu(Math.abs(o%60),2,i);case pu.ShortGMT:return"GMT"+(o>=0?"+":"")+wu(s,1,i);case pu.Long:return"GMT"+(o>=0?"+":"")+wu(s,2,i)+":"+wu(Math.abs(o%60),2,i);case pu.Extended:return 0===r?"Z":(o>=0?"+":"")+wu(s,2,i)+":"+wu(Math.abs(o%60),2,i);default:throw new Error(`Unknown zone width "${t}"`)}}}function ku(t,e=!1){return function(n,r){let o;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();o=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(i=n,new Date(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))).getTime()-t.getTime();o=1+Math.round(e/6048e5)}var i;return wu(o,t,au(r,ru.MinusSign))}}const Cu={};function xu(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Au(t){return t instanceof Date&&!isNaN(t.valueOf())}const Eu=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Su(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class Tu{}let Pu=(()=>{class t extends Tu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return tc(t)[nc.PluralCase]}(e||this.locale)(t)){case Xl.Zero:return"zero";case Xl.One:return"one";case Xl.Two:return"two";case Xl.Few:return"few";case Xl.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Zt(Hc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Mu(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,o]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}let Ou=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Xi(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${kt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(ls(ja),ls(La),ls(ba),ls(ya))},t.\u0275dir=_e({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Iu{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Du=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){or()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Iu(null,this._ngForOf,-1,-1),null===r?void 0:r),o=new Nu(t,n);e.push(o)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const o=this._viewContainer.get(n);this._viewContainer.move(o,r);const i=new Nu(t,o);e.push(i)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ls(Ha),ls(za),ls(ja))},t.\u0275dir=_e({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Nu{constructor(t,e){this.record=t,this.view=e}}let Ru=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ju,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Lu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Lu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ls(Ha),ls(za))},t.\u0275dir=_e({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ju{constructor(){this.$implicit=null,this.ngIf=null}}function Lu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${kt(e)}'.`)}let Fu=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(ls(ba),ls(La),ls(ya))},t.\u0275dir=_e({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();function Vu(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${kt(t)}'`)}const Bu=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let zu=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Vu(t,e);return e.replace(Bu,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ve({name:"titlecase",type:t,pure:!0}),t})(),Uu=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,o){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){let o=function(t){if(Au(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(du))return function(t){const e=new Date(0);let n=0,r=0;const o=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),o.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,s,a,c,l),e}(n)}const e=new Date(t);if(!Au(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return tc(t)[nc.LocaleId]}(e);if(hu[r]=hu[r]||{},hu[r][n])return hu[r][n];let o="";switch(n){case"shortDate":o=ou(e,nu.Short);break;case"mediumDate":o=ou(e,nu.Medium);break;case"longDate":o=ou(e,nu.Long);break;case"fullDate":o=ou(e,nu.Full);break;case"shortTime":o=iu(e,nu.Short);break;case"mediumTime":o=iu(e,nu.Medium);break;case"longTime":o=iu(e,nu.Long);break;case"fullTime":o=iu(e,nu.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");o=bu(su(e,nu.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),s=t(e,"mediumDate");o=bu(su(e,nu.Medium),[i,s]);break;case"long":const a=t(e,"longTime"),c=t(e,"longDate");o=bu(su(e,nu.Long),[a,c]);break;case"full":const l=t(e,"fullTime"),u=t(e,"fullDate");o=bu(su(e,nu.Full),[l,u])}return o&&(hu[r][n]=o),o}(n,e)||e;let i,s=[];for(;e;){if(i=fu.exec(e),!i){s.push(e);break}{s=s.concat(i.slice(1));const t=s.pop();if(!t)break;e=t}}let a=o.getTimezoneOffset();r&&(a=xu(r,a),o=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(xu(e,r)-r))}(o,r));let c="";return s.forEach(t=>{const e=function(t){if(Cu[t])return Cu[t];let e;switch(t){case"G":case"GG":case"GGG":e=vu(mu.Eras,eu.Abbreviated);break;case"GGGG":e=vu(mu.Eras,eu.Wide);break;case"GGGGG":e=vu(mu.Eras,eu.Narrow);break;case"y":e=_u(gu.FullYear,1,0,!1,!0);break;case"yy":e=_u(gu.FullYear,2,0,!0,!0);break;case"yyy":e=_u(gu.FullYear,3,0,!1,!0);break;case"yyyy":e=_u(gu.FullYear,4,0,!1,!0);break;case"M":case"L":e=_u(gu.Month,1,1);break;case"MM":case"LL":e=_u(gu.Month,2,1);break;case"MMM":e=vu(mu.Months,eu.Abbreviated);break;case"MMMM":e=vu(mu.Months,eu.Wide);break;case"MMMMM":e=vu(mu.Months,eu.Narrow);break;case"LLL":e=vu(mu.Months,eu.Abbreviated,tu.Standalone);break;case"LLLL":e=vu(mu.Months,eu.Wide,tu.Standalone);break;case"LLLLL":e=vu(mu.Months,eu.Narrow,tu.Standalone);break;case"w":e=ku(1);break;case"ww":e=ku(2);break;case"W":e=ku(1,!0);break;case"d":e=_u(gu.Date,1);break;case"dd":e=_u(gu.Date,2);break;case"E":case"EE":case"EEE":e=vu(mu.Days,eu.Abbreviated);break;case"EEEE":e=vu(mu.Days,eu.Wide);break;case"EEEEE":e=vu(mu.Days,eu.Narrow);break;case"EEEEEE":e=vu(mu.Days,eu.Short);break;case"a":case"aa":case"aaa":e=vu(mu.DayPeriods,eu.Abbreviated);break;case"aaaa":e=vu(mu.DayPeriods,eu.Wide);break;case"aaaaa":e=vu(mu.DayPeriods,eu.Narrow);break;case"b":case"bb":case"bbb":e=vu(mu.DayPeriods,eu.Abbreviated,tu.Standalone,!0);break;case"bbbb":e=vu(mu.DayPeriods,eu.Wide,tu.Standalone,!0);break;case"bbbbb":e=vu(mu.DayPeriods,eu.Narrow,tu.Standalone,!0);break;case"B":case"BB":case"BBB":e=vu(mu.DayPeriods,eu.Abbreviated,tu.Format,!0);break;case"BBBB":e=vu(mu.DayPeriods,eu.Wide,tu.Format,!0);break;case"BBBBB":e=vu(mu.DayPeriods,eu.Narrow,tu.Format,!0);break;case"h":e=_u(gu.Hours,1,-12);break;case"hh":e=_u(gu.Hours,2,-12);break;case"H":e=_u(gu.Hours,1);break;case"HH":e=_u(gu.Hours,2);break;case"m":e=_u(gu.Minutes,1);break;case"mm":e=_u(gu.Minutes,2);break;case"s":e=_u(gu.Seconds,1);break;case"ss":e=_u(gu.Seconds,2);break;case"S":e=_u(gu.FractionalSeconds,1);break;case"SS":e=_u(gu.FractionalSeconds,2);break;case"SSS":e=_u(gu.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=yu(pu.Short);break;case"ZZZZZ":e=yu(pu.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=yu(pu.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=yu(pu.Long);break;default:return null}return Cu[t]=e,e}(t);c+=e?e(o,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,o||this.locale,r)}catch(i){throw Vu(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(ls(Hc))},t.\u0275pipe=ve({name:"date",type:t,pure:!0}),t})(),Hu=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(function(t){return null==t||""===t||t!=t}(e))return null;r=r||this._locale;try{return function(t,e,n){return function(t,e,n,r,o,i,s=!1){let a="",c=!1;if(isFinite(t)){let l=function(t){let e,n,r,o,i,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(i=s.length))e=[0],n=1;else{for(i--;"0"===s.charAt(i);)i--;for(n-=r,e=[],o=0;r<=i;r++,o++)e[o]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(l=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(i){const t=i.match(Eu);if(null===t)throw new Error(`${i} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(u=Su(e)),null!=n&&(d=Su(n)),null!=r?h=Su(r):null!=n&&d>h&&(h=d)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,o=r.length-t.integerLen;const i=Math.min(Math.max(e,o),n);let s=i+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{o=Math.max(0,o),t.integerLen=1,r.length=Math.max(1,s=i+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;o<Math.max(0,i);o++)r.push(0);let c=0!==i;const l=e+t.integerLen,u=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,c&&(0===r[n]&&n>=l?r.pop():c=!1),e>=10?1:0}),0);u&&(r.unshift(u),t.integerLen++)}(l,d,h);let f=l.digits,p=l.integerLen;const g=l.exponent;let m=[];for(c=f.every(t=>!t);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const b=[];for(f.length>=e.lgSize&&b.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)b.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&b.unshift(f.join("")),a=b.join(au(n,r)),m.length&&(a+=au(n,o)+m.join("")),g&&(a+=au(n,ru.Exponential)+"+"+g)}else a=au(n,ru.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),o=r[0],i=r[1],s=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],a=s[0],c=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const t=c.charAt(u);"0"===t?n.minFrac=n.maxFrac=u+1:"#"===t?n.maxFrac=u+1:n.posSuf+=t}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,i){const t=o.length-n.posPre.length-n.posSuf.length,e=i.indexOf("#");n.negPre=i.substr(0,e).replace(/'/g,""),n.negSuf=i.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return tc(t)[nc.NumberFormats][e]}(e,Jl.Decimal),au(e,ru.MinusSign)),e,ru.Group,ru.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),r,n)}catch(o){throw Vu(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(ls(Hc))},t.\u0275pipe=ve({name:"number",type:t,pure:!0}),t})(),qu=(()=>{class t{}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[{provide:Tu,useClass:Pu}]}),t})(),$u=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new Wu(Zt(Nl),window,Zt(Jn))}),t})();class Wu{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class Gu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Gu,Il||(Il=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Qu||(Qu=document.querySelector("base"),Qu)?Qu.getAttribute("href"):null;return null==e?null:(n=e,Yu||(Yu=document.createElement("a")),Yu.setAttribute("href",n),"/"===Yu.pathname.charAt(0)?Yu.pathname:"/"+Yu.pathname);var n}resetBaseElement(){Qu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Mu(document.cookie,t)}}let Yu,Qu=null;const Zu=new Bt("TRANSITION_ID"),Ku=[{provide:Nc,useFactory:function(t,e,n){return()=>{n.get(Rc).donePromise.then(()=>{const n=Dl();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Zu,Nl,Hi],multi:!0}];class Ju{static init(){var t;t=new Ju,pl=t}addToWindow(t){It.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},It.getAllAngularTestabilities=()=>t.getAllTestabilities(),It.getAllAngularRootElements=()=>t.getAllRootElements(),It.frameworkStabilizers||(It.frameworkStabilizers=[]),It.frameworkStabilizers.push(t=>{const e=It.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Dl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Xu=new Bt("EventManagerPlugins");let td=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Xu),Zt(nl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class ed{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Dl().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let nd=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),rd=(()=>{class t extends nd{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Dl().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Zt(Nl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const od={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},id=/%COMP%/g;function sd(t,e,n){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?sd(t,o,n):(o=o.replace(id,t),n.push(o))}return n}function ad(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let cd=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ld(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case le.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ud(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case le.Native:case le.ShadowDom:return new dd(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=sd(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Zt(td),Zt(rd),Zt(jc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class ld{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(od[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const o=od[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=od[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&va.DashCase?t.style.setProperty(e,n,r&va.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&va.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ad(n)):this.eventManager.addEventListener(t,e,ad(n))}}class ud extends ld{constructor(t,e,n,r){super(t),this.component=n;const o=sd(r+"-"+n.id,n.styles,[]);e.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(id,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(id,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class dd extends ld{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===le.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=sd(r.id,r.styles,[]);for(let i=0;i<o.length;i++){const t=document.createElement("style");t.textContent=o[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let hd=(()=>{class t extends ed{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Nl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const fd=["alt","control","meta","shift"],pd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},md={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let bd=(()=>{class t extends ed{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const o=t.parseEventName(n),i=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dl().onAndCancel(e,o.domEventName,i))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(n.pop());let i="";if(fd.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),i+=t+".")}),i+=o,0!=n.length||0===o.length)return null;const s={};return s.domEventName=r,s.fullKey=i,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&gd.hasOwnProperty(e)&&(e=gd[e]))}return pd[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),fd.forEach(r=>{r!=n&&(0,md[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return o=>{t.getEventFullKey(o)===e&&r.runGuarded(()=>n(o))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Zt(Nl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const wd=wl(Pl,"browser",[{provide:Bc,useValue:"browser"},{provide:Vc,useValue:function(){Gu.makeCurrent(),Ju.init()},multi:!0},{provide:Nl,useFactory:function(){return function(t){pn=t}(document),document},deps:[]}]),_d=[[],{provide:Pi,useValue:"root"},{provide:Jn,useFactory:function(){return new Jn},deps:[]},{provide:Xu,useClass:hd,multi:!0,deps:[Nl,nl,Bc]},{provide:Xu,useClass:bd,multi:!0,deps:[Nl]},[],{provide:cd,useClass:cd,deps:[td,rd,jc]},{provide:_a,useExisting:cd},{provide:nd,useExisting:rd},{provide:rd,useClass:rd,deps:[Nl]},{provide:ul,useClass:ul,deps:[nl]},{provide:td,useClass:td,deps:[Xu,nl]},[]];let vd=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:jc,useValue:e.appId},{provide:Zu,useExisting:jc},Ku]}}}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Zt(t,12))},providers:_d,imports:[qu,Ol]}),t})();function yd(){return new kd(Zt(Nl))}let kd=(()=>{class t{constructor(t){this._doc=t,this._dom=Dl()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._doc.querySelectorAll(`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");return this._setMetaElementAttributes(t,n),this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>e.setAttribute(n,t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>e.getAttribute(n)===t[n])}}return t.\u0275fac=function(e){return new(e||t)(Zt(Nl))},t.\u0275prov=ht({factory:yd,token:t,providedIn:"root"}),t})();function Cd(...t){let e=t[t.length-1];return S(e)?(t.pop(),B(t,e)):G(t)}"undefined"!=typeof window&&window;class xd extends A{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new k;return this._value}next(t){super.next(this._value=t)}}const Ad=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Ed={};class Sd{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Td(t,this.resultSelector))}}class Td extends j{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ed),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(R(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,o){const i=this.values,s=this.toRespond?i[n]===Ed?--this.toRespond:this.toRespond:0;i[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Pd=new v(t=>t.complete());function Md(t){return t?function(t){return new v(e=>t.schedule(()=>e.complete()))}(t):Pd}function Od(t){return new v(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?z(n):Md()).subscribe(e)})}function Id(){return W(1)}function Dd(t,e){return function(n){return n.lift(new Nd(t,e))}}class Nd{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Rd(t,this.predicate,this.thisArg))}}class Rd extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const jd=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ld(t){return function(e){return 0===t?Md():e.lift(new Fd(t))}}class Fd{constructor(t){if(this.total=t,this.total<0)throw new jd}call(t,e){return e.subscribe(new Vd(t,this.total))}}class Vd extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let o=0;o<n;o++){const o=e++%n;t.next(r[o])}}t.complete()}}function Bd(t=Hd){return e=>e.lift(new zd(t))}class zd{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ud(t,this.errorFactory))}}class Ud extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Hd(){return new Ad}function qd(t=null){return e=>e.lift(new $d(t))}class $d{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Wd(t,this.defaultValue))}}class Wd extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Gd(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dd((e,n)=>t(e,n,r)):$,Ld(1),n?qd(e):Bd(()=>new Ad))}function Yd(t){return function(e){const n=new Qd(t),r=e.lift(n);return n.caught=r}}class Qd{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Zd(t,this.selector,this.caught))}}class Zd extends j{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new T(this,void 0,void 0);this.add(r);const o=R(this,n,void 0,void 0,r);o!==r&&this.add(o)}}}function Kd(t){return e=>0===t?Md():e.lift(new Jd(t))}class Jd{constructor(t){if(this.total=t,this.total<0)throw new jd}call(t,e){return e.subscribe(new Xd(t,this.total))}}class Xd extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function th(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dd((e,n)=>t(e,n,r)):$,Kd(1),n?qd(e):Bd(()=>new Ad))}class eh{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new nh(t,this.predicate,this.thisArg,this.source))}}class nh extends p{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function rh(t,e){return"function"==typeof e?n=>n.pipe(rh((n,r)=>z(t(n,r)).pipe(L((t,o)=>e(n,t,r,o))))):e=>e.lift(new oh(t))}class oh{constructor(t){this.project=t}call(t,e){return e.subscribe(new ih(t,this.project))}}class ih extends j{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const o=new T(this,e,n),i=this.destination;i.add(o),this.innerSubscription=R(this,t,void 0,void 0,o),this.innerSubscription!==o&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,o){this.destination.next(e)}}function sh(...t){return Id()(Cd(...t))}function ah(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ch(t,e,n))}}class ch{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new lh(t,this.accumulator,this.seed,this.hasSeed))}}class lh extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function uh(t,e){return U(t,e,1)}function dh(t,e,n){return function(r){return r.lift(new hh(t,e,n))}}class hh{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new fh(t,this.nextOrObserver,this.error,this.complete))}}class fh extends p{constructor(t,e,n,o){super(t),this._tapNext=b,this._tapError=b,this._tapComplete=b,this._tapError=n||b,this._tapComplete=o||b,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||b,this._tapError=e.error||b,this._tapComplete=e.complete||b)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class ph{constructor(t){this.callback=t}call(t,e){return e.subscribe(new gh(t,this.callback))}}class gh extends p{constructor(t,e){super(t),this.add(new d(e))}}class mh{constructor(t,e){this.id=t,this.url=e}}class bh extends mh{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wh extends mh{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _h extends mh{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vh extends mh{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yh extends mh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kh extends mh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ch extends mh{constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xh extends mh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ah extends mh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Th{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ph{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ih{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Dh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&ms(0,"router-outlet")},directives:function(){return[Vp]},encapsulation:2}),t})();class Nh{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Rh(t){return new Nh(t)}function jh(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Lh(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const e=r[i],n=t[i];if(e.startsWith(":"))o[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}class Fh{constructor(t,e){this.routes=t,this.module=e}}function Vh(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Bh(r,zh(e,r))}}function Bh(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Vh(t.children,e)}function zh(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Uh(t){const e=t.children&&t.children.map(Uh),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Dh),n}function Hh(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!qh(t[o],e[o]))return!1;return!0}function qh(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function $h(t){return Array.prototype.concat.apply([],t)}function Wh(t){return t.length>0?t[t.length-1]:null}function Gh(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Yh(t){return ys(t)?t:vs(t)?z(Promise.resolve(t)):Cd(t)}function Qh(t,e,n){return n?function(t,e){return Hh(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Xh(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>qh(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,o){if(n.segments.length>o.length)return!!Xh(n.segments.slice(0,o.length),o)&&!r.hasChildren();if(n.segments.length===o.length){if(!Xh(n.segments,o))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=o.slice(0,n.segments.length),i=o.slice(n.segments.length);return!!Xh(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,i)}}(e,n,n.segments)}(t.root,e.root)}class Zh{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rh(this.queryParams)),this._queryParamMap}toString(){return rf.serialize(this)}}class Kh{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Gh(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return of(this)}}class Jh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Rh(this.parameters)),this._parameterMap}toString(){return df(this)}}function Xh(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function tf(t,e){let n=[];return Gh(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Gh(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class ef{}class nf{parse(t){const e=new mf(t);return new Zh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return of(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Gh(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=tf(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${of(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${af(e)}=${af(t)}`).join("&"):`${af(e)}=${af(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const rf=new nf;function of(t){return t.segments.map(t=>df(t)).join("/")}function sf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function af(t){return sf(t).replace(/%3B/gi,";")}function cf(t){return sf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lf(t){return decodeURIComponent(t)}function uf(t){return lf(t.replace(/\+/g,"%20"))}function df(t){return`${cf(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${cf(t)}=${cf(e[t])}`).join("")}`;var e}const hf=/^[^\/()?;=#]+/;function ff(t){const e=t.match(hf);return e?e[0]:""}const pf=/^[^=?&#]+/,gf=/^[^?&#]+/;class mf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kh([],{}):new Kh([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Kh(t,e)),n}parseSegment(){const t=ff(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Jh(lf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ff(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=ff(this.remaining);t&&(n=t,this.capture(n))}t[lf(e)]=lf(n)}parseQueryParam(t){const e=function(t){const e=t.match(pf);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(gf);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=uf(e),o=uf(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ff(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o="primary");const i=this.parseChildren();e[o]=1===Object.keys(i).length?i.primary:new Kh([],i),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class bf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wf(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=wf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=_f(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return _f(t,this._root).map(t=>t.value)}}function wf(t,e){if(t===e.value)return e;for(const n of e.children){const e=wf(t,n);if(e)return e}return null}function _f(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_f(t,n);if(r.length)return r.unshift(e),r}return[]}class vf{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function yf(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class kf extends bf{constructor(t,e){super(t),this.snapshot=e,Tf(this,t)}toString(){return this.snapshot.toString()}}function Cf(t,e){const n=function(t,e){const n=new Ef([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Sf("",new vf(n,[]))}(t,e),r=new xd([new Jh("",{})]),o=new xd({}),i=new xd({}),s=new xd({}),a=new xd(""),c=new xf(r,o,s,a,i,"primary",e,n.root);return c.snapshot=n.root,new kf(new vf(c,[]),n)}class xf{constructor(t,e,n,r,o,i,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(L(t=>Rh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(L(t=>Rh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Af(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ef{constructor(t,e,n,r,o,i,s,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sf extends bf{constructor(t,e){super(e),this.url=t,Tf(this,e)}toString(){return Pf(this._root)}}function Tf(t,e){e.value._routerState=t,e.children.forEach(e=>Tf(t,e))}function Pf(t){const e=t.children.length>0?` { ${t.children.map(Pf).join(", ")} } `:"";return`${t.value}${e}`}function Mf(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Hh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Hh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Hh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Hh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Of(t,e){var n,r;return Hh(t.params,e.params)&&Xh(n=t.url,r=e.url)&&n.every((t,e)=>Hh(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Of(t.parent,e.parent))}function If(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Df(t,e,n,r,o){let i={};return r&&Gh(r,(t,e)=>{i[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Zh(n.root===t?e:function t(e,n,r){const o={};return Gh(e.children,(e,i)=>{o[i]=e===n?r:t(e,n,r)}),new Kh(e.segments,o)}(n.root,t,e),i,o)}class Nf{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&If(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Wh(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rf{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function jf(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function Lf(t,e,n){if(t||(t=new Kh([],{})),0===t.segments.length&&t.hasChildren())return Ff(t,e,n);const r=function(t,e,n){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;const e=t.segments[o],s=jf(n[r]),a=r<n.length-1?n[r+1]:null;if(o>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Uf(s,a,e))return i;r+=2}else{if(!Uf(s,{},e))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Kh(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Kh(t.segments.slice(r.pathIndex),t.children),Ff(e,0,o)}return r.match&&0===o.length?new Kh(t.segments,{}):r.match&&!t.hasChildren()?Vf(t,e,n):r.match?Ff(t,0,o):Vf(t,e,n)}function Ff(t,e,n){if(0===n.length)return new Kh(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),o={};return Gh(r,(n,r)=>{null!==n&&(o[r]=Lf(t.children[r],e,n))}),Gh(t.children,(t,e)=>{void 0===r[e]&&(o[e]=t)}),new Kh(t.segments,o)}}function Vf(t,e,n){const r=t.segments.slice(0,e);let o=0;for(;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){const t=Bf(n[o].outlets);return new Kh(r,t)}if(0===o&&If(n[0])){r.push(new Jh(t.segments[e].path,n[0])),o++;continue}const i=jf(n[o]),s=o<n.length-1?n[o+1]:null;i&&s&&If(s)?(r.push(new Jh(i,zf(s))),o+=2):(r.push(new Jh(i,{})),o++)}return new Kh(r,{})}function Bf(t){const e={};return Gh(t,(t,n)=>{null!==t&&(e[n]=Vf(new Kh([],{}),0,t))}),e}function zf(t){const e={};return Gh(t,(t,n)=>e[n]=`${t}`),e}function Uf(t,e,n){return t==n.path&&Hh(e,n.parameters)}class Hf{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Mf(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=yf(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Gh(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=yf(t),o=t.value.component?n.children:e;Gh(r,(t,e)=>this.deactivateRouteAndItsChildren(t,o)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=yf(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Oh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ph(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(Mf(r),r===o)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),qf(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),o=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=o,e.outlet&&e.outlet.activateWith(r,o),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function qf(t){Mf(t.value),t.children.forEach(qf)}function $f(t){return"function"==typeof t}function Wf(t){return t instanceof Zh}class Gf{constructor(t){this.segmentGroup=t||null}}class Yf{constructor(t){this.urlTree=t}}function Qf(t){return new v(e=>e.error(new Gf(t)))}function Zf(t){return new v(e=>e.error(new Yf(t)))}function Kf(t){return new v(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Jf{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(te)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(L(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yd(t=>{if(t instanceof Yf)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Gf)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(L(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Yd(t=>{if(t instanceof Gf)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Kh([],{primary:t}):t;return new Zh(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(L(t=>new Kh([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Cd({});const n=[],r=[],o={};return Gh(t,(t,i)=>{const s=e(i,t).pipe(L(t=>o[i]=t));"primary"===i?n.push(s):r.push(s)}),Cd.apply(null,n.concat(r)).pipe(Id(),Gd(),L(()=>o))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,o,i){return Cd(...n).pipe(L(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,o,i).pipe(Yd(t=>{if(t instanceof Gf)return Cd(null);throw t}))),Id(),th(t=>!!t),Yd((t,n)=>{if(t instanceof Ad||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,o))return Cd(new Kh([],{}));throw new Gf(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,o,i,s){return np(r)!==i?Qf(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i):Qf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Zf(o):this.lineralizeSegments(n,o).pipe(U(n=>{const o=new Kh(n,{});return this.expandSegment(t,o,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Xf(e,r,o);if(!s)return Qf(e);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Zf(u):this.lineralizeSegments(r,u).pipe(U(r=>this.expandSegment(t,e,n,r.concat(o.slice(c)),i,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(L(t=>(n._loadedConfig=t,new Kh(r,{})))):Cd(new Kh(r,{}));const{matched:o,consumedSegments:i,lastChild:s}=Xf(e,n,r);if(!o)return Qf(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(U(t=>{const n=t.module,r=t.routes,{segmentGroup:o,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>ep(t,e,n)&&"primary"!==np(n))}(t,n,r)?{segmentGroup:tp(new Kh(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==np(r)&&(n[np(r)]=new Kh([],{}));return n}(r,new Kh(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>ep(t,e,n))}(t,n,r)?{segmentGroup:tp(new Kh(t.segments,function(t,e,n,r){const o={};for(const i of n)ep(t,e,i)&&!r[np(i)]&&(o[np(i)]=new Kh([],{}));return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,i,a,r);return 0===s.length&&o.hasChildren()?this.expandChildren(n,r,o).pipe(L(t=>new Kh(i,t))):0===r.length&&0===s.length?Cd(new Kh(i,{})):this.expandSegment(n,o,r,s,"primary",!0).pipe(L(t=>new Kh(i.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Cd(new Fh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Cd(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?z(r).pipe(L(r=>{const o=t.get(r);let i;if(function(t){return t&&$f(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!$f(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Yh(i)})).pipe(Id(),(o=t=>!0===t,t=>t.lift(new eh(o,void 0,t)))):Cd(!0);var o}(t.injector,e,n).pipe(U(n=>n?this.configLoader.load(t.injector,e).pipe(L(t=>(e._loadedConfig=t,t))):function(t){return new v(e=>e.error(jh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Cd(new Fh([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Cd(n);if(r.numberOfChildren>1||!r.children.primary)return Kf(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const o=this.createSegmentGroup(t,e.root,n,r);return new Zh(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Gh(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const o=t.substring(1);n[r]=e[o]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const o=this.createSegments(t,e.segments,n,r);let i={};return Gh(e.children,(e,o)=>{i[o]=this.createSegmentGroup(t,e,n,r)}),new Kh(o,i)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Xf(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Lh)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function tp(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Kh(t.segments.concat(e.segments),e.children)}return t}function ep(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function np(t){return t.outlet||"primary"}class rp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class op{constructor(t,e){this.component=t,this.route=e}}function ip(t,e,n){const r=t._root;return function t(e,n,r,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=yf(n);return e.children.forEach(e=>{!function(e,n,r,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Xh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xh(t.url,e.url)||!Hh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Of(t,e)||!Hh(t.queryParams,e.queryParams);case"paramsChange":default:return!Of(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new rp(o)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?c?c.children:null:r,o,i),l&&i.canDeactivateChecks.push(new op(c&&c.outlet&&c.outlet.component||null,a))}else a&&ap(n,c,i),i.canActivateChecks.push(new rp(o)),t(e,null,s.component?c?c.children:null:r,o,i)}(e,s[e.value.outlet],r,o.concat([e.value]),i),delete s[e.value.outlet]}),Gh(s,(t,e)=>ap(t,r.getContext(e),i)),i}(r,e?e._root:null,n,[r.value])}function sp(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ap(t,e,n){const r=yf(t),o=t.value;Gh(r,(t,r)=>{ap(t,o.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new op(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}const cp=Symbol("INITIAL_VALUE");function lp(){return rh(t=>function(...t){let e=null,n=null;return S(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),G(t,n).lift(new Sd(e))}(...t.map(t=>t.pipe(Kd(1),function(...t){const e=t[t.length-1];return S(e)?(t.pop(),n=>sh(t,n,e)):e=>sh(t,e)}(cp)))).pipe(ah((t,e)=>{let n=!1;return e.reduce((t,r,o)=>{if(t!==cp)return t;if(r===cp&&(n=!0),!n){if(!1===r)return r;if(o===e.length-1||Wf(r))return r}return t},t)},cp),Dd(t=>t!==cp),L(t=>Wf(t)?t:!0===t),Kd(1)))}function up(t,e){return null!==t&&e&&e(new Mh(t)),Cd(!0)}function dp(t,e){return null!==t&&e&&e(new Th(t)),Cd(!0)}function hp(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Cd(r.map(r=>Od(()=>{const o=sp(r,e,n);let i;if(function(t){return t&&$f(t.canActivate)}(o))i=Yh(o.canActivate(e,t));else{if(!$f(o))throw new Error("Invalid CanActivate guard");i=Yh(o(e,t))}return i.pipe(th())}))).pipe(lp()):Cd(!0)}function fp(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Od(()=>Cd(e.guards.map(o=>{const i=sp(o,e.node,n);let s;if(function(t){return t&&$f(t.canActivateChild)}(i))s=Yh(i.canActivateChild(r,t));else{if(!$f(i))throw new Error("Invalid CanActivateChild guard");s=Yh(i(r,t))}return s.pipe(th())})).pipe(lp())));return Cd(o).pipe(lp())}class pp{}class gp{constructor(t,e,n,r,o,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=i}recognize(){try{const t=wp(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Ef([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vf(n,e),o=new Sf(this.url,r);return this.inheritParamsAndData(o._root),Cd(o)}catch(t){return new v(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Af(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=tf(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(o){if(!(o instanceof pp))throw o}if(this.noLeftoversInUrl(e,n,r))return[];throw new pp}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new pp;if((t.outlet||"primary")!==r)throw new pp;let o,i=[],s=[];if("**"===t.path){const i=n.length>0?Wh(n).parameters:{};o=new Ef(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yp(t),r,t.component,t,mp(e),bp(e)+n.length,kp(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new pp;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Lh)(n,t,e);if(!r)throw new pp;const o={};Gh(r.posParams,(t,e)=>{o[e]=t.path});const i=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:i}}(e,t,n);i=a.consumedSegments,s=n.slice(a.lastChild),o=new Ef(i,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yp(t),r,t.component,t,mp(e),bp(e)+i.length,kp(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=wp(e,i,s,a,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new vf(o,t)]}if(0===a.length&&0===l.length)return[new vf(o,[])];const u=this.processSegment(a,c,l,"primary");return[new vf(o,u)]}}function mp(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function bp(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function wp(t,e,n,r,o){if(n.length>0&&function(t,e,n){return n.some(n=>_p(t,e,n)&&"primary"!==vp(n))}(t,n,r)){const o=new Kh(e,function(t,e,n,r){const o={};o.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const i of n)if(""===i.path&&"primary"!==vp(i)){const n=new Kh([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,o[vp(i)]=n}return o}(t,e,r,new Kh(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>_p(t,e,n))}(t,n,r)){const i=new Kh(t.segments,function(t,e,n,r,o,i){const s={};for(const a of r)if(_p(t,n,a)&&!o[vp(a)]){const n=new Kh([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===i?t.segments.length:e.length,s[vp(a)]=n}return Object.assign(Object.assign({},o),s)}(t,e,n,r,t.children,o));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}const i=new Kh(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function _p(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function vp(t){return t.outlet||"primary"}function yp(t){return t.data||{}}function kp(t){return t.resolve||{}}function Cp(t,e,n,r){const o=sp(t,e,r);return Yh(o.resolve?o.resolve(e,n):o(e,n))}function xp(t){return function(e){return e.pipe(rh(e=>{const n=t(e);return n?z(n).pipe(L(()=>e)):z([e])}))}}class Ap{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Ep=new Bt("ROUTES");class Sp{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(L(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Fh($h(r.injector.get(Ep)).map(Uh),r)}))}loadModuleFactory(t){return"string"==typeof t?z(this.loader.load(t)):Yh(t()).pipe(U(t=>t instanceof ee?Cd(t):z(this.compiler.compileModuleAsync(t))))}}class Tp{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Pp(t){throw t}function Mp(t,e,n){return e.parse("/")}function Op(t,e){return Cd(null)}let Ip=(()=>{class t{constructor(t,e,n,r,o,i,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new A,this.errorHandler=Pp,this.malformedUriErrorHandler=Mp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Op,afterPreactivation:Op},this.urlHandlingStrategy=new Tp,this.routeReuseStrategy=new Ap,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(te),this.console=o.get(Uc);const c=o.get(nl);this.isNgZoneEnabled=c instanceof nl,this.resetConfig(a),this.currentUrlTree=new Zh(new Kh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sp(i,s,t=>this.triggerEvent(new Eh(t)),t=>this.triggerEvent(new Sh(t))),this.routerState=Cf(this.currentUrlTree,this.rootComponentType),this.transitions=new xd({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Dd(t=>0!==t.id),L(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),rh(t=>{let n=!1,r=!1;return Cd(t).pipe(dh(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),rh(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Cd(t).pipe(rh(t=>{const n=this.transitions.getValue();return e.next(new bh(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Pd:[t]}),rh(t=>Promise.resolve(t)),(r=this.ngModule.injector,o=this.configLoader,i=this.urlSerializer,s=this.config,function(t){return t.pipe(rh(t=>function(t,e,n,r,o){return new Jf(t,e,n,r,o).apply()}(r,o,i,t.extractedUrl,s).pipe(L(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),dh(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,o){return function(i){return i.pipe(U(i=>function(t,e,n,r,o="emptyOnly",i="legacy"){return new gp(t,e,n,r,o,i).recognize()}(t,e,i.urlAfterRedirects,n(i.urlAfterRedirects),r,o).pipe(L(t=>Object.assign(Object.assign({},i),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),dh(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),dh(t=>{const n=new yh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,o,i,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:o,restoredState:i,extras:s}=t,a=new bh(n,this.serializeUrl(r),o,i);e.next(a);const c=Cf(r,this.rootComponentType).snapshot;return Cd(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Pd}),xp(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:o,extras:{skipLocationChange:i,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!i,replaceUrl:!!s})}),dh(t=>{const e=new kh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),L(t=>Object.assign(Object.assign({},t),{guards:ip(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(U(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?Cd(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return z(t).pipe(U(t=>function(t,e,n,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?Cd(i.map(i=>{const s=sp(i,e,o);let a;if(function(t){return t&&$f(t.canDeactivate)}(s))a=Yh(s.canDeactivate(t,e,n,r));else{if(!$f(s))throw new Error("Invalid CanDeactivate guard");a=Yh(s(t,e,n,r))}return a.pipe(th())})).pipe(lp()):Cd(!0)}(t.component,t.route,n,e,r)),th(t=>!0!==t,!0))}(s,r,o,t).pipe(U(n=>n&&"boolean"==typeof n?function(t,e,n,r){return z(e).pipe(uh(e=>z([dp(e.route.parent,r),up(e.route,r),fp(t,e.path,n),hp(t,e.route,n)]).pipe(Id(),th(t=>!0!==t,!0))),th(t=>!0!==t,!0))}(r,i,t,e):Cd(n)),L(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),dh(t=>{if(Wf(t.guardsResult)){const e=jh(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),dh(t=>{const e=new Ch(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Dd(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new _h(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),xp(t=>{if(t.guards.canActivateChecks.length)return Cd(t).pipe(dh(t=>{const e=new xh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(U(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;return o.length?z(o).pipe(uh(t=>function(t,e,n,r){return function(t,e,n,r){const o=Object.keys(t);if(0===o.length)return Cd({});if(1===o.length){const i=o[0];return Cp(t[i],e,n,r).pipe(L(t=>({[i]:t})))}const i={};return z(o).pipe(U(o=>Cp(t[o],e,n,r).pipe(L(t=>(i[o]=t,t))))).pipe(Gd(),L(()=>i))}(t._resolve,t,e,r).pipe(L(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Af(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return w(ah(t,e),Ld(1),qd(e))(n)}:function(e){return w(ah((e,n,r)=>t(e,n,r+1)),Ld(1))(e)}}((t,e)=>t),L(e=>t)):Cd(t)}))}),dh(t=>{const e=new Ah(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),xp(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:o,extras:{skipLocationChange:i,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!i,replaceUrl:!!s})}),L(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const o=r.value;o._futureSnapshot=n.value;const i=function(e,n,r){return n.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(o.value.snapshot,n.value))return t(e,n,o);return t(e,n)})}(e,n,r);return new vf(o,i)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new xf(new xd((o=n.value).url),new xd(o.params),new xd(o.queryParams),new xd(o.fragment),new xd(o.data),o.outlet,o.component,o),i=n.children.map(n=>t(e,n));return new vf(r,i)}}var o}(t,e._root,n?n._root:void 0);return new kf(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),dh(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),L(t=>(new Hf(s,t.targetRouterState,t.currentRouterState,a).activate(i),t))),dh({next(){n=!0},complete(){n=!0}}),(o=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new _h(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ph(o))),Yd(n=>{if(r=!0,(o=n)&&o.ngNavigationCancelingError){const r=Wf(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const o=new _h(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(o),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new vh(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}var o;return Pd}));var o,i,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Vh(t),this.config=t.map(Uh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:o,preserveQueryParams:i,queryParamsHandling:s,preserveFragment:a}=e;or()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=a?this.currentUrlTree.fragment:o;let u=null;if(s)switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}else u=i?this.currentUrlTree.queryParams:r||null;return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,o){if(0===n.length)return Df(e.root,e.root,e,r,o);const i=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Nf(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Gh(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===o?(r.split("/").forEach((r,o)=>{0==o&&"."===r||(0==o&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Nf(n,e,r)}(n);if(i.toRoot())return Df(e.root,new Kh([],{}),e,r,o);const s=function(t,e,n){if(t.isAbsolute)return new Rf(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Rf(n.snapshot._urlSegment,!0,0);const r=If(t.commands[0])?0:1;return function(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Rf(r,!1,o-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(i,e,t),a=s.processChildren?Ff(s.segmentGroup,s.index,i.commands):Lf(s.segmentGroup,s.index,i.commands);return Df(s.segmentGroup,a,e,r,o)}(c,this.currentUrlTree,t,u,l)}navigateByUrl(t,e={skipLocationChange:!1}){or()&&this.isNgZoneEnabled&&!nl.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Wf(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Wf(t))return Qh(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Qh(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new wh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,o){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,c;o?(s=o.resolve,a=o.reject,c=o.promise):c=new Promise((t,e)=>{s=t,a=e});const l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const o=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(o)||e?this.location.replaceState(o,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(o,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){ds()},t.\u0275dir=_e({type:t}),t})(),Dp=(()=>{class t{constructor(t,e,n,r,o){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(o.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){or()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Rp(this.skipLocationChange),replaceUrl:Rp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Rp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Rp(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(ls(Ip),ls(xf),us("tabindex"),ls(ya),ls(ba))},t.\u0275dir=_e({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&ks("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),Np=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof wh&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){or()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Rp(this.skipLocationChange),replaceUrl:Rp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Rp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Rp(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(ls(Ip),ls(xf),ls(ql))},t.\u0275dir=_e({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&ks("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(Qs("href",e.href,Tr),is("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ra]}),t})();function Rp(t){return""===t||!!t}let jp=(()=>{class t{constructor(t,e,n,r,o){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof wh&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(ls(Ip),ls(ba),ls(ya),ls(Dp,8),ls(Np,8))},t.\u0275dir=_e({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(Pc(n,Dp,!0),Pc(n,Np,!0)),2&t&&(Tc(r=Mc())&&(e.links=r),Tc(r=Mc())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ra]}),t})();class Lp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fp,this.attachRef=null}}class Fp{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Lp,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Vp=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new bc,this.deactivateEvents=new bc,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,o=new Bp(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(ls(Fp),ls(Ha),ls(ma),us("name"),ls(Si))},t.\u0275dir=_e({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Bp{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===xf?this.route:t===Fp?this.childContexts:this.parent.get(t,e)}}class zp{}class Up{preload(t,e){return Cd(null)}}let Hp=(()=>{class t{constructor(t,e,n,r,o){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new Sp(e,n,e=>t.triggerEvent(new Eh(e)),e=>t.triggerEvent(new Sh(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dd(t=>t instanceof wh),uh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(te);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return z(n).pipe(W(),L(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(U(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Zt(Ip),Zt(xl),Zt(Jc),Zt(Hi),Zt(zp))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),qp=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ih&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ih(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){ds()},t.\u0275dir=_e({type:t}),t})();const $p=new Bt("ROUTER_CONFIGURATION"),Wp=new Bt("ROUTER_FORROOT_GUARD"),Gp=[Ql,{provide:ef,useClass:nf},{provide:Ip,useFactory:function(t,e,n,r,o,i,s,a={},c,l){const u=new Ip(null,t,e,n,r,o,i,$h(s));if(c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),a.errorHandler&&(u.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(u.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=Dl();u.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(u.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(u.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(u.relativeLinkResolution=a.relativeLinkResolution),u},deps:[ef,Fp,Ql,Hi,xl,Jc,Ep,$p,[class{},new st],[class{},new st]]},Fp,{provide:xf,useFactory:function(t){return t.routerState.root},deps:[Ip]},{provide:xl,useClass:Sl},Hp,Up,class{preload(t,e){return e().pipe(Yd(()=>Cd(null)))}},{provide:$p,useValue:{enableTracing:!1}}];function Yp(){return new bl("Router",Ip)}let Qp=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Gp,Xp(e),{provide:Wp,useFactory:Jp,deps:[[Ip,new st,new ct]]},{provide:$p,useValue:n||{}},{provide:ql,useFactory:Kp,deps:[Rl,[new it(Wl),new st],$p]},{provide:qp,useFactory:Zp,deps:[Ip,$u,$p]},{provide:zp,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Up},{provide:bl,multi:!0,useFactory:Yp},[tg,{provide:Nc,multi:!0,useFactory:eg,deps:[tg]},{provide:rg,useFactory:ng,deps:[tg]},{provide:zc,multi:!0,useExisting:rg}]]}}static forChild(e){return{ngModule:t,providers:[Xp(e)]}}}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Zt(Wp,8),Zt(Ip,8))}}),t})();function Zp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new qp(t,e,n)}function Kp(t,e,n={}){return n.useHash?new Yl(t,e):new Gl(t,e)}function Jp(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Xp(t){return[{provide:qi,multi:!0,useValue:t},{provide:Ep,multi:!0,useValue:t}]}let tg=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new A}appInitializer(){return this.injector.get(Ll,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Ip),r=this.injector.get($p);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Cd(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get($p),n=this.injector.get(Hp),r=this.injector.get(qp),o=this.injector.get(Ip),i=this.injector.get(kl);t===i.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Zt(Hi))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function eg(t){return t.appInitializer.bind(t)}function ng(t){return t.bootstrapListener.bind(t)}const rg=new Bt("Router Initializer");let og=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-header"]],decls:27,vars:0,consts:[[1,"ae-container-fluid","ae-container-fluid--full","rk-header"],["type","checkbox","id","mobile-menu",1,"rk-mobile-menu"],["for","mobile-menu"],[0,"xlink","href","assets/img/symbols.svg#bar"],[1,"ae-container-fluid","rk-topbar"],[1,"rk-logo"],["routerLink","/home"],["src","assets/img/joysweets.png","width","209","height","37","alt","JOYSWEETS"],[1,"rk-navigation"],[1,"rk-menu"],["routerLinkActive","active",1,"active","rk-menu__item"],["routerLink","/home",1,"rk-menu__link"],["routerLinkActive","active",1,"rk-menu__item"],["routerLink","/about",1,"rk-menu__link"],["routerLink","/blog",1,"rk-menu__link"],["routerLink","/contacto",1,"rk-menu__link"]],template:function(t,e){1&t&&(ps(0,"header",0),ms(1,"input",1),ps(2,"label",2),on(),ps(3,"svg"),ms(4,"use",3),gs(),ps(5,"svg"),ms(6,"use",3),gs(),ps(7,"svg"),ms(8,"use",3),gs(),gs(),sn(),ps(9,"div",4),ps(10,"h1",5),ps(11,"a",6),ms(12,"img",7),gs(),gs(),ps(13,"nav",8),ps(14,"ul",9),ps(15,"li",10),ps(16,"a",11),$s(17,"Home"),gs(),gs(),ps(18,"li",12),ps(19,"a",13),$s(20,"Sobre m\xed"),gs(),gs(),ps(21,"li",12),ps(22,"a",14),$s(23,"Blog"),gs(),gs(),ps(24,"li",12),ps(25,"a",15),$s(26,"Contacto"),gs(),gs(),gs(),gs(),gs(),gs())},directives:[Np,jp],styles:[""]}),t})(),ig=(()=>{class t{constructor(){this.anio=(new Date).getFullYear()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-footer"]],decls:25,vars:1,consts:[[1,"ae-container-fluid","rk-footer"],[1,"ae-grid","ae-grid--collapse"],[1,"ae-grid__item","item-lg-center","au-xs-ta-center"],["href","https://www.instagram.com/joy.sweets/","target","_blank",1,"rk-social-btn"],[0,"xlink","href","assets/img/symbols.svg#icon-instagram"],[1,"rk-menu","rk-footer-menu"],["routerLinkActive","active",1,"rk-menu__item"],["routerLink","/avisoLegal",1,"rk-menu__link"],["routerLink","/privacidad",1,"rk-menu__link"],["routerLink","/cookies",1,"rk-menu__link"],["routerLink","/contacto",1,"rk-menu__link"],[1,"rk-footer__text","rk-footer__copy"],[1,"ae-u-bold"],[1,"ae-u-bolder"]],template:function(t,e){1&t&&(ps(0,"footer",0),ps(1,"div",1),ps(2,"div",2),ps(3,"a",3),on(),ps(4,"svg"),ms(5,"use",4),gs(),gs(),gs(),sn(),ps(6,"div",2),ps(7,"ul",5),ps(8,"li",6),ps(9,"a",7),$s(10,"Aviso Legal"),gs(),gs(),ps(11,"li",6),ps(12,"a",8),$s(13,"Pol\xedtica de Privacidad"),gs(),gs(),ps(14,"li",6),ps(15,"a",9),$s(16,"Pol\xedtica de Cookies"),gs(),gs(),ps(17,"li",6),ps(18,"a",10),$s(19,"Contacto"),gs(),gs(),gs(),ps(20,"p",11),ps(21,"span",12),$s(22,"\xa9 "),gs(),ps(23,"span",13),$s(24),gs(),gs(),gs(),gs(),gs()),2&t&&(eo(24),Gs("",e.anio," JOYSWEETS "))},directives:[jp,Np],styles:[""]}),t})(),sg=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-pages"]],decls:3,vars:0,template:function(t,e){1&t&&(ms(0,"app-header"),ms(1,"router-outlet"),ms(2,"app-footer"))},directives:[og,Vp,ig],styles:[""]}),t})();const ag="https://joysweets.herokuapp.com";class cg{}class lg{}class ug{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),o=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ug?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ug;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ug?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===o.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class dg{encodeKey(t){return hg(t)}encodeValue(t){return hg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function hg(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class fg{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new dg,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[o,i]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(o)||[];s.push(i),n.set(o,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new fg({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function pg(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function gg(t){return"undefined"!=typeof Blob&&t instanceof Blob}function mg(t){return"undefined"!=typeof FormData&&t instanceof FormData}class bg{constructor(t,e,n,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new ug),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new fg,this.urlWithParams=e}serializeBody(){return null===this.body?null:pg(this.body)||gg(this.body)||mg(this.body)||"string"==typeof this.body?this.body:this.body instanceof fg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:mg(this.body)?null:gg(this.body)?this.body.type||null:pg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,i=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new bg(e,n,o,{params:c,headers:a,reportProgress:s,responseType:r,withCredentials:i})}}const wg=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class _g{constructor(t,e=200,n="OK"){this.headers=t.headers||new ug,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class vg extends _g{constructor(t={}){super(t),this.type=wg.ResponseHeader}clone(t={}){return new vg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yg extends _g{constructor(t={}){super(t),this.type=wg.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new yg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kg extends _g{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Cg(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let xg=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof bg)r=t;else{let o=void 0;o=n.headers instanceof ug?n.headers:new ug(n.headers);let i=void 0;n.params&&(i=n.params instanceof fg?n.params:new fg({fromObject:n.params})),r=new bg(t,e,void 0!==n.body?n.body:null,{headers:o,params:i,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const o=Cd(r).pipe(uh(t=>this.handler.handle(t)));if(t instanceof bg||"events"===n.observe)return o;const i=o.pipe(Dd(t=>t instanceof yg));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return i.pipe(L(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return i.pipe(L(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return i.pipe(L(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return i.pipe(L(t=>t.body))}case"response":return i;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new fg).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Cg(n,e))}post(t,e,n={}){return this.request("POST",t,Cg(n,e))}put(t,e,n={}){return this.request("PUT",t,Cg(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Zt(cg))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Ag{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Eg=new Bt("HTTP_INTERCEPTORS");let Sg=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Tg=/^\)\]\}',?\n/;class Pg{}let Mg=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Og=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new v(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let o=null;const i=()=>{if(null!==o)return o;const e=1223===n.status?204:n.status,r=n.statusText||"OK",i=new ug(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return o=new vg({headers:i,status:e,statusText:r,url:s}),o},s=()=>{let{headers:r,status:o,statusText:s,url:a}=i(),c=null;204!==o&&(c=void 0===n.response?n.responseText:n.response),0===o&&(o=c?200:0);let l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(Tg,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=t,l&&(l=!1,c={error:u,text:c})}}l?(e.next(new yg({body:c,headers:r,status:o,statusText:s,url:a||void 0})),e.complete()):e.error(new kg({error:c,headers:r,status:o,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=i(),o=new kg({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(o)};let c=!1;const l=r=>{c||(e.next(i()),c=!0);let o={type:wg.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(o.total=r.total),"text"===t.responseType&&n.responseText&&(o.partialText=n.responseText),e.next(o)},u=t=>{let n={type:wg.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:wg.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Zt(Pg))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Ig=new Bt("XSRF_COOKIE_NAME"),Dg=new Bt("XSRF_HEADER_NAME");class Ng{}let Rg=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Zt(Nl),Zt(Bc),Zt(Ig))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),jg=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Ng),Zt(Dg))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Lg=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Eg,[]);this.chain=t.reduceRight((t,e)=>new Ag(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Zt(lg),Zt(Hi))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Fg=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:jg,useClass:Sg}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Ig,useValue:e.cookieName}:[],e.headerName?{provide:Dg,useValue:e.headerName}:[]]}}}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[jg,{provide:Eg,useExisting:jg,multi:!0},{provide:Ng,useClass:Rg},{provide:Ig,useValue:"XSRF-TOKEN"},{provide:Dg,useValue:"X-XSRF-TOKEN"}]}),t})(),Vg=(()=>{class t{}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[xg,{provide:cg,useClass:Lg},Og,{provide:lg,useExisting:Og},Mg,{provide:Pg,useExisting:Mg}],imports:[[Fg.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),Bg=(()=>{class t{constructor(t){this.http=t,this.cargarPosts()}cargarPosts(){return new Promise((t,e)=>{this.http.get("https://joysweets.herokuapp.com/posts/posts").subscribe(e=>{this.posts=e,t()})})}getReceta(t){return this.http.get(ag+"/posts/post/"+t)}getComentarios(){return this.http.get("https://joysweets.herokuapp.com/comentarios/comentarios")}getComentariosidPost(){return this.getComentarios().pipe(Dd(t=>"Espectacular"===t.comentario))}}return t.\u0275fac=function(e){return new(e||t)(Zt(xg))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var zg=n("LvDl");let Ug=(()=>{class t{transform(t){return t?zg.sortBy(t,(function(t){return t.idPost})).reverse():""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ve({name:"sort",type:t,pure:!0}),t})();function Hg(t,e){if(1&t&&(ps(0,"a",4),ms(1,"img",5),ps(2,"div",6),ps(3,"h2"),$s(4),gs(),ps(5,"p"),$s(6),gs(),gs(),gs()),2&t){const t=e.$implicit;Ss("routerLink","/receta/",t.idPost,""),eo(1),Es("src",t.imagen,Tr),Es("alt",t.nombre),eo(3),Ws(t.nombre),eo(2),Ws(t.categoria)}}let qg=(()=>{class t{constructor(t){this.postsService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(ls(Bg))},t.\u0275cmp=fe({type:t,selectors:[["app-home"]],decls:5,vars:3,consts:[[1,"ae-container-fluid","rk-main"],[1,"ae-container-fluid","ae-container-fluid--inner","rk-portfolio"],[1,"animated","fadeIn","ae-masonry","ae-masonry-md-2","ae-masonry-xl-3"],["class","rk-item ae-masonry__item",3,"routerLink",4,"ngFor","ngForOf"],[1,"rk-item","ae-masonry__item",3,"routerLink"],[3,"src","alt"],[1,"item-meta"]],template:function(t,e){1&t&&(ps(0,"section",0),ps(1,"section",1),ps(2,"div",2),as(3,Hg,7,5,"a",3),dc(4,"sort"),gs(),gs(),gs()),2&t&&(eo(3),hs("ngForOf",hc(4,1,e.postsService.posts)))},directives:[Du,Np],pipes:[Ug],styles:[""]}),t})(),$g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-about"]],decls:24,vars:0,consts:[[1,"ae-container-fluid","ae-container-fluid--inner","rk-main","animated","fadeIn"],[1,"ae-grid","au-xs-ta-center"],[1,"ae-grid__item","item-lg-12","ae-kappa"],["src","assets/img/about.jpg","alt","Sobre m\xed",1,"au-mb-3"],[1,"ae-grid","au-pt-2"],[1,"ae-grid__item","item-lg-8","item-lg--offset-2","justify"],[1,"ae-u-bolder","azul"],[1,"ae-u-bolder","au-mb-3"],[1,"au-mb-3"],[1,"au-flex","group-buttons"],["routerLink","/blog",1,"au-mt-3","arrow-button","arrow-button--right","arrow-button--out"],[1,"arrow-cont"],[0,"xlink","href","assets/img/symbols.svg#arrow"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"div",2),ms(3,"img",3),gs(),gs(),ps(4,"div",4),ps(5,"div",5),ps(6,"h4",6),$s(7,"HOLA! ME LLAMO JOSE"),gs(),ps(8,"p",7),$s(9,"Soy Desarrollador Web y vivo en Gij\xf3n, en el Principado de Asturias"),gs(),ps(10,"p",8),$s(11,"Mi pasi\xf3n comenz\xf3 cuando termin\xe9 los estudios de Ingenier\xeda T\xe9cnica Industrial. M\xe1s tarde viv\xed 4 a\xf1os en Valencia donde estudi\xe9 Dise\xf1o Gr\xe1fico y un M\xe1ster de Aplicaciones Web."),gs(),ps(12,"p",8),$s(13,"Continu\xe9 con mi formaci\xf3n y estudi\xe9 el Grado Superior de Desarrollo de Aplicaciones Web en La Laboral, en Gij\xf3n."),gs(),ps(14,"p",8),$s(15,"Adem\xe1s del Dise\xf1o y la Programaci\xf3n me gusta cocinar, y sobre todo comer, y me apetec\xeda compartir con vosotros las recetas que m\xe1s me gustan. Soy un llambi\xf3n, por eso todas las recetas son dulces."),gs(),ps(16,"p",8),$s(17,"Espero que os gusten!"),gs(),gs(),ps(18,"p",9),ps(19,"a",10),$s(20,"Ver Recetas"),ps(21,"span",11),on(),ps(22,"svg"),ms(23,"use",12),gs(),gs(),gs(),gs(),gs(),gs())},directives:[Np],styles:[""]}),t})();function Wg(t,e){if(1&t){var n=_s();ps(0,"a",11),ks("keyup.enter",(function(){return Re(n),As(3),cs(1).previous()}))("click",(function(){return Re(n),As(3),cs(1).previous()})),$s(1),ps(2,"span",12),$s(3),gs(),gs()}if(2&t){var r=As(3);is("aria-label",r.previousLabel+" "+r.screenReaderPageLabel),eo(1),Gs(" ",r.previousLabel," "),eo(2),Ws(r.screenReaderPageLabel)}}function Gg(t,e){if(1&t&&(ps(0,"span"),$s(1),ps(2,"span",12),$s(3),gs(),gs()),2&t){var n=As(3);eo(1),Gs(" ",n.previousLabel," "),eo(2),Ws(n.screenReaderPageLabel)}}function Yg(t,e){if(1&t&&(ps(0,"li",8),as(1,Wg,4,3,"a",9),as(2,Gg,4,2,"span",10),gs()),2&t){As(2);var n=cs(1);Rs("disabled",n.isFirstPage()),eo(1),hs("ngIf",1<n.getCurrent()),eo(1),hs("ngIf",n.isFirstPage())}}function Qg(t,e){if(1&t){var n=_s();ps(0,"a",11),ks("keyup.enter",(function(){Re(n);var t=As().$implicit;return As(2),cs(1).setCurrent(t.value)}))("click",(function(){Re(n);var t=As().$implicit;return As(2),cs(1).setCurrent(t.value)})),ps(1,"span",12),$s(2),gs(),ps(3,"span"),$s(4),dc(5,"number"),gs(),gs()}if(2&t){var r=As().$implicit,o=As(2);eo(2),Gs("",o.screenReaderPageLabel," "),eo(2),Ws("..."===r.label?r.label:fc(5,2,r.label,""))}}function Zg(t,e){if(1&t&&(bs(0),ps(1,"span",12),$s(2),gs(),ps(3,"span"),$s(4),dc(5,"number"),gs(),ws()),2&t){var n=As().$implicit,r=As(2);eo(2),Gs("",r.screenReaderCurrentLabel," "),eo(2),Ws("..."===n.label?n.label:fc(5,2,n.label,""))}}function Kg(t,e){if(1&t&&(ps(0,"li"),as(1,Qg,6,5,"a",9),as(2,Zg,6,5,"ng-container",10),gs()),2&t){var n=e.$implicit;As(2);var r=cs(1);Rs("current",r.getCurrent()===n.value)("ellipsis","..."===n.label),eo(1),hs("ngIf",r.getCurrent()!==n.value),eo(1),hs("ngIf",r.getCurrent()===n.value)}}function Jg(t,e){if(1&t){var n=_s();ps(0,"a",11),ks("keyup.enter",(function(){return Re(n),As(3),cs(1).next()}))("click",(function(){return Re(n),As(3),cs(1).next()})),$s(1),ps(2,"span",12),$s(3),gs(),gs()}if(2&t){var r=As(3);is("aria-label",r.nextLabel+" "+r.screenReaderPageLabel),eo(1),Gs(" ",r.nextLabel," "),eo(2),Ws(r.screenReaderPageLabel)}}function Xg(t,e){if(1&t&&(ps(0,"span"),$s(1),ps(2,"span",12),$s(3),gs(),gs()),2&t){var n=As(3);eo(1),Gs(" ",n.nextLabel," "),eo(2),Ws(n.screenReaderPageLabel)}}function tm(t,e){if(1&t&&(ps(0,"li",13),as(1,Jg,4,3,"a",9),as(2,Xg,4,2,"span",10),gs()),2&t){As(2);var n=cs(1);Rs("disabled",n.isLastPage()),eo(1),hs("ngIf",!n.isLastPage()),eo(1),hs("ngIf",n.isLastPage())}}function em(t,e){if(1&t&&(ps(0,"ul",3),as(1,Yg,3,4,"li",4),ps(2,"li",5),$s(3),gs(),as(4,Kg,3,6,"li",6),as(5,tm,3,4,"li",7),gs()),2&t){var n=As(),r=cs(1);Rs("responsive",n.responsive),is("aria-label",n.screenReaderPaginationLabel),eo(1),hs("ngIf",n.directionLinks),eo(2),Ys(" ",r.getCurrent()," / ",r.getLastPage()," "),eo(1),hs("ngForOf",r.pages),eo(1),hs("ngIf",n.directionLinks)}}var nm=function(){function t(){this.change=new bc,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),rm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},om=Number.MAX_SAFE_INTEGER,im=function(){function t(t){this.service=t,this.state={}}return t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var r,o,i=e.totalItems&&e.totalItems!==t.length,s=this.createInstance(t,e),a=s.id,c=s.itemsPerPage,l=this.service.register(s);if(!i&&t instanceof Array){if(this.stateIsIdentical(a,t,r=(s.currentPage-1)*(c=+c||om),o=r+c))return this.state[a].slice;var u=t.slice(r,o);return this.saveState(a,t,u,r,o),this.service.change.emit(a),u}return l&&this.service.change.emit(a),this.saveState(a,t,t,r,o),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter((function(e){return!(e in t)}));if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,r,o){this.state[t]={collection:e,size:e.length,slice:n,start:r,end:o}},t.prototype.stateIsIdentical=function(t,e,n,r){var o=this.state[t];return!!o&&!(o.size!==e.length||o.start!==n||o.end!==r)&&o.slice.every((function(t,r){return t===e[n+r]}))},(t=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}([rm("design:paramtypes",[nm])],t)).\u0275fac=function(e){return new(e||t)(ls(nm))},t.\u0275pipe=ve({name:"paginate",type:t,pure:!1}),t}(),sm=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},am=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function cm(t){return!!t&&"false"!==t}var lm=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new bc,this.pageBoundsCorrection=new bc,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=cm(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=cm(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=cm(t)},enumerable:!0,configurable:!0}),sm([Ic(),am("design:type",String)],t.prototype,"id",void 0),sm([Ic(),am("design:type",Number)],t.prototype,"maxSize",void 0),sm([Ic(),am("design:type",Boolean),am("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),sm([Ic(),am("design:type",Boolean),am("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),sm([Ic(),am("design:type",Boolean),am("design:paramtypes",[Boolean])],t.prototype,"responsive",null),sm([Ic(),am("design:type",String)],t.prototype,"previousLabel",void 0),sm([Ic(),am("design:type",String)],t.prototype,"nextLabel",void 0),sm([Ic(),am("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),sm([Ic(),am("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),sm([Ic(),am("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),sm([Dc(),am("design:type",bc)],t.prototype,"pageChange",void 0),sm([Dc(),am("design:type",bc)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination","role","navigation",3,"responsive",4,"ngIf"],["role","navigation",1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,e){if(1&t&&(ps(0,"pagination-template",0,1),ks("pageChange",(function(t){return e.pageChange.emit(t)}))("pageBoundsCorrection",(function(t){return e.pageBoundsCorrection.emit(t)})),as(2,em,6,8,"ul",2),gs()),2&t){var n=cs(1);hs("id",e.id)("maxSize",e.maxSize),eo(2),hs("ngIf",!(e.autoHide&&n.pages.length<=1))}},directives:function(){return[hm,Ru,Du]},pipes:function(){return[Hu]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),t}(),um=function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},hm=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new bc,this.pageBoundsCorrection=new bc,this.pages=[],this.changeSub=this.service.change.subscribe((function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())}))}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout((function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)})):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,r){r=+r;for(var o=[],i=Math.ceil(n/e),s=Math.ceil(r/2),a=t<=s,c=i-s<t,l=!a&&!c,u=r<i,d=1;d<=i&&d<=r;){var h=this.calculatePageNumber(d,t,r,i);o.push({label:u&&(2===d&&(l||c)||d===r-1&&(l||a))?"...":h,value:h}),d++}return o},t.prototype.calculatePageNumber=function(t,e,n,r){var o=Math.ceil(n/2);return t===n?r:1===t?t:n<r?r-o<e?r-n+t:o<e?e-o+t:t:t},um([Ic(),dm("design:type",String)],t.prototype,"id",void 0),um([Ic(),dm("design:type",Number)],t.prototype,"maxSize",void 0),um([Dc(),dm("design:type",bc)],t.prototype,"pageChange",void 0),um([Dc(),dm("design:type",bc)],t.prototype,"pageBoundsCorrection",void 0),(t=um([dm("design:paramtypes",[nm,Si])],t)).\u0275fac=function(e){return new(e||t)(ls(nm),ls(Si))},t.\u0275dir=_e({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[ra]}),t}(),fm=function(){function t(){}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[nm],imports:[[qu]]}),t}();let pm=(()=>{class t{transform(t,e=250,n=!1,r=" [...]"){return t.length<e?`${t.substr(0,e)}`:(n&&(e=t.substr(0,e).lastIndexOf(" ")),`${t.substr(0,e)}${r}`)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ve({name:"truncate",type:t,pure:!0}),t})();function gm(t,e){if(1&t&&(ps(0,"div",17),ps(1,"a",18),$s(2),gs(),ps(3,"span",19),$s(4),dc(5,"titlecase"),dc(6,"date"),gs(),ps(7,"a",20),$s(8,"Continuar Leyendo"),ps(9,"span",10),on(),ps(10,"svg"),ms(11,"use",11),gs(),gs(),gs(),gs()),2&t){const t=As().$implicit;eo(1),Ss("routerLink","/receta/",t.idPost,""),eo(1),Gs("",t.usuarios.length," Comentarios"),eo(2),Ws(hc(5,4,fc(6,6,t.fechaPost,"dd MMMM y"))),eo(3),Ss("routerLink","/receta/",t.idPost,"")}}function mm(t,e){if(1&t&&(ps(0,"a",18),$s(1),gs()),2&t){const t=As(2).$implicit;Ss("routerLink","/receta/",t.idPost,""),eo(1),Gs("",t.usuarios.length," Comentario")}}function bm(t,e){if(1&t&&(ps(0,"div",17),as(1,mm,2,2,"a",21),ps(2,"span",19),$s(3),dc(4,"titlecase"),dc(5,"date"),gs(),ps(6,"a",20),$s(7,"Continuar Leyendo"),ps(8,"span",10),on(),ps(9,"svg"),ms(10,"use",11),gs(),gs(),gs(),gs()),2&t){const t=As().$implicit;eo(1),hs("ngIf",1==t.usuarios.length),eo(2),Ws(hc(4,3,fc(5,5,t.fechaPost,"dd MMMM y"))),eo(3),Ss("routerLink","/receta/",t.idPost,"")}}const wm=function(t){return{"background-image":t}};function _m(t,e){if(1&t&&(ps(0,"div",5),ps(1,"div",6),ps(2,"div",7),ps(3,"div",8),ps(4,"p"),ps(5,"a",9),$s(6,"Continuar Leyendo"),ps(7,"span",10),on(),ps(8,"svg"),ms(9,"use",11),gs(),gs(),gs(),gs(),gs(),gs(),sn(),ps(10,"div",12),ps(11,"h2",13),ps(12,"a",14),$s(13),gs(),gs(),ms(14,"p",15),dc(15,"truncate"),gs(),as(16,gm,12,9,"div",16),as(17,bm,11,8,"div",16),gs(),gs()),2&t){const t=e.$implicit;eo(2),hs("ngStyle",lc(11,wm,"url("+t.imagen+")")),eo(3),Ss("routerLink","/receta/",t.idPost,""),eo(7),Ss("routerLink","/receta/",t.idPost,""),eo(1),Ws(t.nombre),eo(1),hs("innerHTML",pc(15,7,t.post,170,!0),Sr),eo(2),hs("ngIf",1!=t.usuarios.length),eo(1),hs("ngIf",1==t.usuarios.length)}}const vm=function(t){return{itemsPerPage:3,currentPage:t}};let ym=(()=>{class t{constructor(t){this.postsService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(ls(Bg))},t.\u0275cmp=fe({type:t,selectors:[["app-blog"]],decls:7,vars:8,consts:[[1,"ae-container-fluid","rk-main"],[1,"ae-container-fluid","ae-container-fluid--inner","rk-blog"],["class","rk-blog__items",4,"ngFor","ngForOf"],[1,"ae-container-fluid","espacio","group-buttons"],["previousLabel","Anterior","nextLabel","Siguiente","responsive","true",3,"pageChange"],[1,"rk-blog__items"],[1,"rk-blog__item"],[1,"post-img","post-1","rk-landscape-alt","rk-tosquare",3,"ngStyle"],[1,"item-meta"],[1,"arrow-button",3,"routerLink"],[1,"arrow-cont"],[0,"xlink","href","assets/img/symbols.svg#arrow"],[1,"blog-info"],[1,"blog-info__title"],[3,"routerLink"],[1,"blog-info__excerpt",3,"innerHTML"],["class","blog-meta",4,"ngIf"],[1,"blog-meta"],[1,"ae-u-bolder","blog-meta__comments",3,"routerLink"],[1,"ae-kappa","ae-u-bold","blog-meta__date"],[1,"arrow-button","blog-meta__read-more",3,"routerLink"],["class","ae-u-bolder blog-meta__comments",3,"routerLink",4,"ngIf"]],template:function(t,e){1&t&&(ps(0,"section",0),ps(1,"section",1),as(2,_m,18,13,"div",2),dc(3,"paginate"),dc(4,"sort"),gs(),ps(5,"div",3),ps(6,"pagination-controls",4),ks("pageChange",(function(t){return e.page=t})),gs(),gs(),gs()),2&t&&(eo(2),hs("ngForOf",fc(3,1,hc(4,4,e.postsService.posts),lc(6,vm,e.page))))},directives:[Du,lm,Fu,Np,Ru],pipes:[im,Ug,pm,zu,Uu],styles:[""]}),t})();function km(t,e){return new v(n=>{const r=t.length;if(0===r)return void n.complete();const o=new Array(r);let i=0,s=0;for(let a=0;a<r;a++){const c=z(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,s++),o[a]=t},error:t=>n.error(t),complete:()=>{i++,i!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=o[n],t),{}):o),n.complete())}}))}})}const Cm=new Bt("NgValueAccessor"),xm={provide:Cm,useExisting:At(()=>Am),multi:!0};let Am=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(ls(ya),ls(ba))},t.\u0275dir=_e({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&ks("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[fa([xm])]}),t})();const Em={provide:Cm,useExisting:At(()=>Tm),multi:!0},Sm=new Bt("CompositionEventMode");let Tm=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Dl()?Dl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(ls(ya),ls(ba),ls(Sm,8))},t.\u0275dir=_e({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&ks("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[fa([Em])]}),t})(),Pm=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=_e({type:t}),t})(),Mm=(()=>{class t extends Pm{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Om(e||t)},t.\u0275dir=_e({type:t,features:[Ks]}),t})();const Om=Yn(Mm);function Im(){throw new Error("unimplemented")}class Dm extends Pm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Im()}get asyncValidator(){return Im()}}class Nm{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Rm=(()=>{class t extends Nm{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(ls(Dm,2))},t.\u0275dir=_e({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Rs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Ks]}),t})(),jm=(()=>{class t extends Nm{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(ls(Mm,2))},t.\u0275dir=_e({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Rs("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Ks]}),t})();function Lm(t){return null==t||0===t.length}const Fm=new Bt("NgValidators"),Vm=new Bt("NgAsyncValidators"),Bm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zm{static min(t){return e=>{if(Lm(e.value)||Lm(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Lm(e.value)||Lm(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Lm(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Lm(t.value)?null:Bm.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Lm(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return zm.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Lm(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Um);return 0==e.length?null:function(t){return qm(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Um);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(c(e))return km(e,null);if(l(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return km(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return km(t=1===t.length&&c(t[0])?t[0]:t,null).pipe(L(t=>e(...t)))}return km(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(Hm)).pipe(L(qm))}}}function Um(t){return null!=t}function Hm(t){const e=vs(t)?z(t):t;if(!ys(e))throw new Error("Expected validator to return Promise or Observable.");return e}function qm(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function $m(t){return t.validate?e=>t.validate(e):t}function Wm(t){return t.validate?e=>t.validate(e):t}const Gm={provide:Cm,useExisting:At(()=>Ym),multi:!0};let Ym=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(ls(ya),ls(ba))},t.\u0275dir=_e({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&ks("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[fa([Gm])]}),t})();const Qm={provide:Cm,useExisting:At(()=>Km),multi:!0};let Zm=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Km=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Dm),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(ls(ya),ls(ba),ls(Zm),ls(Hi))},t.\u0275dir=_e({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&ks("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[fa([Qm])]}),t})();const Jm={provide:Cm,useExisting:At(()=>Xm),multi:!0};let Xm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(ls(ya),ls(ba))},t.\u0275dir=_e({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&ks("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[fa([Jm])]}),t})();const tb='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',eb='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',nb='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class rb{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${tb}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${eb}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${nb}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${tb}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${eb}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const ob={provide:Cm,useExisting:At(()=>sb),multi:!0};function ib(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let sb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ki}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=ib(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(ls(ya),ls(ba))},t.\u0275dir=_e({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&ks("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[fa([ob])]}),t})(),ab=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ib(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(ls(ba),ls(ya),ls(sb,9))},t.\u0275dir=_e({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const cb={provide:Cm,useExisting:At(()=>ub),multi:!0};function lb(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ub=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ki}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),o=this._getOptionValue(r.value);n.push(o)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(ls(ya),ls(ba))},t.\u0275dir=_e({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&ks("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[fa([cb])]}),t})(),db=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(lb(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(lb(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(ls(ba),ls(ya),ls(ub,9))},t.\u0275dir=_e({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function hb(t,e){return[...e.path,t]}function fb(t,e){t||bb(e,"Cannot find control with"),e.valueAccessor||bb(e,"No value accessor for form control with"),t.validator=zm.compose([t.validator,e.validator]),t.asyncValidator=zm.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&pb(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&pb(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function pb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function gb(t,e){null==t&&bb(e,"Cannot find control with"),t.validator=zm.compose([t.validator,e.validator]),t.asyncValidator=zm.composeAsync([t.asyncValidator,e.asyncValidator])}function mb(t){return bb(t,"There is no FormControl instance attached to form control element with")}function bb(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function wb(t){return null!=t?zm.compose(t.map($m)):null}function _b(t){return null!=t?zm.composeAsync(t.map(Wm)):null}function vb(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Ki(e,n.currentValue)}const yb=[Am,Xm,Ym,sb,ub,Km];function kb(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Cb(t,e){if(!e)return null;Array.isArray(e)||bb(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,o=void 0;return e.forEach(e=>{var i;e.constructor===Tm?n=e:(i=e,yb.some(t=>i.constructor===t)?(r&&bb(t,"More than one built-in value accessor matches form control with"),r=e):(o&&bb(t,"More than one custom value accessor matches form control with"),o=e))}),o||r||n||(bb(t,"No valid value accessor for form control with"),null)}function xb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ab(t){const e=Sb(t)?t.validators:t;return Array.isArray(e)?wb(e):e||null}function Eb(t,e){const n=Sb(e)?e.asyncValidators:t;return Array.isArray(n)?_b(n):n||null}function Sb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Tb{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Ab(t)}setAsyncValidators(t){this.asyncValidator=Eb(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Hm(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Mb?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ob&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new bc,this.statusChanges=new bc}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Sb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Pb extends Tb{constructor(t=null,e,n){super(Ab(e),Eb(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Mb extends Tb{constructor(t,e,n){super(Ab(e),Eb(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Pb?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ob extends Tb{constructor(t,e,n){super(Ab(e),Eb(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Pb?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ib={provide:Mm,useExisting:At(()=>Nb)},Db=(()=>Promise.resolve(null))();let Nb=(()=>{class t extends Mm{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new bc,this.form=new Mb({},wb(t),_b(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Db.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),fb(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Db.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),xb(this._directives,t)})}addFormGroup(t){Db.then(()=>{const e=this._findContainer(t.path),n=new Mb({});gb(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Db.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Db.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,kb(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(ls(Fm,10),ls(Vm,10))},t.\u0275dir=_e({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&ks("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fa([Ib]),Ks]}),t})(),Rb=(()=>{class t extends Mm{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return hb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return wb(this._validators)}get asyncValidator(){return _b(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return jb(e||t)},t.\u0275dir=_e({type:t,features:[Ks]}),t})();const jb=Yn(Rb);class Lb{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${tb}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${eb}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${nb}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${eb}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${nb}`)}}const Fb={provide:Mm,useExisting:At(()=>Vb)};let Vb=(()=>{class t extends Rb{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof Nb||Lb.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(ls(Mm,5),ls(Fm,10),ls(Vm,10))},t.\u0275dir=_e({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[fa([Fb]),Ks]}),t})();const Bb={provide:Dm,useExisting:At(()=>Ub)},zb=(()=>Promise.resolve(null))();let Ub=(()=>{class t extends Dm{constructor(t,e,n,r){super(),this.control=new Pb,this._registered=!1,this.update=new bc,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Cb(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),vb(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?hb(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return wb(this._rawValidators)}get asyncValidator(){return _b(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fb(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Vb)&&this._parent instanceof Rb?Lb.formGroupNameException():this._parent instanceof Vb||this._parent instanceof Nb||Lb.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Lb.missingNameException()}_updateValue(t){zb.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;zb.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(ls(Mm,9),ls(Fm,10),ls(Vm,10),ls(Cm,10))},t.\u0275dir=_e({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fa([Bb]),Ks,ra]}),t})(),Hb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=_e({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const qb=new Bt("NgModelWithFormControlWarning"),$b={provide:Mm,useExisting:At(()=>Wb)};let Wb=(()=>{class t extends Mm{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new bc}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return fb(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){xb(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);gb(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);gb(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,kb(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>mb(e)),e.valueAccessor.registerOnTouched(()=>mb(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&fb(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=wb(this._validators);this.form.validator=zm.compose([this.form.validator,t]);const e=_b(this._asyncValidators);this.form.asyncValidator=zm.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||rb.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(ls(Fm,10),ls(Vm,10))},t.\u0275dir=_e({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&ks("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fa([$b]),Ks,ra]}),t})();const Gb={provide:Mm,useExisting:At(()=>Yb)};let Yb=(()=>{class t extends Rb{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Kb(this._parent)&&rb.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(ls(Mm,13),ls(Fm,10),ls(Vm,10))},t.\u0275dir=_e({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[fa([Gb]),Ks]}),t})();const Qb={provide:Mm,useExisting:At(()=>Zb)};let Zb=(()=>{class t extends Mm{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return hb(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return wb(this._validators)}get asyncValidator(){return _b(this._asyncValidators)}_checkParentType(){Kb(this._parent)&&rb.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(ls(Mm,13),ls(Fm,10),ls(Vm,10))},t.\u0275dir=_e({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[fa([Qb]),Ks]}),t})();function Kb(t){return!(t instanceof Yb||t instanceof Wb||t instanceof Zb)}const Jb={provide:Dm,useExisting:At(()=>Xb)};let Xb=(()=>{class t extends Dm{constructor(t,e,n,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new bc,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Cb(this,r)}set isDisabled(t){rb.disabledAttrWarning()}ngOnChanges(e){var n,r;this._added||this._setUpControl(),vb(e,this.viewModel)&&("formControlName",n=t,this,r=this._ngModelWarningConfig,or()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(rb.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return hb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return wb(this._rawValidators)}get asyncValidator(){return _b(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Yb)&&this._parent instanceof Rb?rb.ngModelGroupException():this._parent instanceof Yb||this._parent instanceof Wb||this._parent instanceof Zb||rb.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(ls(Mm,13),ls(Fm,10),ls(Vm,10),ls(Cm,10),ls(qb,8))},t.\u0275dir=_e({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[fa([Jb]),Ks,ra]}),t._ngModelWarningSentOnce=!1,t})();const tw={provide:Fm,useExisting:At(()=>ew),multi:!0};let ew=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?zm.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=_e({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&is("required",e.required?"":null)},inputs:{required:"required"},features:[fa([tw])]}),t})(),nw=(()=>{class t{}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})(),rw=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,o=null,i=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,i=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new Mb(n,{asyncValidators:o,updateOn:i,validators:r})}control(t,e,n){return new Pb(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Ob(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Pb||t instanceof Mb||t instanceof Ob?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),ow=(()=>{class t{}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[Zm],imports:[nw]}),t})(),iw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:qb,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[rw,Zm],imports:[nw]}),t})();const sw=function(t){return{"background-image":t}};function aw(t,e){if(1&t&&(ps(0,"section",2),ps(1,"header",3),ps(2,"div",4),ps(3,"h1",5),$s(4),gs(),ps(5,"p",6),ps(6,"span",7),$s(7),gs(),gs(),ps(8,"p",8),$s(9),dc(10,"titlecase"),dc(11,"date"),gs(),gs(),gs(),ps(12,"div",9),ps(13,"div",10),ps(14,"div",11),ps(15,"span",12),$s(16,"1."),gs(),$s(17),gs(),gs(),ps(18,"div",13),ms(19,"div",14),gs(),gs(),gs()),2&t){const t=As();eo(1),hs("ngStyle",lc(11,sw,"url("+t.receta.imagen+")")),eo(3),Ws(t.receta.nombre),eo(3),Ws(t.receta.categoria),eo(2),Ws(hc(10,6,fc(11,8,t.receta.fechaPost,"dd MMMM y"))),eo(5),hs("innerHTML",t.receta.post,Sr),eo(3),Gs(" ",t.receta.post," ")}}function cw(t,e){if(1&t&&(ps(0,"h3",23),$s(1),gs()),2&t){const t=As(2);eo(1),Gs("",t.comentarios.length," Comentarios")}}function lw(t,e){if(1&t&&(ps(0,"h3",23),$s(1),gs()),2&t){const t=As(2);eo(1),Gs("",t.comentarios.length," Comentario")}}function uw(t,e){if(1&t&&(ps(0,"article",24),ps(1,"aside",25),ms(2,"img",26),gs(),ps(3,"div",27),ps(4,"header",28),ps(5,"h5",29),ps(6,"a",30),$s(7),gs(),gs(),ps(8,"div",31),ps(9,"p",32),$s(10),dc(11,"titlecase"),dc(12,"date"),gs(),gs(),gs(),ps(13,"div",33),ps(14,"p"),$s(15),gs(),gs(),gs(),gs()),2&t){const t=e.$implicit;eo(7),Ws(t.usuario.nombre),eo(3),Gs("\xa0 ",hc(11,3,fc(12,5,t.fechaComentario,"dd MMMM y")),""),eo(5),Ws(t.comentario)}}function dw(t,e){if(1&t&&(ps(0,"ul",15),as(1,cw,2,1,"h3",16),as(2,lw,2,1,"h3",16),ps(3,"li"),as(4,uw,16,8,"article",17),dc(5,"sort"),gs(),ps(6,"div",18),ps(7,"div",19),ps(8,"P",20),$s(9,"Para comentar debes "),ps(10,"span",21),$s(11,"iniciar sesi\xf3n"),gs(),$s(12," o "),ps(13,"span",21),$s(14,"registrarte"),gs(),$s(15," si a\xfan no tienes una cuenta"),gs(),ps(16,"button",22),$s(17,"Env\xeda comentario"),gs(),gs(),gs(),gs()),2&t){const t=As();eo(1),hs("ngIf",1!=t.comentarios.length),eo(1),hs("ngIf",1==t.comentarios.length),eo(2),hs("ngForOf",hc(5,4,t.comentarios)),eo(12),Ss("routerLink","/loginUrl/",t.receta.idPost,"")}}let hw=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.postsService=e}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.postsService.getReceta(t.id).subscribe(e=>{this.id=t.id,this.receta=e})}),this.form=new Mb({comentario:new Pb(this.comentario,zm.required)}),this.getComentarios()}getComentarios(){this.postsService.getComentarios().subscribe(t=>{let e=t.filter(t=>t.post.idPost==this.id);this.comentarios=e})}}return t.\u0275fac=function(e){return new(e||t)(ls(xf),ls(Bg))},t.\u0275cmp=fe({type:t,selectors:[["app-receta"]],decls:2,vars:2,consts:[["class","ae-container-fluid ae-container-fluid--full",4,"ngIf"],["class","ae-container-fluid ae-container-fluid--inner rk-comments",4,"ngIf"],[1,"ae-container-fluid","ae-container-fluid--full"],[1,"animated","fadeIn","rk-portfolio-cover","post-inside-1",3,"ngStyle"],[1,"item-inside__meta"],[1,"fondoNombre","fondo","ae-u-bolder","rk-portfolio-title"],[1,"ae-theta","rk-portfolio-category"],[1,"fondoCategoria","fondo","ae-u-bolder"],[1,"ae-kappa","ae-u-bold","rk-portfolio-inner-date"],[1,"ae-container-fluid","ae-container-fluid--inner","rk-portfolio--inner"],[1,"ae-grid","ae-grid--collapse","au-xs-ptp-1","au-xs-pbp-1"],[1,"ae-grid__item--alt","item-lg-12",3,"innerHTML"],[1,"ae-u-boldest"],[1,"ae-grid","ae-grid--collapse","au-xs-ptp-1"],[1,"ae-grid__item","item-lg-12"],[1,"ae-container-fluid","ae-container-fluid--inner","rk-comments"],["class","rk-comments__title ae-u-bolder",4,"ngIf"],["class","rk-comment",4,"ngFor","ngForOf"],[1,"ae-grid","ae-grid--collapse","inner-box-3"],[1,"ae-grid__item","item-lg-8","item-lg--offset-2","text-center"],[1,"menor"],[1,"azul"],["type","submit",1,"btn","btn-info","btn-lg","text-uppercase",3,"routerLink"],[1,"rk-comments__title","ae-u-bolder"],[1,"rk-comment"],[1,"rk-comment__avatar"],["src","assets/img/user-2.jpg","alt","",1,"rk-comment__avatar","au-circle"],[1,"rk-comment__content"],[1,"rk-comment__header"],[1,"rk-comment__author","ae-u-bolder"],["href","#0"],[1,"rk-comment__meta"],[1,"ae-kappa"],[1,"rk-comment__body"]],template:function(t,e){1&t&&(as(0,aw,20,13,"section",0),as(1,dw,18,6,"ul",1)),2&t&&(hs("ngIf",e.receta),eo(1),hs("ngIf",e.comentarios))},directives:[Ru,Fu,Du,Dp],pipes:[zu,Uu,Ug],styles:[".fondoCategoria[_ngcontent-%COMP%], .fondoNombre[_ngcontent-%COMP%]{opacity:.8}.fondoNombre[_ngcontent-%COMP%]{padding:0 10px;background:#ffa6c0;transform:rotate(0deg);transition:all .4s ease .6s;color:#fff}.fondoCategoria[_ngcontent-%COMP%]{position:relative;padding:5px 10px;background:#ffdde8;transform:rotate(-6deg);left:120px;transition:all .4s ease .8s}.fondo[_ngcontent-%COMP%]{border-radius:5px}.btn-lg[_ngcontent-%COMP%]{font-size:1rem}"]}),t})();var fw=n("PSD3"),pw=n.n(fw);let gw=(()=>{class t{constructor(t){this.http=t}cargarComentarios(){return this.http.get("https://joysweets.herokuapp.com/comentarios/comentarios")}cargarComentario(t){return this.http.get(ag+"/comentarios/comentario/"+t)}borrarComentario(t){return this.http.delete(ag+"/comentarios/eliminarComentario/"+t,{responseType:"text"})}crearComentario(t,e,n){return this.http.post(ag+"/comentarios/comentarios/"+t+"/"+e,n,{responseType:"text"})}actualizarComentario(t){return this.http.put(ag+"/comentarios/modificarComentario/"+t.idComentario,t,{responseType:"text"}).pipe(L(t=>(pw.a.fire("Comentario actualizado","Comentario actualizado con \xe9xito","success"),t.comentario)))}}return t.\u0275fac=function(e){return new(e||t)(Zt(xg))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mw=(()=>{class t{constructor(t){this.http=t}getRoleName(){return console.log(this.usuario.roleName),this.usuario.roleName}cargarUsuarios(){return this.http.get("https://joysweets.herokuapp.com/usuarios/usuarios")}cargarUsuario(t){return this.http.get(ag+"/usuarios/usuario/"+t)}cargarUsuarioU(t){return this.http.get(ag+"/usuarios/usuarioU/"+t)}borrarUsuario(t){return this.http.delete(ag+"/usuarios/eliminarUsuario/"+t,{responseType:"text"})}actualizarUsuario(t){return this.http.put(ag+"/usuarios/modificarUsuario/"+t.idUsuario,t,{responseType:"text"}).pipe(L(e=>(pw.a.fire("Usuario actualizado",'<span style="color:#197AAA">'+t.nombre+"</span>","success"),e.usuario)))}}return t.\u0275fac=function(e){return new(e||t)(Zt(xg))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const bw=function(t){return{"background-image":t}};function ww(t,e){if(1&t&&(ps(0,"section",9),ps(1,"header",10),ps(2,"div",11),ps(3,"h1",12),$s(4),gs(),ps(5,"p",13),ps(6,"span",14),$s(7),gs(),gs(),ps(8,"p",15),$s(9),dc(10,"titlecase"),dc(11,"date"),gs(),gs(),gs(),ps(12,"div",16),ps(13,"div",17),ps(14,"div",18),ps(15,"span",19),$s(16,"1."),gs(),$s(17),gs(),gs(),ps(18,"div",20),ms(19,"div",21),gs(),gs(),gs()),2&t){const t=As();eo(1),hs("ngStyle",lc(11,bw,"url("+t.receta.imagen+")")),eo(3),Ws(t.receta.nombre),eo(3),Ws(t.receta.categoria),eo(2),Ws(hc(10,6,fc(11,8,t.receta.fechaPost,"dd MMMM y"))),eo(5),hs("innerHTML",t.receta.post,Sr),eo(3),Gs(" ",t.receta.post," ")}}function _w(t,e){if(1&t&&(ps(0,"article",30),ps(1,"aside",31),ms(2,"img",32),gs(),ps(3,"div",33),ps(4,"header",34),ps(5,"h5",35),ps(6,"a",36),$s(7),gs(),gs(),ps(8,"div",37),ps(9,"p",38),$s(10),dc(11,"titlecase"),dc(12,"date"),gs(),gs(),gs(),ps(13,"div",39),ps(14,"p"),$s(15),gs(),gs(),gs(),gs()),2&t){const t=e.$implicit;eo(7),Ws(t.usuario.nombre),eo(3),Gs("\xa0 ",hc(11,3,fc(12,5,t.fechaComentario,"dd MMMM y")),""),eo(5),Ws(t.comentario)}}function vw(t,e){if(1&t){const t=_s();ps(0,"ul",22),ps(1,"h3",23),$s(2),gs(),ps(3,"li"),as(4,_w,16,8,"article",24),dc(5,"sort"),gs(),ps(6,"div",25),ps(7,"div",26),ps(8,"form",27),ks("ngSubmit",(function(){return Re(t),As().crearComentario()})),ms(9,"textarea",28),ps(10,"button",29),$s(11,"Enviar comentario"),gs(),gs(),gs(),gs(),gs()}if(2&t){const t=As();eo(2),Gs("",t.comentarios.length," Comentarios"),eo(2),hs("ngForOf",hc(5,3,t.comentarios)),eo(4),hs("formGroup",t.form)}}let yw=(()=>{class t{constructor(t,e,n,r,o){this.activatedRoute=t,this.postsService=e,this.comentarioService=n,this.usuarioService=r,this.router=o;let i=localStorage.getItem("AuthUserName");this.cargarUsuarioU(i)}ngOnInit(){this.activatedRoute.params.subscribe(t=>{console.log(t.id),this.postsService.getReceta(t.id).subscribe(e=>{this.id=t.id,this.receta=e,localStorage.setItem("urlComentario",t.id)})}),this.form=new Mb({comentario:new Pb(this.comentario,zm.required)}),this.getComentarios()}getComentarios(){this.postsService.getComentarios().subscribe(t=>{let e=t.filter(t=>t.post.idPost==this.id);this.comentarios=e})}cargarUsuarioU(t){this.usuarioService.cargarUsuarioU(t).subscribe(t=>{this.usuario=t})}crearComentario(){let t=parseInt(localStorage.getItem("urlComentario"));console.log(t),localStorage.getItem("AuthUserName"),this.comentarioService.crearComentario(t,this.usuario.idUsuario,{comentario:this.form.value.comentario}).subscribe(e=>{localStorage.removeItem("AuthToken"),localStorage.removeItem("AuthUserName"),localStorage.removeItem("AuthAuthorities"),localStorage.removeItem("username"),localStorage.removeItem("urlComentario"),this.router.navigate(["/receta/"+t]),localStorage.removeItem("urlComentario"),pw.a.fire({title:"Comentario creado",html:"Comentario creado con \xe9xito",icon:"success"})})}}return t.\u0275fac=function(e){return new(e||t)(ls(xf),ls(Bg),ls(gw),ls(mw),ls(Ip))},t.\u0275cmp=fe({type:t,selectors:[["app-receta-comentario"]],decls:14,vars:2,consts:[["class","ae-container-fluid ae-container-fluid--full",4,"ngIf"],["class","ae-container-fluid ae-container-fluid--inner rk-comments",4,"ngIf"],[1,"ae-container-fluid","au-pt-4","au-pb-4"],[1,"group-buttons","au-mt-2"],["href","#0",1,"arrow-button","arrow-button--reverse"],[1,"arrow-cont","arrow-cont-rev"],[0,"xlink","href","assets/img/symbols.svg#arrow"],["href","#0",1,"arrow-button"],[1,"arrow-cont"],[1,"ae-container-fluid","ae-container-fluid--full"],[1,"animated","fadeIn","rk-portfolio-cover","post-inside-1",3,"ngStyle"],[1,"item-inside__meta"],[1,"fondoNombre","fondo","ae-u-bolder","rk-portfolio-title"],[1,"ae-theta","rk-portfolio-category"],[1,"fondoCategoria","fondo","ae-u-bolder"],[1,"ae-kappa","ae-u-bold","rk-portfolio-inner-date"],[1,"ae-container-fluid","ae-container-fluid--inner","rk-portfolio--inner"],[1,"ae-grid","ae-grid--collapse","au-xs-ptp-1","au-xs-pbp-1"],[1,"ae-grid__item--alt","item-lg-12",3,"innerHTML"],[1,"ae-u-boldest"],[1,"ae-grid","ae-grid--collapse","au-xs-ptp-1"],[1,"ae-grid__item","item-lg-12"],[1,"ae-container-fluid","ae-container-fluid--inner","rk-comments"],[1,"rk-comments__title","ae-u-bolder"],["class","rk-comment",4,"ngFor","ngForOf"],[1,"ae-grid","ae-grid--collapse","inner-box-3"],[1,"ae-grid__item","item-lg-8","item-lg--offset-2"],[1,"ae-form--full",3,"formGroup","ngSubmit"],["formControlName","comentario","placeholder","Deja tu comentario aqu\xed ...","cols","30",1,"form-group"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase"],[1,"rk-comment"],[1,"rk-comment__avatar"],["src","assets/img/user-2.jpg","alt","",1,"rk-comment__avatar","au-circle"],[1,"rk-comment__content"],[1,"rk-comment__header"],[1,"rk-comment__author","ae-u-bolder"],["href","#0"],[1,"rk-comment__meta"],[1,"ae-kappa"],[1,"rk-comment__body"]],template:function(t,e){1&t&&(as(0,ww,20,13,"section",0),as(1,vw,12,5,"ul",1),ps(2,"section",2),ps(3,"div",3),ps(4,"a",4),$s(5,"Anterior Receta "),ps(6,"div",5),on(),ps(7,"svg"),ms(8,"use",6),gs(),gs(),gs(),sn(),ps(9,"a",7),$s(10,"Siguiente Receta"),ps(11,"span",8),on(),ps(12,"svg"),ms(13,"use",6),gs(),gs(),gs(),gs(),gs()),2&t&&(hs("ngIf",e.receta),eo(1),hs("ngIf",e.comentarios))},directives:[Ru,Fu,Du,Hb,jm,Wb,Tm,Rm,Xb],pipes:[zu,Uu,Ug],styles:[".fondoCategoria[_ngcontent-%COMP%], .fondoNombre[_ngcontent-%COMP%]{opacity:.8}.fondoNombre[_ngcontent-%COMP%]{padding:0 10px;background:#ffa6c0;transform:rotate(0deg);transition:all .4s ease .6s;color:#fff}.fondoCategoria[_ngcontent-%COMP%]{position:relative;padding:5px 10px;background:#ffdde8;transform:rotate(-6deg);left:120px;transition:all .4s ease .8s}.fondo[_ngcontent-%COMP%]{border-radius:5px}.btn-lg[_ngcontent-%COMP%]{font-size:1rem}"]}),t})(),kw=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-contacto"]],decls:18,vars:0,consts:[[1,"ae-container-fluid","ae-container-fluid--inner","rk-main","animated","fadeIn"],[1,"ae-grid"],[1,"ae-grid__item","item-lg-12","ae-kappa"],["src","assets/img/contacto.jpg","alt","Contacto",1,"au-mb-3"],[1,"ae-grid","au-pt-2"],[1,"ae-grid__item","item-lg-8","item-lg--offset-2"],[1,"ae-u-bolder","azul"],[1,"contact__desc"],[1,"contact__email","au-block","au-truncate"],[1,"rk-light-color"],[1,"azul"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"div",2),ms(3,"img",3),gs(),gs(),ps(4,"div",4),ps(5,"div",5),ps(6,"h4",6),$s(7,"Escr\xedbeme"),gs(),ps(8,"p",7),$s(9,"Para cualquier duda usa el Email de abajo! "),ms(10,"br"),$s(11,"Te ayudar\xe9!"),gs(),ps(12,"p"),ps(13,"span",8),ps(14,"span",9),$s(15,"Email: \xa0\xa0 "),gs(),ps(16,"span",10),$s(17,"info@joysweets.es"),gs(),gs(),gs(),gs(),gs(),gs())},styles:[".center[_ngcontent-%COMP%]{width:100%;margin:0 auto}"]}),t})(),Cw=(()=>{class t{constructor(){this.anio=(new Date).getFullYear()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-nopagefound"]],decls:13,vars:1,consts:[["id","wrapper",1,"error","animated","fadeIn",2,"background-image","url(../../assets/images/background/error-bg.jpg)"],[1,"error-box","card"],[1,"text-center"],[1,"text-uppercase"],[1,"text-muted","m-t-30","m-b-30"],["routerLink","/home",1,"btn","btn-info","waves-effect","waves-light","m-b-40"],[1,"footer","text-center"]],template:function(t,e){1&t&&(ps(0,"section",0),ps(1,"div",1),ps(2,"div",2),ps(3,"h1"),$s(4,"Oops!"),gs(),ps(5,"h3",3),$s(6,"P\xe1gina No Encontrada !"),gs(),ps(7,"p",4),$s(8,"COME DULCES AMA"),gs(),ps(9,"a",5),$s(10,"Ir a la Home"),gs(),gs(),ps(11,"p",6),$s(12),gs(),gs(),gs()),2&t&&(eo(12),Gs("\xa9 ",e.anio," JOYSWEETS"))},directives:[Np],styles:[".error-box[_ngcontent-%COMP%]{right:0;height:100%;position:absolute;width:570px;padding:7% 0}.error-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0;right:0;border:0}.error-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:90px;font-weight:900;line-height:150px;color:#ffc803}.error[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:50%;height:100%;width:100%;position:fixed}"]}),t})(),xw=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-privacidad"]],decls:81,vars:0,consts:[[1,"ae-container-fluid","ae-container-fluid--inner","rk-main","animated","fadeIn"],[1,"justify"],[1,"ae-u-bolder"],[1,"au-mb-3"],[1,"azul"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"h2",2),$s(3,"T\xe9rminos de Uso y Pol\xedtica de Privacidad"),gs(),ps(4,"p",3),$s(5,"Los presentes T\xe9rminos y Condiciones de Uso y la Pol\xedtica de Privacidad rigen el uso del sitio web "),ps(6,"span",4),$s(7,"JOYSWEETS"),gs(),$s(8,", inscrita en el Registro Mercantil de Asturias, ofrece a trav\xe9s de la URL "),ps(9,"span",4),$s(10,"https://joysweets.web.app"),gs(),$s(11,"."),gs(),ps(12,"p",3),$s(13,"El acceso y el uso de este sitio web es responsabilidad total del usuario, que est\xe1 sujeto a la aceptaci\xf3n de los presentes T\xe9rminos y Condiciones de Uso, de la Pol\xedtica de Privacidad y el uso de los datos aqu\xed transcritos. El uso de este sitio web y las relaciones entre "),ps(14,"span",4),$s(15,"JOYSWEETS"),gs(),$s(16," y los usuarios se rigen por la legislaci\xf3n espa\xf1ola aplicable. "),ps(17,"span",4),$s(18,"JOYSWEETS"),gs(),$s(19," se reserva el derecho de cambiar los presentes T\xe9rminos y Condiciones de Uso o revisar la Pol\xedtica de Privacidad y uso de datos en los presentes identificados siempre que lo considere oportuno, en cualquier momento, con o sin previo aviso. Si no est\xe1 de acuerdo con estos T\xe9rminos y Condiciones de Uso, no utilice el sitio web. Estos T\xe9rminos y Condiciones de Uso y la Pol\xedtica de Privacidad constituyen un contrato entre el usuario y "),ps(20,"span",4),$s(21,"JOYSWEETS"),gs(),$s(22,", y se aplican en el uso del sitio web. Es responsabilidad del usuario leer y revisar los mismos cada vez que accede al sitio web, con el fin de conocer cualquier cambio realizado, ya que los mismos afectan a sus derechos."),gs(),ps(23,"h3"),$s(24,"Pol\xedtica de Privacidad y Uso de Datos"),gs(),ps(25,"p",3),$s(26,"El usuario que facilite datos personales a trav\xe9s de esta p\xe1gina web queda informado de su incorporaci\xf3n a los ficheros de "),ps(27,"span",4),$s(28,"JOYSWEETS"),gs(),$s(29,", que se encuentran convenientemente inscritos en el registro de la Agencia de Protecci\xf3n de Datos."),gs(),ps(30,"p"),$s(31,"Estos datos podr\xedan ser tratados para:"),gs(),ps(32,"ul",3),ps(33,"li"),$s(34,"Contactar con el Usuario y dar respuesta a su petici\xf3n de informaci\xf3n o consulta y realizar un seguimiento posterior"),gs(),ps(35,"li"),$s(36,"Gestionar, en su caso, si procede, su pedido y llevar a cabo la entrega de bienes o prestaci\xf3n de servicio contratada por el Usuario, su facturaci\xf3n y cobro"),gs(),ps(37,"li"),$s(38,"Gestionar y controlar la cartera de clientes"),gs(),ps(39,"li"),$s(40,"Gestionar, en su caso, si procede, el proceso de registro del Usuario en la p\xe1gina web"),gs(),ps(41,"li"),$s(42,"Realizar, en su caso, el perfil de Usuario para ofrecerle contenidos de una manera personalizada"),gs(),ps(43,"li"),$s(44,"Gestionar, en su caso, las cuentas de Usuario de la p\xe1gina web y las posteriores modificaciones que \xe9l realice"),gs(),gs(),ps(45,"p",3),$s(46,"Salvo que el usuario comunique su voluntad en contra, a la direcci\xf3n de correo electr\xf3nico "),ps(47,"span",4),$s(48,"info@joysweets.es"),gs(),$s(49,", sus datos podr\xedan ser utilizados, en su caso, si procede, para el env\xedo de informaci\xf3n comercial de "),ps(50,"span",4),$s(51,"JOYSWEETS"),gs(),$s(52,"."),gs(),ps(53,"p",3),$s(54,"Los datos personales del Usuario no ser\xe1n comunicados a terceros, salvo aquellas comunicaciones que tuvieran que hacerse a las autoridades en caso de que el Usuario hubiera realizado acciones contrarias a la Ley o infringido el contenido del aviso legal. "),gs(),ps(55,"p",3),$s(56,"El Usuario es responsable de que la informaci\xf3n que proporcione a trav\xe9s de esta p\xe1gina web sea cierta, respondiendo de la veracidad de todos los datos que comunique y mantendr\xe1 actualizada la misma para que respondan a una situaci\xf3n real, siendo responsable de informaciones falsas o inexactas que proporcione y de los da\xf1os, molestias y problemas que pudieran causar a "),ps(57,"span",4),$s(58,"JOYSWEETS"),gs(),$s(59," o a terceros."),gs(),ps(60,"p",3),$s(61,"Sin perjuicio de lo anterior, dicha informaci\xf3n ser\xe1 guardada y gestionada con la debida confidencialidad, aplicando las medidas de seguridad inform\xe1tica establecidas en la Ley de protecci\xf3n de datos (LOPD) para impedir el acceso o uso indebido de sus datos, su manipulaci\xf3n, deterioro o p\xe9rdida."),gs(),ps(62,"p",3),$s(63,"No obstante, el Usuario debe tener en cuenta que la seguridad de los sistemas inform\xe1ticos nunca es absoluta. Cuando se facilitan datos personales por internet, dicha informaci\xf3n pudiera ser recogida sin su consentimiento y tratada por terceros no autorizados. "),ps(64,"span",4),$s(65,"JOYSWEETS"),gs(),$s(66," declina, cualquier tipo de responsabilidad sobre las consecuencias de dichos actos pudieran tener para el Usuario, si public\xf3 informaci\xf3n voluntariamente."),gs(),ps(67,"p",3),$s(68,"Se informa al Usuario de la posibilidad de ejercer sus derechos de acceso, rectificaci\xf3n, cancelaci\xf3n y oposici\xf3n mediante solicitud escrita y firmada adjuntando fotocopia del DNI o documento equivalente."),gs(),ps(69,"p",3),$s(70,"Estos derechos ser\xe1n atendidos sin perjuicio del deber de conservar ciertos datos en los t\xe9rminos legales y hasta que prescriban las eventuales responsabilidades derivadas de un posible tratamiento, o, en su caso, de una relaci\xf3n contractual."),gs(),ps(71,"h3"),$s(72,"Capacidad para aceptar los T\xe9rminos y Condiciones de Uso"),gs(),ps(73,"p",3),$s(74,"El usuario confirma ser mayor de 18 a\xf1os de edad o que cuenta con la autorizaci\xf3n legal de sus padres o tutores y ser plenamente capaz de consentir y aceptar los t\xe9rminos, condiciones, obligaciones, afirmaciones, representaciones y garant\xedas descritas en estos T\xe9rminos y condiciones de uso, y respetar y cumplir los mismos. Si tiene menos de 18 a\xf1os de edad y no posee una autorizaci\xf3n legal de los padres o representantes legales, no utilice el sitio web."),gs(),ps(75,"h3"),$s(76,"Ley aplicable"),gs(),ps(77,"p",3),$s(78,"Los presentes T\xe9rminos y Condiciones de Uso y la Pol\xedtica de Privacidad se rigen por la legislaci\xf3n espa\xf1ola y se interpretar\xe1n de acuerdo a la misma. La nulidad de alguna de las disposiciones tendr\xe1 que ser eliminada, quedando las restantes disposiciones del mismo en vigor \xedntegramente y produciendo sus efectos. "),gs(),ps(79,"p",3),$s(80,"En la falta de un acuerdo amigable entre las partes, los conflictos y disputas de cualquier naturaleza, relacionados con la formaci\xf3n, aplicaci\xf3n o interpretaci\xf3n del presente Contrato, ser\xe1n regidos por la ley de Espa\xf1a."),gs(),gs(),gs())},styles:["h3[_ngcontent-%COMP%]{font-weight:500!important}.azul[_ngcontent-%COMP%]{color:#4c99c0;font-weight:500}.azulCookies[_ngcontent-%COMP%]{color:#4c99c0;font-weight:400}"]}),t})();const Aw=[{path:"",component:sg,children:[{path:"home",component:qg},{path:"about",component:$g},{path:"blog",component:ym},{path:"receta/:id",component:hw},{path:"recetaComentario/:id",component:yw},{path:"contacto",component:kw},{path:"avisoLegal",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-aviso-legal"]],decls:81,vars:0,consts:[[1,"ae-container-fluid","ae-container-fluid--inner","rk-main","animated","fadeIn"],[1,"justify"],[1,"ae-u-bolder"],[1,"au-mb-3"],[1,"azul"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"h2",2),$s(3,"Aviso Legal"),gs(),ps(4,"h3"),$s(5,"Titular de la Web"),gs(),ps(6,"p",3),$s(7,"El presente aviso legal regula el uso de los Servicios y Contenidos que "),ps(8,"span",4),$s(9,"JOYSWEETS"),gs(),$s(10,", inscrita en el Registro Mercantil de Asturias, ofrece a trav\xe9s de la URL "),ps(11,"span",4),$s(12,"https://joysweets.web.app"),gs(),$s(13,", en adelante \u201cla web\u201d o \u201cel sitio web\u201d."),gs(),ps(14,"h3"),$s(15,"Condiciones de acceso y uso"),gs(),ps(16,"p",3),ps(17,"span",4),$s(18,"JOYSWEETS"),gs(),$s(19,", pone a disposici\xf3n de los usuarios de Internet el sitio web "),ps(20,"span",4),$s(21,"https://joysweets.web.app"),gs(),$s(22," con la finalidad de informar y dar a conocer las actividades, noticias, productos y servicios prestados por "),ps(23,"span",4),$s(24,"JOYSWEETS"),gs(),$s(25,". Los usuarios podr\xe1n acceder a la web de forma gratuita, si bien algunos de los contenidos y servicios del sitio pueden requerir el previo registro del usuario en los t\xe9rminos que se detallen en las Condiciones Particulares de los mismos."),gs(),ps(26,"p",3),$s(27,"El acceso y/o uso del sitio "),ps(28,"span",4),$s(29,"https://joysweets.web.app"),gs(),$s(30," atribuye a qui\xe9n lo realiza la condici\xf3n de usuario e implica su conformidad de forma expresa, plena y sin reservas de todas y cada una de las disposiciones incluidas en las condiciones, advertencias y dem\xe1s avisos legales contenidos en el presente clausulado, as\xed como en su caso en las Condiciones Particulares que pueden complementarlas, sustituirlas o modificarlas en alg\xfan sentido en relaci\xf3n con los servicios y contenidos de la web. En consecuencia, el usuario debe leer atentamente y con detenimiento el presente documento en su totalidad en el mismo momento en que se proponga el uso del sitio web ya que el mismo puede sufrir modificaciones."),gs(),ps(31,"p",3),ps(32,"span",4),$s(33,"JOYSWEETS"),gs(),$s(34," se reserva el derecho a actualizar, modificar, suspender temporalmente, eliminar o restringir el contenido y configuraci\xf3n de la web en cualquier momento, as\xed como de los v\xednculos o de la informaci\xf3n obtenida a trav\xe9s de ella sin necesidad de previo aviso, y sin asumir por ello responsabilidad alguna. "),gs(),ps(35,"p",3),$s(36,"El usuario se obliga a utilizar los servicios y contenidos conforme a la legislaci\xf3n vigente y principios de la buena fe y costumbres generalmente admitidas, as\xed como a no vulnerar con su actuaci\xf3n a trav\xe9s del sitio web el orden p\xfablico, y en especial a no menospreciar o atentar contra los derechos fundamentales y libertades p\xfablicas reconocidos constitucionalmente y en el resto de la legislaci\xf3n. "),ps(37,"span",4),$s(38,"JOYSWEETS"),gs(),$s(39," no se hace responsable del mal uso que se realice de la informaci\xf3n y/o servicios facilitados a trav\xe9s de la web siendo exclusiva responsabilidad del usuario que accede a ellos o los utiliza indebidamente."),gs(),ps(40,"p",3),$s(41,"Sin perjuicio de lo anterior, dicha informaci\xf3n ser\xe1 guardada y gestionada con la debida confidencialidad, aplicando las medidas de seguridad inform\xe1tica establecidas en la Ley de protecci\xf3n de datos (LOPD) para impedir el acceso o uso indebido de sus datos, su manipulaci\xf3n, deterioro o p\xe9rdida."),gs(),ps(42,"p",3),$s(43,"No obstante, el Usuario debe tener en cuenta que la seguridad de los sistemas inform\xe1ticos nunca es absoluta. Cuando se facilitan datos personales por internet, dicha informaci\xf3n pudiera ser recogida sin su consentimiento y tratada por terceros no autorizados. "),ps(44,"span",4),$s(45,"JOYSWEETS"),gs(),$s(46," declina, cualquier tipo de responsabilidad sobre las consecuencias de dichos actos pudieran tener para el Usuario, si public\xf3 informaci\xf3n voluntariamente."),gs(),ps(47,"p",3),$s(48,"Se informa al Usuario de la posibilidad de ejercer sus derechos de acceso, rectificaci\xf3n, cancelaci\xf3n y oposici\xf3n mediante solicitud escrita y firmada adjuntando fotocopia del DNI o documento equivalente."),gs(),ps(49,"p",3),$s(50,"Estos derechos ser\xe1n atendidos sin perjuicio del deber de conservar ciertos datos en los t\xe9rminos legales y hasta que prescriban las eventuales responsabilidades derivadas de un posible tratamiento, o, en su caso, de una relaci\xf3n contractual."),gs(),ps(51,"h3"),$s(52,"Propiedad intelectual e industrial"),gs(),ps(53,"p",3),$s(54,"Esta web es propiedad de "),ps(55,"span",4),$s(56,"JOYSWEETS"),gs(),$s(57,". El usuario reconoce y acepta que todos los derechos de propiedad intelectual e industrial sobre contenidos y/o cualesquiera otros elementos insertados en el sitio web (incluyendo sin car\xe1cter exhaustivo marcas, logotipos, nombres comerciales, textos, im\xe1genes, gr\xe1ficos, r\xf3tulos, software\u2026) son titularidad de "),ps(58,"span",4),$s(59,"JOYSWEETS"),gs(),$s(60,", salvo que en ellas se indique que pertenecen a otro titular."),gs(),ps(61,"p",3),$s(62,"La descarga de los contenidos y la copia o impresi\xf3n de cualquier p\xe1gina de esta web se autoriza \xfanica y exclusivamente para uso personal y privado del usuario, el cual no podr\xe1 reproducir, distribuir, transmitir, traducir, modificar total o parcialmente, ni usar en cualquier forma o por cualquier medio, el contenido de este sitio web con fines p\xfablicos o comerciales, ni aun citando las fuentes, sin el consentimiento expreso de "),ps(63,"span",4),$s(64,"JOYSWEETS"),gs(),$s(65,". Cualquier infracci\xf3n de estos derechos puede dar lugar a procedimientos extrajudiciales o judiciales que en su caso correspondan. "),ps(66,"span",4),$s(67,"JOYSWEETS"),gs(),$s(68," no concede ninguna licencia o autorizaci\xf3n de uso de ninguna clase sobre sus derechos de propiedad intelectual o derecho relacionado con el sitio web, los servicios o los contenidos de este."),gs(),ps(69,"h3"),$s(70,"Jurisdicci\xf3n y legislaci\xf3n aplicable"),gs(),ps(71,"p",3),$s(72,"Las presentes Condiciones Generales de Uso se regir\xe1n por la legislaci\xf3n espa\xf1ola."),gs(),ps(73,"p",3),$s(74,"Para cuantas cuestiones pudieran suscitarse en relaci\xf3n con los contenidos del sitio web y sobre la aplicaci\xf3n y cumplimiento de lo aqu\xed establecido, "),ps(75,"span",4),$s(76,"JOYSWEETS"),gs(),$s(77," y el usuario se someten a la Jurisdicci\xf3n de los Juzgados y Tribunales del domicilio del usuario. En el supuesto de que el usuario tuviera su domicilio fuera del Territorio Espa\xf1ol, "),ps(78,"span",4),$s(79,"JOYSWEETS"),gs(),$s(80," y el usuario se someten con renuncia al fuero que pudiera corresponderles a los Juzgados y Tribunales de Oviedo y/o Bilbao."),gs(),gs(),gs())},styles:["h3[_ngcontent-%COMP%]{font-weight:500!important}.azul[_ngcontent-%COMP%]{color:#4c99c0;font-weight:500}.azulCookies[_ngcontent-%COMP%]{color:#4c99c0;font-weight:400}"]}),t})()},{path:"privacidad",component:xw},{path:"cookies",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-cookies"]],decls:60,vars:0,consts:[[1,"ae-container-fluid","ae-container-fluid--inner","rk-main","animated","fadeIn"],[1,"justify"],[1,"ae-u-bolder"],[1,"au-mb-3"],[1,"azulCookies"],["href","https://support.google.com/chrome/answer/95647?hl=es","alt","Google Chrome","target","_blank"],["href","https://support.mozilla.org/es/kb/habilitar-y-deshabilitar-cookies-que-los-sitios-we","alt","Mozilla Firefox","target","_blank"],["href","https://support.microsoft.com/es-es/topic/eliminar-y-administrar-cookies-168dab11-0753-043d-7c16-ede5947fc64d","alt","Microsoft Edge","target","_blank"],["href","http://help.opera.com/Windows/11.50/es-ES/cookies.html","alt","Opera","target","_blank"],["href","http://support.apple.com/kb/ph5042","alt","Safari","target","_blank"],[1,"azul"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"h2",2),$s(3,"Pol\xedtica de Cookies"),gs(),ps(4,"p",3),$s(5,'Este sitio web usa Cookies para mejorar y optimizar la experiencia del usuario. A continuaci\xf3n encontrar\xe1s informaci\xf3n detallada sobre qu\xe9 son las "Cookies", qu\xe9 tipolog\xeda utiliza este sitio web, c\xf3mo puedes desactivarlas en tu navegador y c\xf3mo bloquear espec\xedficamente la instalaci\xf3n de Cookies de terceros.'),gs(),ps(6,"h3"),$s(7,"Qu\xe9 son las Cookies"),gs(),ps(8,"p",3),$s(9,"Las Cookies son archivos que el sitio web o la aplicaci\xf3n que utilizas instala en tu navegador o en tu dispositivo (Smartphone, tableta o televisi\xf3n conectada) durante tu recorrido por las p\xe1ginas o por la aplicaci\xf3n, y sirven para almacenar informaci\xf3n sobre tu visita."),gs(),ps(10,"h3"),$s(11,"Qu\xe9 tipos de Cookies utiliza esta Web"),gs(),ps(12,"h4",4),$s(13,"Cookie Consent"),gs(),ps(14,"p",3),$s(15,"Esta cookie se utiliza para recordar si ha dado su consentimiento para el uso de cookies en este sitio web. Cuando da su consentimiento, se establece una cookie que evita que aparezca la barra de notificaci\xf3n de cookies en la parte inferior de la ventana del navegador."),gs(),ps(16,"h4",4),$s(17,"Cookies de Sesi\xf3n"),gs(),ps(18,"p",3),$s(19,"Son aquellas que se generan una vez el usuario accede a la web y que expiran o se eliminan cuando el usuario cierra el navegador."),gs(),ps(20,"h4",4),$s(21,"Cookies Permanentes"),gs(),ps(22,"p",3),$s(23,"Son las que permanecen en el ordenador del usuario aunque este cierre el navegador. Solo se eliminan cuando expira su tiempo de permanencia (que suele ser muy largo), cuando cumplen su funci\xf3n, o cuando se borran manualmente. "),gs(),ps(24,"h4",4),$s(25,"Cookies de An\xe1lisis"),gs(),ps(26,"p",3),$s(27,"Este tipo de cookies, normalmente se generan a trav\xe9s de un proveedor externo (como pueden ser Google Analytics, Comscore, Netscope, etc.) y b\xe1sicamente su finalidad es identificar al usuario de forma an\xf3nima para poder analizar pautas de comportamiento de los usuarios mientras navegan por la web."),gs(),ps(28,"p",3),$s(29,"IMPORTANTE: estas cookies nunca ir\xe1n asociadas a datos de tipo personal que pueda identificar al usuario y se emplear\xe1n \xfanicamente con el objetivo de recabar datos estad\xedsticos que permitan mejorar la experiencia de los usuarios en el sitio."),gs(),ps(30,"h3"),$s(31,"C\xf3mo desactivar nuestras Cookies"),gs(),ps(32,"p"),$s(33,"Usando las opciones de configuraci\xf3n de tu navegador web, podr\xe1s permitir, bloquear o eliminar las cookies instaladas en tu equipo:"),gs(),ps(34,"ul",3),ps(35,"li"),ps(36,"a",5),$s(37,"Google Chrome"),gs(),gs(),ps(38,"li"),ps(39,"a",6),$s(40,"Mozilla Firefox"),gs(),gs(),ps(41,"li"),ps(42,"a",7),$s(43,"Microsoft Edge"),gs(),gs(),ps(44,"li"),ps(45,"a",8),$s(46,"Opera"),gs(),gs(),ps(47,"li"),ps(48,"a",9),$s(49,"Safari"),gs(),gs(),gs(),ps(50,"h3"),$s(51,"Qu\xe9 ocurre si se deshabilitan las Cookies"),gs(),ps(52,"p",3),$s(53,"Navegar sin cookies es perfectamente posible, pero la experiencia de usuario puede no ser \xf3ptima y algunas utilidades pueden no funcionar."),gs(),ps(54,"h3"),$s(55,"Actualizaciones y cambios en la Pol\xedtica de Cookies"),gs(),ps(56,"p",3),ps(57,"span",10),$s(58,"JOYSWEETS"),gs(),$s(59," puede modificar esta Pol\xedtica de Cookies en funci\xf3n de exigencias legislativas, reglamentarias, o con la finalidad de adaptar dicha pol\xedtica a las instrucciones dictadas por la Agencia Espa\xf1ola de Protecci\xf3n de Datos, por ello se aconseja a los Usuarios que la visiten peri\xf3dicamente."),gs(),gs(),gs())},styles:["h3[_ngcontent-%COMP%]{font-weight:500!important}.azul[_ngcontent-%COMP%]{color:#4c99c0;font-weight:500}.azulCookies[_ngcontent-%COMP%]{color:#4c99c0;font-weight:400}"]}),t})()},{path:"",pathMatch:"full",redirectTo:"home"}]},{path:"**",component:Cw}];let Ew=(()=>{class t{}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Qp.forRoot(Aw)],Qp]}),t})(),Sw=(()=>{class t{constructor(){this.roles=[]}setToken(t){window.localStorage.removeItem("AuthToken"),window.localStorage.setItem("AuthToken",t)}getToken(){return localStorage.getItem("AuthToken")}setUserName(t){window.localStorage.removeItem("AuthUserName"),window.localStorage.setItem("AuthUserName",t)}getUserName(){return localStorage.getItem("AuthUserName")}setAuthorities(t){window.localStorage.removeItem("AuthAuthorities"),window.localStorage.setItem("AuthAuthorities",JSON.stringify(t))}getAuthorities(){return this.roles=[],localStorage.getItem("AuthAuthorities")&&JSON.parse(localStorage.getItem("AuthAuthorities")).forEach(t=>{this.roles.push(t.authority)}),this.roles}logOut(){window.localStorage.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Tw=(()=>{class t{constructor(t,e,n){this.http=t,this.tokenService=e,this.router=n,this.cargarStorage()}estaLogueado(){return null===this.tokenService.getToken()?void 0:this.tokenService.getToken().length>5}cargarStorage(){this.tokenService.getToken()?this.tokenService.getToken():this.tokenService.setToken("")}nuevo(t){return this.http.post("https://joysweets.herokuapp.com/auth/nuevo",t,{responseType:"text"}).pipe(L(e=>(pw.a.fire("Usuario creado",'<span style="color:#197AAA">'+t.nombre+"</span>","success"),e.usuario)))}login(t,e=!1){return e?localStorage.setItem("username",t.username):localStorage.removeItem("username"),this.http.post("https://joysweets.herokuapp.com/auth/login",t)}logout(){localStorage.removeItem("AuthToken"),localStorage.removeItem("AuthUserName"),localStorage.removeItem("AuthAuthorities"),localStorage.removeItem("username"),localStorage.removeItem("urlComentario"),this.router.navigate(["/home"])}}return t.\u0275fac=function(e){return new(e||t)(Zt(xg),Zt(Sw),Zt(Ip))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Pw(t,e){if(1&t){const t=_s();ps(0,"li",17),ps(1,"a",18),ms(2,"img",19),gs(),ps(3,"div",20),ps(4,"ul",21),ps(5,"li"),ps(6,"div",22),ps(7,"div",23),ms(8,"img",24),gs(),ps(9,"div",25),ps(10,"h4"),$s(11),gs(),ps(12,"p",26),$s(13),gs(),gs(),gs(),gs(),ms(14,"li",27),ps(15,"li"),ps(16,"a",28),ms(17,"i",29),$s(18," Mi Perfil"),gs(),gs(),ps(19,"li"),ps(20,"a",30),ms(21,"i",31),$s(22," Ver Web"),gs(),gs(),ms(23,"li",27),ps(24,"li"),ps(25,"a",32),ks("click",(function(){return Re(t),As().authService.logout()})),ms(26,"i",33),$s(27," Cerrar sesi\xf3n"),gs(),gs(),gs(),gs(),gs()}if(2&t){const t=As();eo(8),Es("alt",t.usuario.nombre),eo(3),Ws(t.usuario.nombre),eo(2),Ws(t.usuario.username)}}let Mw=(()=>{class t{constructor(t,e,n){this.authService=t,this.tokenService=e,this.usuarioService=n,this.info={};let r=this.tokenService.getUserName();this.cargarUsuarioU(r)}ngOnInit(){this.info={token:this.tokenService.getToken(),username:this.tokenService.getUserName(),authorities:this.tokenService.getAuthorities()}}cargarUsuarioU(t){this.usuarioService.cargarUsuarioU(t).subscribe(t=>{this.usuario=t})}}return t.\u0275fac=function(e){return new(e||t)(ls(Tw),ls(Sw),ls(mw))},t.\u0275cmp=fe({type:t,selectors:[["app-header"]],decls:21,vars:1,consts:[[1,"topbar"],[1,"navbar","top-navbar","navbar-expand-md","navbar-light"],[1,"navbar-header"],[1,"navbar-brand"],["src","../assets/img/joysweets-icon.png","width","30","height","30","alt","homepage",1,"dark-logo"],["src","../assets/images/logo-light-text.png","alt","homepage",1,"light-logo"],["src","../../assets/img/joysweets.png","width","167","height","30","alt","homepage",1,"dark-logo","pl-2"],["src","../../assets/images/logo-light-icon.png","alt","homepage",1,"light-logo"],[1,"navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link","nav-toggler","hidden-md-up","waves-effect","waves-dark"],[1,"ti-menu"],["href","javascript:void(0)",1,"nav-link","sidebartoggler","hidden-sm-down","waves-effect","waves-dark"],[1,"nav-item","hidden-sm-down"],[1,"navbar-nav","my-lg-0"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["href","","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle","waves-effect","waves-dark"],["src","../../assets/images/users/user.png","alt","usuario",1,"profile-pic"],[1,"dropdown-menu","dropdown-menu-right","animated","fadeIn"],[1,"dropdown-user"],[1,"dw-user-box"],[1,"u-img"],["src","../../assets/images/users/user.png",3,"alt"],[1,"u-text"],[1,"text-muted"],["role","separator",1,"divider"],["routerLink","/admin/perfil","routerLinkActive","active"],[1,"ti-user"],["routerLink","/home","target","_blank"],[1,"ti-new-window"],[1,"pointer",3,"click"],[1,"fa","fa-power-off"]],template:function(t,e){1&t&&(ps(0,"header",0),ps(1,"nav",1),ps(2,"div",2),ps(3,"a",3),ps(4,"b"),ms(5,"img",4),ms(6,"img",5),gs(),ps(7,"span"),ms(8,"img",6),ms(9,"img",7),gs(),gs(),gs(),ps(10,"div",8),ps(11,"ul",9),ps(12,"li",10),ps(13,"a",11),ms(14,"i",12),gs(),gs(),ps(15,"li",10),ps(16,"a",13),ms(17,"i",12),gs(),gs(),ms(18,"li",14),gs(),ps(19,"ul",15),as(20,Pw,28,3,"li",16),gs(),gs(),gs(),gs()),2&t&&(eo(20),hs("ngIf",e.usuario))},directives:[Ru,Np,jp],styles:[".oculto[_ngcontent-%COMP%]{display:none}.topbar[_ngcontent-%COMP%]   ul.dropdown-user[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dw-user-box[_ngcontent-%COMP%]   .u-text[_ngcontent-%COMP%]{padding-top:15px}.topbar[_ngcontent-%COMP%]   ul.dropdown-user[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dw-user-box[_ngcontent-%COMP%]   .u-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:25px;color:#197aaa}"]}),t})(),Ow=(()=>{class t{constructor(){this.menu=[{titulo:"Mantenimiento",icono:"mdi mdi-bullseye",submenu:[{titulo:"Usuarios",url:"/admin/usuarios"},{titulo:"Recetas",url:"/admin/posts"},{titulo:"Comentarios",url:"/admin/comentarios"}]}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Iw(t,e){if(1&t){const t=_s();ps(0,"li",6),ps(1,"a",7),ms(2,"img",8),ps(3,"span",9),$s(4),gs(),gs(),ps(5,"ul",10),ps(6,"li"),ps(7,"a",11),$s(8,"Mi Perfil "),gs(),gs(),ps(9,"li"),ps(10,"a",12),$s(11,"Ver Web"),gs(),gs(),ps(12,"li"),ps(13,"a",13),ks("click",(function(){return Re(t),As().authService.logout()})),$s(14,"Cerrar sesi\xf3n"),gs(),gs(),gs(),gs()}if(2&t){const t=As();eo(2),Es("alt",t.usuario.nombre),eo(2),Ws(t.usuario.nombre)}}const Dw=function(t){return[t]};function Nw(t,e){if(1&t&&(ps(0,"li"),ps(1,"a",20),$s(2),gs(),gs()),2&t){const t=e.$implicit;eo(1),hs("routerLink",lc(2,Dw,t.url)),eo(1),Gs("",t.titulo," ")}}function Rw(t,e){if(1&t&&(ps(0,"li"),ps(1,"a",17),ms(2,"i"),ps(3,"span",18),$s(4),ps(5,"span",19),$s(6),gs(),gs(),gs(),ps(7,"ul",10),as(8,Nw,3,4,"li",16),gs(),gs()),2&t){const t=e.$implicit;eo(2),function(t,e,n,r){const o=Ne(),i=$e(2);o.firstUpdatePass&&Fs(o,null,i,!0);const s=De();if(n!==Xr&&rs(s,i,n)){const r=o.data[nn()+19];if(qs(r,!0)&&!Ls(o,i)){let t=r.classes;null!==t&&(n=Ct(t,n||"")),fs(o,r,s,n,!0)}else!function(t,e,n,r,o,i,s,a){o===Xr&&(o=Ts);let c=0,l=0,u=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;null!==u||null!==d;){const s=c<o.length?o[c+1]:void 0,h=l<i.length?i[l+1]:void 0;let f=null,p=void 0;u===d?(c+=2,l+=2,s!==h&&(f=d,p=h)):null===d||null!==u&&u<d?(c+=2,f=u):(l+=2,f=d,p=h),null!==f&&zs(t,e,n,r,f,p,!0,a),u=c<o.length?o[c]:null,d=l<i.length?i[l]:null}}(o,r,s,s[11],s[i+1],s[i+1]=function(t,e,n){if(null==n||""===n)return Ts;const r=[],o=tr(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)t(r,o[i],!0);else if("object"==typeof o)for(const i in o)o.hasOwnProperty(i)&&t(r,i,o[i]);else"string"==typeof o&&e(r,o);return r}(t,e,n),0,i)}}(ie,js,t.icono),eo(2),Gs("",t.titulo," "),eo(2),Ws(t.submenu.length),eo(2),hs("ngForOf",t.submenu)}}function jw(t,e){if(1&t&&(bs(0),ms(1,"li",14),ps(2,"li",15),$s(3,"ADMINISTRACI\xd3N"),gs(),as(4,Rw,9,5,"li",16),ws()),2&t){const t=As();eo(4),hs("ngForOf",t.sidebarService.menu)}}let Lw=(()=>{class t{constructor(t,e,n,r){this.sidebarService=t,this.usuarioService=e,this.authService=n,this.tokenService=r,this.info={};let o=localStorage.getItem("AuthUserName");this.cargarUsuarioU(o),this.usuarioService.cargarUsuarioU(o).subscribe(t=>{this.usuario=t,this.roleName=this.usuario.roles[0].roleName})}ngOnInit(){this.info={token:this.tokenService.getToken(),username:this.tokenService.getUserName(),authorities:this.tokenService.getAuthorities()}}cargarUsuarioU(t){this.usuarioService.cargarUsuarioU(t).subscribe(t=>{this.usuario=t})}}return t.\u0275fac=function(e){return new(e||t)(ls(Ow),ls(mw),ls(Tw),ls(Sw))},t.\u0275cmp=fe({type:t,selectors:[["app-sidebar"]],decls:6,vars:2,consts:[[1,"left-sidebar"],[1,"scroll-sidebar"],[1,"sidebar-nav"],["id","sidebarnav"],["class","user-profile",4,"ngIf"],[4,"ngIf"],[1,"user-profile"],["href","#","aria-expanded","false",1,"has-arrow","waves-effect","waves-dark"],["src","../assets/images/users/user.png",3,"alt"],[1,"hide-menu","nombre"],["aria-expanded","false",1,"collapse"],["routerLink","/admin/perfil","routerLinkActive","active"],["routerLink","/home","target","_blank"],[1,"pointer",3,"click"],[1,"nav-devider"],[1,"nav-small-cap"],[4,"ngFor","ngForOf"],["aria-expanded","false",1,"has-arrow","waves-effect","waves-dark"],[1,"hide-menu"],[1,"label","label-rouded","label-themecolor","pull-right"],["routerLinkActive","active",3,"routerLink"]],template:function(t,e){1&t&&(ps(0,"aside",0),ps(1,"div",1),ps(2,"nav",2),ps(3,"ul",3),as(4,Iw,15,2,"li",4),as(5,jw,5,1,"ng-container",5),gs(),gs(),gs(),gs()),2&t&&(eo(4),hs("ngIf",e.usuario),eo(1),hs("ngIf","ROLE_ADMIN"===e.roleName))},directives:[Ru,Np,jp,Du],styles:[".sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.nombre[_ngcontent-%COMP%]{font-size:18px;line-height:5px}"]}),t})(),Fw=(()=>{class t{constructor(t,e){this.route=t,this.meta=e,this.getDataRoute().subscribe(t=>{this.titulo=t.titulo,this.meta.updateTag({name:"description",content:this.titulo})})}ngOnInit(){}getDataRoute(){return this.route.events.pipe(Dd(t=>t instanceof Oh),Dd(t=>null===t.snapshot.firstChild),L(t=>t.snapshot.data))}}return t.\u0275fac=function(e){return new(e||t)(ls(Ip),ls(kd))},t.\u0275cmp=fe({type:t,selectors:[["app-breadcrumbs"]],decls:13,vars:2,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)"],[1,"breadcrumb-item","active"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"h3",2),$s(3),gs(),gs(),ps(4,"div",3),ps(5,"ol",4),ps(6,"li",5),ps(7,"a",6),$s(8,"Home"),gs(),gs(),ps(9,"li",5),$s(10,"P\xe1ginas"),gs(),ps(11,"li",7),$s(12),gs(),gs(),gs(),gs()),2&t&&(eo(3),Ws(e.titulo),eo(9),Ws(e.titulo))},styles:[""]}),t})(),Vw=(()=>{class t{constructor(){this.title="joysweets"}ngOnInit(){this.loadScript("../../assets/plugins/jquery/jquery.min.js"),this.loadScript("../../assets/plugins/bootstrap/js/popper.min.js"),this.loadScript("../../assets/plugins/bootstrap/js/bootstrap.min.js"),this.loadScript("../../assets/js/sidebarmenu.js"),this.loadScript("../../assets/js/custom.min.js"),this.loadScript("../../assets/js/jasny-bootstrap.js")}loadScript(t){const e=document.body,n=document.createElement("script");n.innerHTML="",n.src=t,n.async=!1,n.defer=!0,e.appendChild(n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-admin"]],decls:12,vars:0,consts:[[1,"preloader"],[1,"loader"],[1,"loader__figure"],[1,"loader__label"],["id","main-wrapper"],[1,"page-wrapper"],[1,"container-fluid"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ms(2,"div",2),ps(3,"p",3),$s(4,"JOYSWEETS"),gs(),gs(),gs(),ps(5,"div",4),ms(6,"app-header"),ms(7,"app-sidebar"),ps(8,"div",5),ps(9,"div",6),ms(10,"app-breadcrumbs"),ms(11,"router-outlet"),gs(),gs(),gs())},directives:[Mw,Lw,Fw,Vp],styles:['[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{padding-left:26px;line-height:21px;font-weight:400;position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-user-select:none;-moz-user-select:none;-khtml-user-select:none;-ms-user-select:none}[type=checkbox][_ngcontent-%COMP%]:checked, [type=checkbox][_ngcontent-%COMP%]:not(:checked){position:absolute;left:-9999px;opacity:0}[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before, [type=checkbox][_ngcontent-%COMP%]:not(.filled-in) + label[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:18px;height:18px;z-index:0;border:1px solid #b1b8bb;border-radius:1px;margin-top:2px;transition:.2s}[type=checkbox][_ngcontent-%COMP%]:not(.filled-in) + label[_ngcontent-%COMP%]:after{border:0;transform:scale(0)}[type=checkbox][_ngcontent-%COMP%]:not(:checked):disabled + label[_ngcontent-%COMP%]:before{border:none;background-color:rgba(0,0,0,.26)}[type=checkbox].tabbed[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:after{transform:scale(1);border:0;border-radius:50%;box-shadow:0 0 0 10px rgba(0,0,0,.1);background-color:rgba(0,0,0,.1)}[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{top:-4px;left:-5px;width:12px;height:22px;border-color:transparent #26a69a #26a69a transparent;border-style:solid;border-width:2px;transform:rotate(40deg);-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:100% 100%}[type=checkbox][_ngcontent-%COMP%]:checked:disabled + label[_ngcontent-%COMP%]:before{border-right:2px solid rgba(0,0,0,.26);border-bottom:2px solid rgba(0,0,0,.26)}[type=checkbox][_ngcontent-%COMP%]:indeterminate + label[_ngcontent-%COMP%]:before{top:-11px;left:-12px;width:10px;height:22px;border:none;border-right:2px solid #26a69a;transform:rotate(90deg);-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:100% 100%}[type=checkbox][_ngcontent-%COMP%]:indeterminate:disabled + label[_ngcontent-%COMP%]:before{border-right:2px solid rgba(0,0,0,.26);background-color:transparent}[type=checkbox].filled-in[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after{border-radius:2px}[type=checkbox].filled-in[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after, [type=checkbox].filled-in[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{content:"";left:0;position:absolute;transition:border .25s,background-color .25s,width .2s .1s,height .2s .1s,top .2s .1s,left .2s .1s;z-index:1}[type=checkbox].filled-in[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;transform:rotate(37deg);transform-origin:100% 100%}[type=checkbox].filled-in[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:after{height:20px;width:20px;background-color:transparent;border:1px solid #b1b8bb;top:0;z-index:0}[type=checkbox].filled-in[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{top:0;left:1px;width:8px;height:13px;border-color:transparent #fff #fff transparent;border-style:solid;border-width:2px;transform:rotate(37deg);transform-origin:100% 100%}[type=checkbox].filled-in[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{top:0;width:20px;height:20px;border:2px solid #26a69a;background-color:#26a69a;z-index:0}[type=checkbox].filled-in.tabbed[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:after{border-radius:2px;border-color:#5a5a5a;background-color:rgba(0,0,0,.1)}[type=checkbox].filled-in.tabbed[_ngcontent-%COMP%]:checked:focus + label[_ngcontent-%COMP%]:after{border-radius:2px;background-color:#26a69a;border-color:#26a69a}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:not(:checked) + label[_ngcontent-%COMP%]:before{background-color:transparent;border:2px solid transparent}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:not(:checked) + label[_ngcontent-%COMP%]:after{border-color:transparent;background-color:#bdbdbd}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:checked + label[_ngcontent-%COMP%]:before{background-color:transparent}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:checked + label[_ngcontent-%COMP%]:after{background-color:#bdbdbd;border-color:#bdbdbd}']}),t})(),Bw=(()=>{class t{constructor(t){this.tokenService=t,this.info={}}ngOnInit(){this.info={token:this.tokenService.getToken(),username:this.tokenService.getUserName(),authorities:this.tokenService.getAuthorities()}}}return t.\u0275fac=function(e){return new(e||t)(ls(Sw))},t.\u0275cmp=fe({type:t,selectors:[["app-dashboard"]],decls:9,vars:1,consts:[["id","wrapper",1,"error","animated","fadeIn"],[1,"error-box","card"],[1,"text-center"],[1,"m-t-30"],[1,"text-uppercase"],[1,"text-muted","m-t-30","m-b-30"]],template:function(t,e){1&t&&(ps(0,"section",0),ps(1,"div",1),ps(2,"div",2),ps(3,"h1",3),$s(4,"Est\xe1s dentro"),gs(),ps(5,"h3",4),$s(6),gs(),ps(7,"p",5),$s(8,"COME DULCES AMA"),gs(),gs(),gs(),gs()),2&t&&(eo(6),Ws(e.info.username))},styles:[".error-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px;font-weight:900;line-height:70px;color:#ffc803}"]}),t})();class zw{constructor(t,e){this.username=t,this.password=e}}let Uw=(()=>{class t{constructor(t,e,n){this.router=t,this.authService=e,this.tokenService=n,this.recuerdame=!1}ngOnInit(){this.username=localStorage.getItem("username")||"",this.username.length>1&&(this.recuerdame=!0)}ingresar(t){if(t.invalid)return;let e=new zw(t.value.username,t.value.password);this.authService.login(e,t.value.recuerdame).subscribe(t=>{this.tokenService.setToken(t.token),this.tokenService.setUserName(t.username),this.tokenService.setAuthorities(t.authorities),this.router.navigate(["/admin/perfil"])},t=>{console.log(t.status),pw.a.fire("Error","La cuenta o la contrase\xf1a es incorrecta","error")})}}return t.\u0275fac=function(e){return new(e||t)(ls(Ip),ls(Tw),ls(Sw))},t.\u0275cmp=fe({type:t,selectors:[["app-login"]],decls:43,vars:2,consts:[["id","wrapper",1,"login-register","login-sidebar","animated","fadeIn",2,"background-image","url(../assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["ngNativeValidate","",1,"form-horizontal","form-material",3,"ngSubmit"],["f","ngForm"],["routerLink","/home",1,"text-center","db","mt-2"],["src","../assets/img/joysweets.png","width","167","height","30","alt","Home"],[1,"form-group","m-t-40"],[1,"col-xs-12"],["name","username","type","email","required","","placeholder","Email",1,"form-control",3,"ngModel"],[1,"form-group"],["ngModel","","name","password","type","password","required","","placeholder","Contrase\xf1a",1,"form-control"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-primary","p-t-0","text-center"],["name","recuerdame","id","checkbox-signup","type","checkbox",1,"filled-in","chk-col-light-blue",3,"ngModel","ngModelChange"],["for","checkbox-signup"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase"],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/register",1,"text-primary","m-l-5"],["id","recoverform","action","index.html",1,"form-horizontal"],[1,"text-muted"],["type","text","required","","placeholder","Email",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"]],template:function(t,e){if(1&t){const t=_s();ps(0,"section",0),ps(1,"div",1),ps(2,"div",2),ps(3,"form",3,4),ks("ngSubmit",(function(){Re(t);const n=cs(4);return e.ingresar(n)})),ps(5,"a",5),ms(6,"img",6),gs(),ps(7,"div",7),ps(8,"div",8),ms(9,"input",9),gs(),gs(),ps(10,"div",10),ps(11,"div",8),ms(12,"input",11),gs(),gs(),ps(13,"div",12),ps(14,"div",13),ps(15,"div",14),ps(16,"input",15),ks("ngModelChange",(function(t){return e.recuerdame=t})),gs(),ps(17,"label",16),$s(18," Recu\xe9rdame "),gs(),gs(),gs(),gs(),ps(19,"div",17),ps(20,"div",8),ps(21,"button",18),$s(22,"Ingresar"),gs(),gs(),gs(),ps(23,"div",19),ps(24,"div",20),$s(25," No tienes cuenta? "),ps(26,"a",21),ps(27,"b"),$s(28,"Crea tu cuenta"),gs(),gs(),gs(),gs(),gs(),ps(29,"form",22),ps(30,"div",10),ps(31,"div",8),ps(32,"h3"),$s(33,"Recuperar contrase\xf1a"),gs(),ps(34,"p",23),$s(35,"Escribe tu correo electr\xf3nico y sigue los pasos "),gs(),gs(),gs(),ps(36,"div",10),ps(37,"div",8),ms(38,"input",24),gs(),gs(),ps(39,"div",17),ps(40,"div",8),ps(41,"button",25),$s(42,"Reset"),gs(),gs(),gs(),gs(),gs(),gs(),gs()}2&t&&(eo(9),hs("ngModel",e.username),eo(7),hs("ngModel",e.recuerdame))},directives:[jm,Nb,Np,Tm,ew,Rm,Ub,Am,Hb],styles:['.login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:50%;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0;right:0}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0;position:absolute;height:100%}label[_ngcontent-%COMP%]{padding-top:0}[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{padding-left:26px;line-height:21px;font-weight:400;position:relative;cursor:pointer;display:inline-block;height:25px;font-size:1rem;-webkit-user-select:none;-moz-user-select:none;-khtml-user-select:none;-ms-user-select:none}[type=checkbox][_ngcontent-%COMP%]:checked, [type=checkbox][_ngcontent-%COMP%]:not(:checked){position:absolute;left:-9999px;opacity:0}[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before, [type=checkbox][_ngcontent-%COMP%]:not(.filled-in) + label[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:18px;height:18px;z-index:0;border:1px solid #b1b8bb;border-radius:1px;margin-top:2px;transition:.2s}[type=checkbox][_ngcontent-%COMP%]:not(.filled-in) + label[_ngcontent-%COMP%]:after{border:0;transform:scale(0)}[type=checkbox][_ngcontent-%COMP%]:not(:checked):disabled + label[_ngcontent-%COMP%]:before{border:none;background-color:rgba(0,0,0,.26)}[type=checkbox].tabbed[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:after{transform:scale(1);border:0;border-radius:50%;box-shadow:0 0 0 10px rgba(0,0,0,.1);background-color:rgba(0,0,0,.1)}[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{top:-4px;left:-5px;width:12px;height:22px;border-color:transparent #197aaa #197aaa transparent;border-style:solid;border-width:2px;transform:rotate(40deg);-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:100% 100%}[type=checkbox][_ngcontent-%COMP%]:checked:disabled + label[_ngcontent-%COMP%]:before{border-right:2px solid rgba(0,0,0,.26);border-bottom:2px solid rgba(0,0,0,.26)}[type=checkbox][_ngcontent-%COMP%]:indeterminate + label[_ngcontent-%COMP%]:before{top:-11px;left:-12px;width:10px;height:22px;border:none;border-right:2px solid #26a69a;transform:rotate(90deg);-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:100% 100%}[type=checkbox][_ngcontent-%COMP%]:indeterminate:disabled + label[_ngcontent-%COMP%]:before{border-right:2px solid rgba(0,0,0,.26);background-color:transparent}[type=checkbox].filled-in[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after{border-radius:2px}[type=checkbox].filled-in[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after, [type=checkbox].filled-in[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{content:"";left:0;position:absolute;transition:border .25s,background-color .25s,width .2s .1s,height .2s .1s,top .2s .1s,left .2s .1s;z-index:1}[type=checkbox].filled-in[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;transform:rotate(37deg);transform-origin:100% 100%}[type=checkbox].filled-in[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:after{height:20px;width:20px;background-color:transparent;border:1px solid #b1b8bb;top:0;z-index:0}[type=checkbox].filled-in[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{top:0;left:1px;width:8px;height:13px;border-color:transparent #fff #fff transparent;border-style:solid;border-width:2px;transform:rotate(37deg);transform-origin:100% 100%}[type=checkbox].filled-in[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{top:0;width:20px;height:20px;border:2px solid #197aaa;background-color:#197aaa;z-index:0}[type=checkbox].filled-in.tabbed[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:after{border-radius:2px;border-color:#5a5a5a;background-color:rgba(0,0,0,.1)}[type=checkbox].filled-in.tabbed[_ngcontent-%COMP%]:checked:focus + label[_ngcontent-%COMP%]:after{border-radius:2px;background-color:#26a69a;border-color:#26a69a}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:not(:checked) + label[_ngcontent-%COMP%]:before{background-color:transparent;border:2px solid transparent}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:not(:checked) + label[_ngcontent-%COMP%]:after{border-color:transparent;background-color:#bdbdbd}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:checked + label[_ngcontent-%COMP%]:before{background-color:transparent}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:checked + label[_ngcontent-%COMP%]:after{background-color:#bdbdbd;border-color:#bdbdbd}']}),t})();class Hw{constructor(t,e,n){this.nombre=t,this.username=e,this.password=n}}function qw(t,e){1&t&&(ps(0,"div",10),ps(1,"p",26),$s(2," Las contrase\xf1as deben ser iguales "),gs(),gs())}let $w=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}sonIguales(t,e){return n=>n.controls[t].value===n.controls[e].value?null:{sonIguales:!0}}ngOnInit(){this.form=new Mb({nombre:new Pb(null,zm.required),username:new Pb(null,[zm.required,zm.email]),password:new Pb(null,zm.required),password2:new Pb(null,zm.required),condiciones:new Pb(!1)},{validators:this.sonIguales("password","password2")})}registrarUsuario(){if(this.form.invalid)return;if(!this.form.value.condiciones)return void pw.a.fire({title:"Importante",text:"Debes aceptar las condiciones",icon:"warning"});let t=new Hw(this.form.value.nombre,this.form.value.username,this.form.value.password),e=parseInt(localStorage.getItem("urlComentario"));console.log(e),this.authService.nuevo(t).subscribe(t=>{this.router.navigate(e?["/loginUrl/"+e]:["/login"])},t=>{console.log(t.status),pw.a.fire("Error",'Ya existe un usuario con el Email <br><span style="color:#197AAA">'+this.form.value.username+"</span>","error")})}}return t.\u0275fac=function(e){return new(e||t)(ls(Tw),ls(Ip))},t.\u0275cmp=fe({type:t,selectors:[["app-register"]],decls:42,vars:2,consts:[["id","wrapper",1,"login-register","login-sidebar","animated","fadeIn",2,"background-image","url(../assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["ngNativeValidate","","id","loginform","action","index.html",1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],["routerLink","/home",1,"text-center","db","mt-2"],["src","../assets/img/joysweets.png","width","167","height","30","alt","Home"],[1,"box-title","m-t-40","m-b-0"],[1,"form-group","m-t-20"],[1,"col-xs-12"],["formControlName","nombre","name","nombre","type","text","required","","placeholder","Nombre",1,"form-control"],[1,"form-group"],["formControlName","username","name","username","type","email","required","","placeholder","Email",1,"form-control"],["formControlName","password","name","password","type","password","required","","placeholder","Contrase\xf1a",1,"form-control"],["formControlName","password2","name","password2","type","password","required","","placeholder","Confirma contrase\xf1a",1,"form-control"],["class","form-group",4,"ngIf"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-primary","p-t-0"],["formControlName","condiciones","name","condiciones","id","checkbox-signup","type","checkbox"],["for","checkbox-signup"],["routerLink","/privacidad","target","_blank"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/login",1,"text-info","m-l-5"],[1,"text-danger"]],template:function(t,e){1&t&&(ps(0,"section",0),ps(1,"div",1),ps(2,"div",2),ps(3,"form",3),ks("ngSubmit",(function(){return e.registrarUsuario()})),ps(4,"a",4),ms(5,"img",5),gs(),ps(6,"h3",6),$s(7,"Reg\xedstrate ahora"),gs(),ps(8,"small"),$s(9,"Crea una cuenta y disfruta"),gs(),ps(10,"div",7),ps(11,"div",8),ms(12,"input",9),gs(),gs(),ps(13,"div",10),ps(14,"div",8),ms(15,"input",11),gs(),gs(),ps(16,"div",10),ps(17,"div",8),ms(18,"input",12),gs(),gs(),ps(19,"div",10),ps(20,"div",8),ms(21,"input",13),gs(),gs(),as(22,qw,3,0,"div",14),ps(23,"div",15),ps(24,"div",16),ps(25,"div",17),ms(26,"input",18),ps(27,"label",19),$s(28," Estoy de acuerdo con los "),ps(29,"a",20),$s(30,"T\xe9rminos"),gs(),gs(),gs(),gs(),gs(),ps(31,"div",21),ps(32,"div",8),ps(33,"button",22),$s(34,"Registrarme"),gs(),gs(),gs(),ps(35,"div",23),ps(36,"div",24),ps(37,"p"),$s(38,"Tienes una cuenta? "),ps(39,"a",25),ps(40,"b"),$s(41,"Ingresa ahora"),gs(),gs(),gs(),gs(),gs(),gs(),gs(),gs(),gs()),2&t&&(eo(3),hs("formGroup",e.form),eo(19),hs("ngIf",(null==e.form.errors?null:e.form.errors.sonIguales)&&!e.form.pristine))},directives:[jm,Wb,Np,Tm,Rm,Xb,ew,Ru,Am],styles:['.login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:50%;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0;right:0}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0;position:absolute;height:100%}label[_ngcontent-%COMP%]{padding-top:0}[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{padding-left:26px;line-height:21px;font-weight:400;position:relative;cursor:pointer;display:inline-block;height:25px;font-size:1rem;-webkit-user-select:none;-moz-user-select:none;-khtml-user-select:none;-ms-user-select:none}[type=checkbox][_ngcontent-%COMP%]:checked, [type=checkbox][_ngcontent-%COMP%]:not(:checked){position:absolute;left:-9999px;opacity:0}[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before, [type=checkbox][_ngcontent-%COMP%]:not(.filled-in) + label[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:18px;height:18px;z-index:0;border:1px solid #b1b8bb;border-radius:1px;margin-top:2px;transition:.2s}[type=checkbox][_ngcontent-%COMP%]:not(.filled-in) + label[_ngcontent-%COMP%]:after{border:0;transform:scale(0)}[type=checkbox][_ngcontent-%COMP%]:not(:checked):disabled + label[_ngcontent-%COMP%]:before{border:none;background-color:rgba(0,0,0,.26)}[type=checkbox].tabbed[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:after{transform:scale(1);border:0;border-radius:50%;box-shadow:0 0 0 10px rgba(0,0,0,.1);background-color:rgba(0,0,0,.1)}[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{top:-4px;left:-5px;width:12px;height:22px;border-color:transparent #197aaa #197aaa transparent;border-style:solid;border-width:2px;transform:rotate(40deg);-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:100% 100%}[type=checkbox][_ngcontent-%COMP%]:checked:disabled + label[_ngcontent-%COMP%]:before{border-right:2px solid rgba(0,0,0,.26);border-bottom:2px solid rgba(0,0,0,.26)}[type=checkbox][_ngcontent-%COMP%]:indeterminate + label[_ngcontent-%COMP%]:before{top:-11px;left:-12px;width:10px;height:22px;border:none;border-right:2px solid #26a69a;transform:rotate(90deg);-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:100% 100%}[type=checkbox][_ngcontent-%COMP%]:indeterminate:disabled + label[_ngcontent-%COMP%]:before{border-right:2px solid rgba(0,0,0,.26);background-color:transparent}[type=checkbox].filled-in[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after{border-radius:2px}[type=checkbox].filled-in[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after, [type=checkbox].filled-in[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{content:"";left:0;position:absolute;transition:border .25s,background-color .25s,width .2s .1s,height .2s .1s,top .2s .1s,left .2s .1s;z-index:1}[type=checkbox].filled-in[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;transform:rotate(37deg);transform-origin:100% 100%}[type=checkbox].filled-in[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:after{height:20px;width:20px;background-color:transparent;border:1px solid #b1b8bb;top:0;z-index:0}[type=checkbox].filled-in[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{top:0;left:1px;width:8px;height:13px;border-color:transparent #fff #fff transparent;border-style:solid;border-width:2px;transform:rotate(37deg);transform-origin:100% 100%}[type=checkbox].filled-in[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{top:0;width:20px;height:20px;border:2px solid #197aaa;background-color:#197aaa;z-index:0}[type=checkbox].filled-in.tabbed[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:after{border-radius:2px;border-color:#5a5a5a;background-color:rgba(0,0,0,.1)}[type=checkbox].filled-in.tabbed[_ngcontent-%COMP%]:checked:focus + label[_ngcontent-%COMP%]:after{border-radius:2px;background-color:#26a69a;border-color:#26a69a}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:not(:checked) + label[_ngcontent-%COMP%]:before{background-color:transparent;border:2px solid transparent}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:not(:checked) + label[_ngcontent-%COMP%]:after{border-color:transparent;background-color:#bdbdbd}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:checked + label[_ngcontent-%COMP%]:before{background-color:transparent}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:checked + label[_ngcontent-%COMP%]:after{background-color:#bdbdbd;border-color:#bdbdbd}']}),t})(),Ww=(()=>{class t{transform(t,e){if(""===e||e.lenght<3)return t;const n=[];for(const r of t)r.nombre.toLowerCase().indexOf(e.toLowerCase())>-1&&n.push(r);return n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ve({name:"filterUser",type:t,pure:!0}),t})(),Gw=(()=>{class t{transform(t){return"ROLE_ADMIN"==t?"ADMIN":"USER"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ve({name:"rol",type:t,pure:!0}),t})();const Yw=function(t){return["/admin/usuario",t]};function Qw(t,e){if(1&t){const t=_s();ps(0,"tr"),ps(1,"td"),$s(2),gs(),ps(3,"td"),$s(4),gs(),ps(5,"td"),$s(6),dc(7,"rol"),gs(),ps(8,"td"),ps(9,"button",10),ms(10,"i",11),gs(),ps(11,"button",12),ks("click",(function(){Re(t);const n=e.$implicit;return As().borrarUsuario(n)})),ms(12,"i",13),gs(),gs(),gs()}if(2&t){const t=e.$implicit;eo(2),Ws(t.nombre),eo(2),Ws(t.username),eo(2),Ws(hc(7,4,t.roles[0].roleName)),eo(3),hs("routerLink",lc(6,Yw,t.idUsuario))}}const Zw=function(t){return{itemsPerPage:5,currentPage:t}};let Kw=(()=>{class t{constructor(t){this.usuarioService=t,this.usuarios=[],this.filteruser=""}ngOnInit(){this.cargarUsuarios()}cargarUsuarios(){this.usuarioService.cargarUsuarios().subscribe(t=>{console.log(t),this.usuarios=t})}buscarUsuario(t){console.log(t)}borrarUsuario(t){pw.a.fire({title:"Est\xe1s seguro?",html:'Est\xe1s a punto de borrar a <br><span style="color:#197AAA">'+t.nombre+"</span>",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, b\xf3rralo",cancelButtonText:"No, cancela!"}).then(e=>{e.value&&(this.usuarioService.borrarUsuario(t.idUsuario).subscribe(t=>{console.log(t),this.cargarUsuarios()}),pw.a.fire("Borrado!",'<span style="color:#197AAA">'+t.nombre+"</span> ha sido borrado","success"))})}}return t.\u0275fac=function(e){return new(e||t)(ls(mw))},t.\u0275cmp=fe({type:t,selectors:[["app-usuarios"]],decls:33,vars:11,consts:[[1,"row","animated","fadeIn"],[1,"col-12"],[1,"card"],[1,"card-body"],["name","filteruser","type","text","placeholder","\uf002 Buscar usuario ...",1,"form-control","joy",2,"font-family","'Montserrat', FontAwesome",3,"ngModel","ngModelChange"],[1,"card-title"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-body","text-center"],["previousLabel","Anterior","nextLabel","Siguiente","responsive","true",3,"pageChange"],["title","Modificar este usuario",1,"btn","btn-primary","m-r-10",3,"routerLink"],[1,"fa","fa-pencil"],["title","Eliminar este usuario",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash-o"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"div",2),ps(3,"div",3),ps(4,"input",4),ks("ngModelChange",(function(t){return e.filteruser=t})),gs(),gs(),gs(),gs(),gs(),ps(5,"div",0),ps(6,"div",1),ps(7,"div",2),ps(8,"div",3),ps(9,"h3",5),$s(10,"Usuarios registrados ("),ps(11,"small"),$s(12),gs(),$s(13,")"),gs(),ps(14,"table",6),ps(15,"thead"),ps(16,"tr"),ps(17,"th"),$s(18,"Nombre"),gs(),ps(19,"th"),$s(20,"Email"),gs(),ps(21,"th"),$s(22,"Rol"),gs(),ms(23,"th"),gs(),gs(),ps(24,"tbody"),as(25,Qw,13,8,"tr",7),dc(26,"paginate"),dc(27,"filterUser"),gs(),gs(),gs(),gs(),gs(),gs(),ps(28,"div",0),ps(29,"div",1),ps(30,"div",2),ps(31,"div",8),ps(32,"pagination-controls",9),ks("pageChange",(function(t){return e.page=t})),gs(),gs(),gs(),gs(),gs()),2&t&&(eo(4),hs("ngModel",e.filteruser),eo(8),Ws(e.usuarios.length),eo(13),hs("ngForOf",fc(26,3,fc(27,6,e.usuarios,e.filteruser),lc(9,Zw,e.page))))},directives:[Tm,Rm,Ub,Du,lm,Dp],pipes:[im,Ww,Gw],encapsulation:2}),t})(),Jw=(()=>{class t{constructor(t){this.http=t}cargarPosts(){return this.http.get("https://joysweets.herokuapp.com/posts/posts")}cargarPost(t){return this.http.get(ag+"/posts/post/"+t)}borrarPost(t){return this.http.delete(ag+"/posts/eliminarPost/"+t,{responseType:"text"})}crearPost(t){return this.http.post("https://joysweets.herokuapp.com/posts/insertarPost",t,{responseType:"text"}).pipe(L(t=>(pw.a.fire("Receta creada","post.nombre","success"),t.formData)))}actualizarPost(t,e){return this.http.put(ag+"/posts/modificarPost/"+t,e,{responseType:"text"}).pipe(L(t=>(pw.a.fire("Receta actualizada","Receta actualizada con \xe9xito","success"),t.formData)))}actualizarPostNoFile(t,e){return this.http.put(ag+"/posts/modificarPostNoFile/"+t,e,{responseType:"text"}).pipe(L(t=>(pw.a.fire("Receta actualizada","Receta actualizada con \xe9xito","success"),t.formData)))}}return t.\u0275fac=function(e){return new(e||t)(Zt(xg))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Xw=(()=>{class t{transform(t){return t?zg.sortBy(t,(function(t){return t.idPost})).reverse():""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ve({name:"sort2",type:t,pure:!0}),t})(),t_=(()=>{class t{transform(t,e){const n=[];for(const r of t)r.nombre.toLowerCase().indexOf(e.toLowerCase())>-1&&n.push(r);return n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ve({name:"filterPost",type:t,pure:!0}),t})(),e_=(()=>{class t{transform(t,e=250,n=!1,r=" [...]"){return t.length<e?`${t.substr(0,e)}`:(n&&(e=t.substr(0,e).lastIndexOf(" ")),`${t.substr(0,e)}${r}`)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ve({name:"truncateReceta",type:t,pure:!0}),t})();const n_=function(t){return["/admin/post",t]};function r_(t,e){if(1&t){const t=_s();ps(0,"tr"),ps(1,"td"),$s(2),gs(),ps(3,"td"),$s(4),gs(),ms(5,"td",14),dc(6,"truncateReceta"),ps(7,"td",15),ms(8,"img",16),gs(),ps(9,"td"),ps(10,"button",17),ms(11,"i",18),gs(),ps(12,"button",19),ks("click",(function(){Re(t);const n=e.$implicit;return As().borrarPost(n)})),ms(13,"i",20),gs(),gs(),gs()}if(2&t){const t=e.$implicit;eo(2),Ws(t.nombre),eo(2),Ws(t.categoria),eo(1),hs("innerHTML",pc(6,5,t.post,130,!0),Sr),eo(3),Es("src",t.imagen,Tr),eo(2),hs("routerLink",lc(9,n_,t.idPost))}}const o_=function(){return["/admin/postNuevo"]},i_=function(){return{width:"20%"}},s_=function(){return{width:"5%"}},a_=function(){return{width:"52%"}},c_=function(){return{width:"10%"}},l_=function(){return{width:"13%"}},u_=function(t){return{itemsPerPage:5,currentPage:t}};let d_=(()=>{class t{constructor(t){this.postService=t,this.posts=[],this.filterpost=""}ngOnInit(){this.cargarPosts()}cargarPosts(){this.postService.cargarPosts().subscribe(t=>{this.posts=t})}borrarPost(t){pw.a.fire({title:"Est\xe1s seguro?",html:'Est\xe1s a punto de borrar <br><span style="color:#197AAA">'+t.nombre+"</span>",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, b\xf3rralo",cancelButtonText:"No, cancela!"}).then(e=>{e.value&&(this.postService.borrarPost(t.idPost).subscribe(t=>{this.cargarPosts()}),pw.a.fire("Borrado!",'<span style="color:#197AAA">'+t.nombre+"</span> ha sido borrado","success"))})}}return t.\u0275fac=function(e){return new(e||t)(ls(Jw))},t.\u0275cmp=fe({type:t,selectors:[["app-posts"]],decls:40,vars:25,consts:[[1,"row","animated","fadeIn"],[1,"col-12"],[1,"card"],[1,"card-body"],["name","filterpost","type","text","placeholder","\uf002 Buscar receta ...",1,"form-control","joy",2,"font-family","'Montserrat', FontAwesome",3,"ngModel","ngModelChange"],[1,"text-right"],["type","button",1,"btn","waves-effect","waves-light","btn-primary",3,"routerLink"],[1,"fa","fa-plus"],[1,"card-title"],[1,"table","table-hover"],[3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"card-body","text-center"],["previousLabel","Anterior","nextLabel","Siguiente","responsive","true",3,"pageChange"],[3,"innerHTML"],["id","image-popups"],[1,"img-responsive","img-thumbnail","img-50",3,"src"],["title","Modificar esta receta",1,"btn","btn-primary","m-r-10",3,"routerLink"],[1,"fa","fa-pencil"],["title","Eliminar esta receta",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash-o"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"div",2),ps(3,"div",3),ps(4,"input",4),ks("ngModelChange",(function(t){return e.filterpost=t})),gs(),gs(),gs(),gs(),gs(),ps(5,"div",0),ps(6,"div",1),ps(7,"div",2),ps(8,"div",3),ps(9,"div",5),ps(10,"button",6),ms(11,"i",7),$s(12," Crear Receta "),gs(),gs(),ps(13,"h3",8),$s(14,"Recetas ("),ps(15,"small"),$s(16),gs(),$s(17,")"),gs(),ps(18,"table",9),ps(19,"thead"),ps(20,"tr"),ps(21,"th",10),$s(22,"Nombre"),gs(),ps(23,"th",10),$s(24,"Categor\xeda"),gs(),ps(25,"th",10),$s(26,"Receta"),gs(),ps(27,"th",10),$s(28,"Foto"),gs(),ms(29,"th",10),gs(),gs(),ps(30,"tbody"),as(31,r_,14,11,"tr",11),dc(32,"paginate"),dc(33,"sort2"),dc(34,"filterPost"),gs(),gs(),gs(),gs(),gs(),gs(),ps(35,"div",0),ps(36,"div",1),ps(37,"div",2),ps(38,"div",12),ps(39,"pagination-controls",13),ks("pageChange",(function(t){return e.page=t})),gs(),gs(),gs(),gs(),gs()),2&t&&(eo(4),hs("ngModel",e.filterpost),eo(6),hs("routerLink",cc(17,o_)),eo(6),Ws(e.posts.length),eo(5),hs("ngStyle",cc(18,i_)),eo(2),hs("ngStyle",cc(19,s_)),eo(2),hs("ngStyle",cc(20,a_)),eo(2),hs("ngStyle",cc(21,c_)),eo(2),hs("ngStyle",cc(22,l_)),eo(2),hs("ngForOf",fc(32,9,hc(33,12,fc(34,14,e.posts,e.filterpost)),lc(23,u_,e.page))))},directives:[Tm,Rm,Ub,Dp,Fu,Du,lm],pipes:[im,Xw,t_,e_],encapsulation:2}),t})(),h_=(()=>{class t{transform(t,e){const n=[];for(const r of t)r.comentario.toLowerCase().indexOf(e.toLowerCase())>-1&&n.push(r);return n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ve({name:"filterComment",type:t,pure:!0}),t})();const f_=function(t){return["/admin/comentario",t]};function p_(t,e){if(1&t){const t=_s();ps(0,"tr"),ps(1,"td"),$s(2),gs(),ps(3,"td"),$s(4),dc(5,"titlecase"),dc(6,"date"),gs(),ps(7,"td"),ps(8,"button",11),ms(9,"i",12),gs(),ps(10,"button",13),ks("click",(function(){Re(t);const n=e.$implicit;return As().borrarComentario(n)})),ms(11,"i",14),gs(),gs(),gs()}if(2&t){const t=e.$implicit;eo(2),Ws(t.comentario),eo(2),Ws(hc(5,3,fc(6,5,t.fechaComentario,"EEEE, d MMMM y"))),eo(4),hs("routerLink",lc(8,f_,t.idComentario))}}const g_=function(){return{width:"52%"}},m_=function(){return{width:"13%"}},b_=function(t){return{itemsPerPage:5,currentPage:t}};let w_=(()=>{class t{constructor(t){this.comentarioService=t,this.comentarios=[],this.filtercomment=""}ngOnInit(){this.cargarComentarios()}cargarComentarios(){this.comentarioService.cargarComentarios().subscribe(t=>{this.comentarios=t})}borrarComentario(t){pw.a.fire({title:"Est\xe1s seguro?",text:"Est\xe1s a punto de borrar el comentario",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, b\xf3rralo",cancelButtonText:"No, cancela!"}).then(e=>{e.value&&(this.comentarioService.borrarComentario(t.idComentario).subscribe(t=>{this.cargarComentarios()}),pw.a.fire("Borrado!","El comentario ha sido borrado","success"))})}}return t.\u0275fac=function(e){return new(e||t)(ls(gw))},t.\u0275cmp=fe({type:t,selectors:[["app-comentarios"]],decls:32,vars:17,consts:[[1,"row","animated","fadeIn"],[1,"col-12"],[1,"card"],[1,"card-body"],["name","filtercomment","type","text","placeholder","\uf002 Buscar comentario ...",1,"form-control","joy",2,"font-family","'Montserrat', FontAwesome",3,"ngModel","ngModelChange"],[1,"card-title"],[1,"table","table-hover"],[3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"card-body","text-center"],["previousLabel","Anterior","nextLabel","Siguiente","responsive","true",3,"pageChange"],["title","Modificar este comentario",1,"btn","btn-primary","m-r-10",3,"routerLink"],[1,"fa","fa-pencil"],["title","Borrar este comentario",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash-o"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"div",2),ps(3,"div",3),ps(4,"input",4),ks("ngModelChange",(function(t){return e.filtercomment=t})),gs(),gs(),gs(),gs(),gs(),ps(5,"div",0),ps(6,"div",1),ps(7,"div",2),ps(8,"div",3),ps(9,"h3",5),$s(10,"Comentarios ("),ps(11,"small"),$s(12),gs(),$s(13,")"),gs(),ps(14,"table",6),ps(15,"thead"),ps(16,"tr"),ps(17,"th",7),$s(18,"Comentario"),gs(),ps(19,"th"),$s(20,"Fecha"),gs(),ms(21,"th",7),gs(),gs(),ps(22,"tbody"),as(23,p_,12,10,"tr",8),dc(24,"paginate"),dc(25,"sort2"),dc(26,"filterComment"),gs(),gs(),gs(),gs(),gs(),gs(),ps(27,"div",0),ps(28,"div",1),ps(29,"div",2),ps(30,"div",9),ps(31,"pagination-controls",10),ks("pageChange",(function(t){return e.page=t})),gs(),gs(),gs(),gs(),gs()),2&t&&(eo(4),hs("ngModel",e.filtercomment),eo(8),Ws(e.comentarios.length),eo(5),hs("ngStyle",cc(13,g_)),eo(4),hs("ngStyle",cc(14,m_)),eo(2),hs("ngForOf",fc(24,5,hc(25,8,fc(26,10,e.comentarios,e.filtercomment)),lc(15,b_,e.page))))},directives:[Tm,Rm,Ub,Fu,Du,lm,Dp],pipes:[im,Xw,h_,zu,Uu],encapsulation:2}),t})(),__=(()=>{class t{constructor(t,e,n){this.comentarioService=t,this.activatedRoute=e,this.router=n,e.params.subscribe(t=>{this.cargarComentario(t.id)})}ngOnInit(){this.form=new Mb({comentario:new Pb(null,zm.required),idComentario:new Pb})}cargarComentario(t){this.comentarioService.cargarComentario(t).subscribe(t=>{this.comentario=t,this.form.controls.comentario.setValue(t.comentario),this.form.controls.idComentario.setValue(t.idComentario)})}actualizarComentario(){this.comentarioService.actualizarComentario({comentario:this.form.value.comentario,idComentario:this.form.value.idComentario}).subscribe(t=>{this.router.navigate(["/admin/comentarios"])},t=>{console.log(t.status),pw.a.fire("Error al actualizar",t.error.mensaje,"error")})}}return t.\u0275fac=function(e){return new(e||t)(ls(gw),ls(xf),ls(Ip))},t.\u0275cmp=fe({type:t,selectors:[["app-comentario"]],decls:20,vars:1,consts:[[1,"row","animated","fadeIn"],[1,"col-md-12"],[1,"card","card-body"],[1,"box-title","m-b-0"],[1,"card-subtitle"],[1,"row"],[1,"col-sm-12","col-xs-12"],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","comentario","name","comentario","rows","5","required","",1,"form-control"],["type","hidden","formControlName","idComentario","name","idComentario"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10"],[1,"fa","fa-save"],["routerLink","/admin/comentarios",1,"btn","btn-inverse","waves-effect","waves-light"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"div",2),ps(3,"h3",3),$s(4,"Comentario"),gs(),ps(5,"h6",4),$s(6,"Dulces Emociones"),gs(),ps(7,"div",5),ps(8,"div",6),ps(9,"form",7),ks("ngSubmit",(function(){return e.actualizarComentario()})),ps(10,"div",8),ps(11,"label"),$s(12,"Comentario"),gs(),ms(13,"textarea",9),gs(),ms(14,"input",10),ps(15,"button",11),ms(16,"i",12),$s(17," Guardar"),gs(),ps(18,"a",13),$s(19,"Cancelar"),gs(),gs(),gs(),gs(),gs(),gs(),gs()),2&t&&(eo(9),hs("formGroup",e.form))},directives:[jm,Wb,Tm,Rm,Xb,ew,Np],encapsulation:2}),t})();var v_=n("+z1p");function y_(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}var k_=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},C_=n("Ju5/"),x_=function(){return C_.a.Date.now()},A_=C_.a.Symbol,E_=Object.prototype,S_=E_.hasOwnProperty,T_=E_.toString,P_=A_?A_.toStringTag:void 0,M_=Object.prototype.toString,O_=A_?A_.toStringTag:void 0,I_=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":O_&&O_ in Object(t)?function(t){var e=S_.call(t,P_),n=t[P_];try{t[P_]=void 0;var r=!0}catch(i){}var o=T_.call(t);return r&&(e?t[P_]=n:delete t[P_]),o}(t):function(t){return M_.call(t)}(t)},D_=function(t){return null!=t&&"object"==typeof t},N_=/^\s+|\s+$/g,R_=/^[-+]0x[0-9a-f]+$/i,j_=/^0b[01]+$/i,L_=/^0o[0-7]+$/i,F_=parseInt,V_=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||D_(t)&&"[object Symbol]"==I_(t)}(t))return NaN;if(k_(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=k_(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(N_,"");var n=j_.test(t);return n||L_.test(t)?F_(t.slice(2),n?2:8):R_.test(t)?NaN:+t},B_=Math.max,z_=Math.min,U_=function(t,e){return t===e||t!=t&&e!=e},H_=function(t,e){for(var n=t.length;n--;)if(U_(t[n][0],e))return n;return-1},q_=Array.prototype.splice;function $_(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$_.prototype.clear=function(){this.__data__=[],this.size=0},$_.prototype.delete=function(t){var e=this.__data__,n=H_(e,t);return!(n<0||(n==e.length-1?e.pop():q_.call(e,n,1),--this.size,0))},$_.prototype.get=function(t){var e=this.__data__,n=H_(e,t);return n<0?void 0:e[n][1]},$_.prototype.has=function(t){return H_(this.__data__,t)>-1},$_.prototype.set=function(t,e){var n=this.__data__,r=H_(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var W_,G_=$_,Y_=function(t){if(!k_(t))return!1;var e=I_(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Q_=C_.a["__core-js_shared__"],Z_=(W_=/[^.]+$/.exec(Q_&&Q_.keys&&Q_.keys.IE_PROTO||""))?"Symbol(src)_1."+W_:"",K_=Function.prototype.toString,J_=function(t){if(null!=t){try{return K_.call(t)}catch(e){}try{return t+""}catch(e){}}return""},X_=/^\[object .+?Constructor\]$/,tv=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ev=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!k_(t)||(e=t,Z_&&Z_ in e))&&(Y_(t)?tv:X_).test(J_(t));var e}(n)?n:void 0},nv=ev(C_.a,"Map"),rv=ev(Object,"create"),ov=Object.prototype.hasOwnProperty,iv=Object.prototype.hasOwnProperty;function sv(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}sv.prototype.clear=function(){this.__data__=rv?rv(null):{},this.size=0},sv.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},sv.prototype.get=function(t){var e=this.__data__;if(rv){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ov.call(e,t)?e[t]:void 0},sv.prototype.has=function(t){var e=this.__data__;return rv?void 0!==e[t]:iv.call(e,t)},sv.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rv&&void 0===e?"__lodash_hash_undefined__":e,this};var av=sv,cv=function(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map};function lv(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lv.prototype.clear=function(){this.size=0,this.__data__={hash:new av,map:new(nv||G_),string:new av}},lv.prototype.delete=function(t){var e=cv(this,t).delete(t);return this.size-=e?1:0,e},lv.prototype.get=function(t){return cv(this,t).get(t)},lv.prototype.has=function(t){return cv(this,t).has(t)},lv.prototype.set=function(t,e){var n=cv(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var uv=lv;function dv(t){var e=this.__data__=new G_(t);this.size=e.size}dv.prototype.clear=function(){this.__data__=new G_,this.size=0},dv.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},dv.prototype.get=function(t){return this.__data__.get(t)},dv.prototype.has=function(t){return this.__data__.has(t)},dv.prototype.set=function(t,e){var n=this.__data__;if(n instanceof G_){var r=n.__data__;if(!nv||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new uv(r)}return n.set(t,e),this.size=n.size,this};var hv=dv,fv=function(){try{var t=ev(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),pv=function(t,e,n){"__proto__"==e&&fv?fv(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},gv=Object.prototype.hasOwnProperty,mv=function(t,e,n){var r=t[e];gv.call(t,e)&&U_(r,n)&&(void 0!==n||e in t)||pv(t,e,n)},bv=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var a=e[i],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),o?pv(n,a,c):mv(n,a,c)}return n},wv=function(t){return D_(t)&&"[object Arguments]"==I_(t)},_v=Object.prototype,vv=_v.hasOwnProperty,yv=_v.propertyIsEnumerable,kv=wv(function(){return arguments}())?wv:function(t){return D_(t)&&vv.call(t,"callee")&&!yv.call(t,"callee")},Cv=Array.isArray,xv=n("WOAq"),Av=/^(?:0|[1-9]\d*)$/,Ev=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Av.test(t))&&t>-1&&t%1==0&&t<e},Sv=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Tv={};Tv["[object Float32Array]"]=Tv["[object Float64Array]"]=Tv["[object Int8Array]"]=Tv["[object Int16Array]"]=Tv["[object Int32Array]"]=Tv["[object Uint8Array]"]=Tv["[object Uint8ClampedArray]"]=Tv["[object Uint16Array]"]=Tv["[object Uint32Array]"]=!0,Tv["[object Arguments]"]=Tv["[object Array]"]=Tv["[object ArrayBuffer]"]=Tv["[object Boolean]"]=Tv["[object DataView]"]=Tv["[object Date]"]=Tv["[object Error]"]=Tv["[object Function]"]=Tv["[object Map]"]=Tv["[object Number]"]=Tv["[object Object]"]=Tv["[object RegExp]"]=Tv["[object Set]"]=Tv["[object String]"]=Tv["[object WeakMap]"]=!1;var Pv=function(t){return function(e){return t(e)}},Mv=n("xutz"),Ov=Mv.a&&Mv.a.isTypedArray,Iv=Ov?Pv(Ov):function(t){return D_(t)&&Sv(t.length)&&!!Tv[I_(t)]},Dv=Object.prototype.hasOwnProperty,Nv=function(t,e){var n=Cv(t),r=!n&&kv(t),o=!n&&!r&&Object(xv.a)(t),i=!n&&!r&&!o&&Iv(t),s=n||r||o||i,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var l in t)!e&&!Dv.call(t,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ev(l,c))||a.push(l);return a},Rv=Object.prototype,jv=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rv)},Lv=function(t,e){return function(n){return t(e(n))}},Fv=Lv(Object.keys,Object),Vv=Object.prototype.hasOwnProperty,Bv=function(t){return null!=t&&Sv(t.length)&&!Y_(t)},zv=function(t){return Bv(t)?Nv(t):function(t){if(!jv(t))return Fv(t);var e=[];for(var n in Object(t))Vv.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)},Uv=Object.prototype.hasOwnProperty,Hv=function(t){return Bv(t)?Nv(t,!0):function(t){if(!k_(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=jv(t),n=[];for(var r in t)("constructor"!=r||!e&&Uv.call(t,r))&&n.push(r);return n}(t)},qv=n("3/ER"),$v=function(){return[]},Wv=Object.prototype.propertyIsEnumerable,Gv=Object.getOwnPropertySymbols,Yv=Gv?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var r=-1,o=null==e?0:e.length,i=0,s=[];++r<o;){var a=e[r];Wv.call(t,a)&&(s[i++]=a)}return s}(Gv(t)))}:$v,Qv=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Zv=Lv(Object.getPrototypeOf,Object),Kv=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Qv(e,Yv(t)),t=Zv(t);return e}:$v,Jv=function(t,e,n){var r=e(t);return Cv(t)?r:Qv(r,n(t))},Xv=function(t){return Jv(t,zv,Yv)},ty=function(t){return Jv(t,Hv,Kv)},ey=ev(C_.a,"DataView"),ny=ev(C_.a,"Promise"),ry=ev(C_.a,"Set"),oy=ev(C_.a,"WeakMap"),iy=J_(ey),sy=J_(nv),ay=J_(ny),cy=J_(ry),ly=J_(oy),uy=I_;(ey&&"[object DataView]"!=uy(new ey(new ArrayBuffer(1)))||nv&&"[object Map]"!=uy(new nv)||ny&&"[object Promise]"!=uy(ny.resolve())||ry&&"[object Set]"!=uy(new ry)||oy&&"[object WeakMap]"!=uy(new oy))&&(uy=function(t){var e=I_(t),n="[object Object]"==e?t.constructor:void 0,r=n?J_(n):"";if(r)switch(r){case iy:return"[object DataView]";case sy:return"[object Map]";case ay:return"[object Promise]";case cy:return"[object Set]";case ly:return"[object WeakMap]"}return e});var dy=uy,hy=Object.prototype.hasOwnProperty,fy=C_.a.Uint8Array,py=function(t){var e=new t.constructor(t.byteLength);return new fy(e).set(new fy(t)),e},gy=/\w*$/,my=A_?A_.prototype:void 0,by=my?my.valueOf:void 0,wy=Object.create,_y=function(){function t(){}return function(e){if(!k_(e))return{};if(wy)return wy(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),vy=Mv.a&&Mv.a.isMap,yy=vy?Pv(vy):function(t){return D_(t)&&"[object Map]"==dy(t)},ky=Mv.a&&Mv.a.isSet,Cy=ky?Pv(ky):function(t){return D_(t)&&"[object Set]"==dy(t)},xy={};xy["[object Arguments]"]=xy["[object Array]"]=xy["[object ArrayBuffer]"]=xy["[object DataView]"]=xy["[object Boolean]"]=xy["[object Date]"]=xy["[object Float32Array]"]=xy["[object Float64Array]"]=xy["[object Int8Array]"]=xy["[object Int16Array]"]=xy["[object Int32Array]"]=xy["[object Map]"]=xy["[object Number]"]=xy["[object Object]"]=xy["[object RegExp]"]=xy["[object Set]"]=xy["[object String]"]=xy["[object Symbol]"]=xy["[object Uint8Array]"]=xy["[object Uint8ClampedArray]"]=xy["[object Uint16Array]"]=xy["[object Uint32Array]"]=!0,xy["[object Error]"]=xy["[object Function]"]=xy["[object WeakMap]"]=!1;var Ay,Ey=function t(e,n,r,o,i,s){var a,c=1&n,l=2&n,u=4&n;if(r&&(a=i?r(e,o,i,s):r(e)),void 0!==a)return a;if(!k_(e))return e;var d=Cv(e);if(d){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&hy.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!c)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(e,a)}else{var h=dy(e),f="[object Function]"==h||"[object GeneratorFunction]"==h;if(Object(xv.a)(e))return Object(qv.a)(e,c);if("[object Object]"==h||"[object Arguments]"==h||f&&!i){if(a=l||f?{}:function(t){return"function"!=typeof t.constructor||jv(t)?{}:_y(Zv(t))}(e),!c)return l?function(t,e){return bv(t,Kv(t),e)}(e,function(t,e){return t&&bv(e,Hv(e),t)}(a,e)):function(t,e){return bv(t,Yv(t),e)}(e,function(t,e){return t&&bv(e,zv(e),t)}(a,e))}else{if(!xy[h])return i?e:{};a=function(t,e,n){var r,o,i=t.constructor;switch(e){case"[object ArrayBuffer]":return py(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,e){var n=e?py(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?py(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return(o=new(r=t).constructor(r.source,gy.exec(r))).lastIndex=r.lastIndex,o;case"[object Set]":return new i;case"[object Symbol]":return by?Object(by.call(t)):{}}}(e,h,c)}}s||(s=new hv);var p=s.get(e);if(p)return p;s.set(e,a),Cy(e)?e.forEach((function(o){a.add(t(o,n,r,o,e,s))})):yy(e)&&e.forEach((function(o,i){a.set(i,t(o,n,r,i,e,s))}));var g=u?l?ty:Xv:l?keysIn:zv,m=d?void 0:g(e);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n););}(m||e,(function(o,i){m&&(o=e[i=o]),mv(a,i,t(o,n,r,i,e,s))})),a},Sy=Function.prototype.toString,Ty=Object.prototype.hasOwnProperty,Py=Sy.call(Object);function My(t,e=new Set){const n=[t],r=new Set;for(;n.length>0;){const t=n.shift();if(!(r.has(t)||Oy(t)||e.has(t)))if(r.add(t),t[Symbol.iterator])try{for(const e of t)n.push(e)}catch(o){}else for(const e in t)"defaultValue"!==e&&n.push(t[e])}return r}function Oy(t){const e=Object.prototype.toString.call(t),n=typeof t;return"number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t instanceof EventTarget||t instanceof Event}class Iy extends class{constructor(t){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const e=t.error||t.reason;e instanceof Error&&this._handleError(e,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(t=>t!==e)}_fire(t,...e){const n=this._listeners[t]||[];for(const r of n)r.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e.filename,lineno:e.lineno,colno:e.colno,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&null!=t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(t,e={}){super(e),this._editor=null,this._throttledSave=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return k_(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),function(t,e,n){var r,o,i,s,a,c,l=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=r,i=o;return r=o=void 0,l=e,s=t.apply(i,n)}function p(t){return l=t,a=setTimeout(m,e),u?f(t):s}function g(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-l>=i}function m(){var t=x_();if(g(t))return b(t);a=setTimeout(m,function(t){var n=e-(t-c);return d?z_(n,i-(t-l)):n}(t))}function b(t){return a=void 0,h&&r?f(t):(r=o=void 0,s)}function w(){var t=x_(),n=g(t);if(r=arguments,o=this,c=t,n){if(void 0===a)return p(c);if(d)return clearTimeout(a),a=setTimeout(m,e),f(c)}return void 0===a&&(a=setTimeout(m,e)),s}return e=V_(e)||0,k_(n)&&(u=!!n.leading,i=(d="maxWait"in n)?B_(V_(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h),w.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=c=o=a=void 0},w.flush=function(){return void 0===a?s:b(x_())},w}(t,e,{leading:r,maxWait:e,trailing:o})}(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),this._creator=(e,n)=>t.create(e,n),this._destructor=t=>t.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,e=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(e)||{},this._config.context=n,this._creator(t,this._config))).then(t=>{this._editor=t,t.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=t.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,this._destructor(t)})}_save(){const t=this._editor.model.document.version;if(t!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const e of this._editor.model.document.getRootNames())t[e]=this._editor.data.get({rootName:e});return t}_isErrorComingFromThisItem(t){return function(t,e,n=new Set){if(t===e&&"object"==typeof(r=t)&&null!==r)return!0;var r;const o=My(t,n),i=My(e,n);for(const s of o)if(i.has(s))return!0;return!1}(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return function(t,e){return Ey(t,5,e="function"==typeof e?e:void 0)}(t,(t,e)=>function(t){return D_(t)&&1===t.nodeType&&!function(t){if(!D_(t)||"[object Object]"!=I_(t))return!1;var e=Zv(t);if(null===e)return!0;var n=Ty.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Sy.call(n)==Py}(t)}(t)?t:"context"===e?t:void 0)}}function Dy(t,e){}!function(t){t.EditorConstructor=function(){},t.Config=function(){},t.EventInfo=function(){},t.BaseEditor=function(){},t.DataApi=function(){},t.Editor=function(){},t.ContextWatchdog=function(){},t.EditorWatchdog=function(){},t.Watchdog=function(){}}(Ay||(Ay={}));const Ny=(t,e)=>("0"+e.toString(16)).slice(-2),Ry=new Array(256).fill(0).map(Ny);let jy=(()=>{class t{constructor(t,e){this.config={},this.data="",this.tagName="div",this.ready=new bc,this.change=new bc,this.blur=new bc,this.focus=new bc,this.error=new bc,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+Ry[t>>0&255]+Ry[t>>8&255]+Ry[t>>16&255]+Ry[t>>24&255]+Ry[e>>0&255]+Ry[e>>8&255]+Ry[e>>16&255]+Ry[e>>24&255]+Ry[n>>0&255]+Ry[n>>8&255]+Ry[n>>16&255]+Ry[n>>24&255]+Ry[r>>0&255]+Ry[r>>8&255]+Ry[r>>16&255]+Ry[r>>24&255]}(),this.ngZone=e,this.elementRef=t}set disabled(t){this.setDisabledState(t)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return y_(this,void 0,void 0,(function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)}))}writeValue(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(t),this.isEditorSettingData=!1):(this.data=t,this.editorElement&&(this.editorElement.innerHTML=this.data))}registerOnChange(t){this.cvaOnChange=t}registerOnTouched(t){this.cvaOnTouched=t}setDisabledState(t){this.editorInstance&&(this.editorInstance.isReadOnly=t),this.initiallyDisabled=t}attachToWatchdog(){const t=(t,e)=>y_(this,void 0,void 0,(function*(){return this.ngZone.runOutsideAngular(()=>y_(this,void 0,void 0,(function*(){this.elementRef.nativeElement.appendChild(t);const n=yield this.editor.create(t,e);return this.initiallyDisabled&&(n.isReadOnly=this.initiallyDisabled),this.ngZone.run(()=>{this.ready.emit(n)}),this.setUpEditorEvents(n),n})))})),e=t=>y_(this,void 0,void 0,(function*(){yield t.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)})),n=()=>{this.ngZone.run(()=>{this.error.emit()})},r=document.createElement(this.tagName),o=this.getConfig();if(this.editorElement=r,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:t,destructor:e,sourceElementOrData:r,config:o}),this.watchdog.on("itemError",(t,{itemId:e})=>{e===this.id&&n()});else{const i=new Iy(this.editor);i.setCreator(t),i.setDestructor(e),i.on("error",n),this.editorWatchdog=i,this.editorWatchdog.create(r,o)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");return Object.assign({},this.config,{initialData:this.config.initialData||this.data||""})}setUpEditorEvents(t){const e=t.editing.view.document;t.model.document.on("change:data",e=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const e=t.getData();this.cvaOnChange(e)}this.change.emit({event:e,editor:t})})}),e.on("focus",e=>{this.ngZone.run(()=>{this.focus.emit({event:e,editor:t})})}),e.on("blur",e=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:e,editor:t})})})}}return t.\u0275fac=function(e){return new(e||t)(ls(ba),ls(nl))},t.\u0275cmp=fe({type:t,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[fa([{provide:Cm,useExisting:At(()=>t),multi:!0}])],decls:1,vars:0,template:function(t,e){1&t&&as(0,Dy,0,0,"ng-template")},encapsulation:2}),t})(),Ly=(()=>{class t{}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[ow,qu]]}),t})();function Fy(t,e){if(1&t){const t=_s();ps(0,"div",2),ps(1,"div",3),ps(2,"h3",4),$s(3,"Receta"),gs(),ps(4,"h6",5),$s(5,"Dulces Emociones"),gs(),ps(6,"div",6),ps(7,"div",7),ps(8,"form",8),ks("ngSubmit",(function(){return Re(t),As().actualizarPost()})),ps(9,"div",9),ps(10,"label"),$s(11,"Nombre"),gs(),ms(12,"input",10),gs(),ps(13,"div",9),ps(14,"label"),$s(15,"Categor\xeda"),gs(),ms(16,"input",11),gs(),ps(17,"div",9),ps(18,"label"),$s(19,"Receta"),gs(),ms(20,"ckeditor",12),gs(),ps(21,"div",13),ps(22,"label"),$s(23,"Foto"),gs(),ms(24,"br"),ms(25,"img",14),gs(),ps(26,"div",9),ps(27,"label"),$s(28,"Cambiar foto"),gs(),ps(29,"div",15),ps(30,"div",16),ms(31,"i",17),ms(32,"span",18),gs(),ps(33,"span",19),ps(34,"span",20),$s(35,"Selecciona archivo"),gs(),ps(36,"span",21),$s(37,"Cambiar"),gs(),ps(38,"input",22),ks("change",(function(e){return Re(t),As().uploadFile(e)})),gs(),gs(),ps(39,"a",23),$s(40,"Eliminar"),gs(),gs(),gs(),ps(41,"button",24),ms(42,"i",25),$s(43," Guardar"),gs(),ps(44,"a",26),$s(45,"Cancelar"),gs(),gs(),gs(),gs(),gs(),gs()}if(2&t){const t=As();eo(8),hs("formGroup",t.form),eo(12),hs("editor",t.Editor),eo(5),hs("src",t.post.imagen,Tr)("alt",t.post.nombre)}}let Vy=(()=>{class t{constructor(t,e,n){this.postService=t,this.activatedRoute=e,this.router=n,this.Editor=v_,e.params.subscribe(t=>{this.cargarPost(t.id)})}ngOnInit(){this.form=new Mb({nombre:new Pb(null,zm.required),categoria:new Pb(null,zm.required),post:new Pb(null,zm.required),imagen:new Pb(null,zm.required)})}cargarPost(t){this.postService.cargarPost(t).subscribe(t=>{this.post=t,this.form.controls.nombre.setValue(t.nombre),this.form.controls.categoria.setValue(t.categoria),this.form.controls.post.setValue(t.post),this.form.controls.imagen.setValue(t.imagen)})}uploadFile(t){this.file=t.target.files[0],this.form.get("imagen").setValue(this.file)}actualizarPost(){if(null!=this.file){const t={nombre:this.form.get("nombre").value,categoria:this.form.get("categoria").value,post:this.form.get("post").value},e=JSON.stringify(t),n=new Blob([e],{type:"application/json"});let r=new FormData;r.append("pdto",n),r.append("file",this.form.get("imagen").value),this.postService.actualizarPost(this.post.idPost,r).subscribe(e=>{this.router.navigate(["/admin/posts"]),pw.a.fire({title:"Receta actualizada",html:'<span style="color:#197AAA">'+t.nombre+"</span>",icon:"success"})})}else{const t={nombre:this.form.get("nombre").value,categoria:this.form.get("categoria").value,post:this.form.get("post").value},e=JSON.stringify(t),n=new Blob([e],{type:"application/json"});let r=new FormData;r.append("pdto",n),this.postService.actualizarPostNoFile(this.post.idPost,r).subscribe(e=>{this.router.navigate(["/admin/posts"]),pw.a.fire({title:"Receta actualizada",html:'<span style="color:#197AAA">'+t.nombre+"</span>",icon:"success"})})}}}return t.\u0275fac=function(e){return new(e||t)(ls(Jw),ls(xf),ls(Ip))},t.\u0275cmp=fe({type:t,selectors:[["app-post"]],decls:2,vars:1,consts:[[1,"row","animated","fadeIn"],["class","col-md-12",4,"ngIf"],[1,"col-md-12"],[1,"card","card-body"],[1,"box-title","m-b-0"],[1,"card-subtitle"],[1,"row"],[1,"col-sm-12","col-xs-12"],["ngNativeValidate","",1,"form-material",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","nombre","name","nombre","type","text","required","",1,"form-control"],["formControlName","categoria","name","categoria","type","text","required","",1,"form-control"],["formControlName","post","name","post","required","",3,"editor"],["id","image-popups",1,"form-group"],[1,"img-thumbnail","img-200",3,"src","alt"],["data-provides","fileinput",1,"fileinput","fileinput-new","input-group"],["data-trigger","fileinput",1,"form-control"],[1,"glyphicon","glyphicon-file","fileinput-exists"],[1,"fileinput-filename"],[1,"input-group-addon","btn","btn-default","btn-file"],[1,"fileinput-new"],[1,"fileinput-exists"],["type","file","name","...",3,"change"],["href","#","data-dismiss","fileinput",1,"input-group-addon","btn","btn-default","fileinput-exists"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10"],[1,"fa","fa-save"],["routerLink","/admin/posts",1,"btn","btn-inverse","waves-effect","waves-light"]],template:function(t,e){1&t&&(ps(0,"div",0),as(1,Fy,46,4,"div",1),gs()),2&t&&(eo(1),hs("ngIf",e.post))},directives:[Ru,jm,Wb,Tm,Rm,Xb,ew,jy,Np],encapsulation:2}),t})(),By=(()=>{class t{constructor(t,e,n){this.postService=t,this.router=e,this.formbuilder=n,this.Editor=v_,this.post=[],this.form=this.formbuilder.group({nombre:[""],categoria:[""],post:[""],imagen:[""]})}ngOnInit(){this.form=new Mb({nombre:new Pb(this.post,zm.required),categoria:new Pb(null,zm.required),post:new Pb(null,zm.required),imagen:new Pb(null,zm.required)})}uploadFile(t){this.file=t.target.files[0],this.form.get("imagen").setValue(this.file)}registrarPost(){this.file||pw.a.fire("Error!","Tienes que seleccionar una imagen","error");const t={nombre:this.form.get("nombre").value,categoria:this.form.get("categoria").value,post:this.form.get("post").value},e=JSON.stringify(t),n=new Blob([e],{type:"application/json"});let r=new FormData;r.append("pdto",n),r.append("file",this.form.get("imagen").value),console.log(r),this.postService.crearPost(r).subscribe(e=>{console.log(e),this.router.navigate(["/admin/posts"]),pw.a.fire({title:"Receta creada",html:'<span style="color:#197AAA">'+t.nombre+"</span>",icon:"success"})})}cargarPost(t){this.postService.cargarPost(t).subscribe(t=>{console.log(t),this.post=t})}}return t.\u0275fac=function(e){return new(e||t)(ls(Jw),ls(Ip),ls(rw))},t.\u0275cmp=fe({type:t,selectors:[["app-post-nuevo"]],decls:42,vars:2,consts:[[1,"row","animated","fadeIn"],[1,"col-md-12"],[1,"card","card-body"],[1,"box-title","m-b-0"],[1,"card-subtitle"],[1,"row"],[1,"col-sm-12","col-xs-12"],["ngNativeValidate","","enctype","multipart/form-data",1,"form-material",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","nombre","name","nombre","type","text","placeholder","Nombre","required","",1,"form-control"],["formControlName","categoria","name","categoria","type","text","placeholder","Categor\xeda","required","",1,"form-control"],["formControlName","post","name","post","required","",3,"editor"],["data-provides","fileinput",1,"fileinput","fileinput-new","input-group"],["data-trigger","fileinput",1,"form-control"],[1,"glyphicon","glyphicon-file","fileinput-exists"],[1,"fileinput-filename"],[1,"input-group-addon","btn","btn-default","btn-file"],[1,"fileinput-new"],[1,"fileinput-exists"],["type","file","name","...",3,"change"],["href","#","data-dismiss","fileinput",1,"input-group-addon","btn","btn-default","fileinput-exists"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10"],[1,"fa","fa-save"],["routerLink","/admin/posts",1,"btn","btn-inverse","waves-effect","waves-light"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"div",2),ps(3,"h3",3),$s(4,"Receta"),gs(),ps(5,"h6",4),$s(6,"Dulces Emociones"),gs(),ps(7,"div",5),ps(8,"div",6),ps(9,"form",7),ks("ngSubmit",(function(){return e.registrarPost()})),ps(10,"div",8),ps(11,"label"),$s(12,"Nombre"),gs(),ms(13,"input",9),gs(),ps(14,"div",8),ps(15,"label"),$s(16,"Categor\xeda"),gs(),ms(17,"input",10),gs(),ps(18,"div",8),ps(19,"label"),$s(20,"Receta"),gs(),ms(21,"ckeditor",11),gs(),ps(22,"div",8),ps(23,"label"),$s(24,"Elige una foto"),gs(),ps(25,"div",12),ps(26,"div",13),ms(27,"i",14),ms(28,"span",15),gs(),ps(29,"span",16),ps(30,"span",17),$s(31,"Selecciona archivo"),gs(),ps(32,"span",18),$s(33,"Cambiar"),gs(),ps(34,"input",19),ks("change",(function(t){return e.uploadFile(t)})),gs(),gs(),ps(35,"a",20),$s(36,"Eliminar"),gs(),gs(),gs(),ps(37,"button",21),ms(38,"i",22),$s(39," Guardar"),gs(),ps(40,"a",23),$s(41,"Cancelar"),gs(),gs(),gs(),gs(),gs(),gs(),gs()),2&t&&(eo(9),hs("formGroup",e.form),eo(12),hs("editor",e.Editor))},directives:[jm,Wb,Tm,Rm,Xb,ew,jy,Np],styles:["./post-nuevo.component.css"]}),t})(),zy=(()=>{class t{constructor(t,e){this.usuarioService=t,this.tokenService=e,this.usuario=[];let n=this.tokenService.getUserName();this.cargarUsuarioU(n)}ngOnInit(){this.form=new Mb({nombre:new Pb(null),username:new Pb(null),password:new Pb(null)})}cargarUsuarioU(t){this.usuarioService.cargarUsuarioU(t).subscribe(t=>{this.usuario=t,this.form.controls.nombre.setValue(t.nombre),this.form.controls.username.setValue(t.username),this.form.controls.password.setValue(t.password)})}}return t.\u0275fac=function(e){return new(e||t)(ls(mw),ls(Sw))},t.\u0275cmp=fe({type:t,selectors:[["app-perfil"]],decls:23,vars:3,consts:[[1,"row","animated","fadeIn"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup"],[1,"form-group","col-lg-6","col-md-6","col-sm-7"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["formControlName","nombre","name","nombre","type","text",1,"form-control","joy",3,"readonly"],["for","exampleInputEmail1 "],[1,"ti-email"],["formControlName","username","name","username","type","email",1,"form-control","joy",3,"readonly"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"div",2),ps(3,"div",3),ps(4,"h4",4),$s(5,"Mi perfil de usuario"),gs(),ps(6,"h6",5),$s(7,"Dulces Emociones"),gs(),ps(8,"form",6),ps(9,"div",7),ps(10,"label",8),$s(11,"Nombre"),gs(),ps(12,"div",9),ps(13,"div",10),ms(14,"i",11),gs(),ms(15,"input",12),gs(),gs(),ps(16,"div",7),ps(17,"label",13),$s(18,"Email"),gs(),ps(19,"div",9),ps(20,"div",10),ms(21,"i",14),gs(),ms(22,"input",15),gs(),gs(),gs(),gs(),gs(),gs(),gs()),2&t&&(eo(8),hs("formGroup",e.form),eo(7),hs("readonly",!0),eo(7),hs("readonly",!0))},directives:[Hb,jm,Wb,Tm,Rm,Xb],encapsulation:2}),t})(),Uy=(()=>{class t{constructor(t,e,n){this.usuarioService=t,this.activateRoute=e,this.router=n,this.usuario=[],this.roles=[],e.params.subscribe(t=>{this.cargarUsuario(t.id)})}ngOnInit(){this.form=new Mb({nombre:new Pb(null,zm.required),username:new Pb(null,zm.required),rol:new Pb(null,zm.required),idUsuario:new Pb})}cargarUsuario(t){this.usuarioService.cargarUsuario(t).subscribe(t=>{this.usuario=t,this.form.controls.nombre.setValue(t.nombre),this.form.controls.username.setValue(t.username),this.form.controls.rol.setValue(t.roles[0].roleName),this.form.controls.idUsuario.setValue(t.idUsuario)})}actualizarUsuario(){let t;t="ROLE_ADMIN"==this.form.value.rol?1:2,this.usuarioService.actualizarUsuario({nombre:this.form.value.nombre,username:this.form.value.username,idUsuario:this.form.value.idUsuario,roles:[{idRol:t,rolName:this.form.value.rol}]}).subscribe(t=>{this.router.navigate(["/admin/usuarios"])},t=>{console.log(t.status),pw.a.fire("Error al actualizar",t.error.mensaje,"error")})}}return t.\u0275fac=function(e){return new(e||t)(ls(mw),ls(xf),ls(Ip))},t.\u0275cmp=fe({type:t,selectors:[["app-usuario"]],decls:32,vars:1,consts:[[1,"row","animated","fadeIn"],[1,"col-md-12"],[1,"card","card-body"],[1,"box-title","m-b-0"],[1,"card-subtitle"],[1,"row"],[1,"col-sm-12","col-xs-12"],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","nombre","name","nombre","type","text","required","",1,"form-control","joy"],["formControlName","username","name","username","type","text","required","",1,"form-control","joy"],["formControlName","rol","name","rol","required","",1,"form-control"],["value","ROLE_ADMIN"],["value","ROLE_USER"],["type","hidden","formControlName","idUsuario","name","idUsuario"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10"],[1,"fa","fa-save"],["routerLink","/admin/usuarios",1,"btn","btn-inverse","waves-effect","waves-light"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"div",1),ps(2,"div",2),ps(3,"h3",3),$s(4,"Usuario"),gs(),ps(5,"h6",4),$s(6,"Dulces Emociones"),gs(),ps(7,"div",5),ps(8,"div",6),ps(9,"form",7),ks("ngSubmit",(function(){return e.actualizarUsuario()})),ps(10,"div",8),ps(11,"label"),$s(12,"Nombre"),gs(),ms(13,"input",9),gs(),ps(14,"div",8),ps(15,"label"),$s(16,"Email"),gs(),ms(17,"input",10),gs(),ps(18,"div",8),ps(19,"label"),$s(20,"Rol"),gs(),ps(21,"select",11),ps(22,"option",12),$s(23,"ADMIN"),gs(),ps(24,"option",13),$s(25,"USER"),gs(),gs(),gs(),ms(26,"input",14),ps(27,"button",15),ms(28,"i",16),$s(29," Guardar"),gs(),ps(30,"a",17),$s(31,"Cancelar"),gs(),gs(),gs(),gs(),gs(),gs(),gs()),2&t&&(eo(9),hs("formGroup",e.form))},directives:[jm,Wb,Tm,Rm,Xb,ew,sb,ab,db,Np],encapsulation:2}),t})(),Hy=(()=>{class t{constructor(t,e,n,r){this.router=t,this.authService=e,this.tokenService=n,this.activatedRoute=r}ngOnInit(){this.username=localStorage.getItem("username")||"",this.activatedRoute.params.subscribe(t=>{console.log(t.id),localStorage.setItem("urlComentario",t.id)})}ingresar(t){if(t.invalid)return;let e=new zw(t.value.username,t.value.password);this.authService.login(e,t.value.recuerdame).subscribe(t=>{this.tokenService.setToken(t.token),this.tokenService.setUserName(t.username),this.tokenService.setAuthorities(t.authorities);let e=localStorage.getItem("urlComentario");this.router.navigate(["/recetaComentario/"+e])})}}return t.\u0275fac=function(e){return new(e||t)(ls(Ip),ls(Tw),ls(Sw),ls(xf))},t.\u0275cmp=fe({type:t,selectors:[["app-login-url"]],decls:37,vars:1,consts:[["id","wrapper",1,"login-register","login-sidebar","animated","fadeIn",2,"background-image","url(../assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["ngNativeValidate","",1,"form-horizontal","form-material",3,"ngSubmit"],["f","ngForm"],["routerLink","/home",1,"text-center","db","mt-2"],["src","../assets/img/joysweets.png","width","167","height","30","alt","Home"],[1,"form-group","m-t-40"],[1,"col-xs-12"],["name","username","type","email","required","","placeholder","Email",1,"form-control",3,"ngModel"],[1,"form-group"],["ngModel","","name","password","type","password","required","","placeholder","Contrase\xf1a",1,"form-control"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase"],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/register",1,"text-primary","m-l-5"],["id","recoverform","action","index.html",1,"form-horizontal"],[1,"text-muted"],["type","text","required","","placeholder","Email",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"]],template:function(t,e){if(1&t){const t=_s();ps(0,"section",0),ps(1,"div",1),ps(2,"div",2),ps(3,"form",3,4),ks("ngSubmit",(function(){Re(t);const n=cs(4);return e.ingresar(n)})),ps(5,"a",5),ms(6,"img",6),gs(),ps(7,"div",7),ps(8,"div",8),ms(9,"input",9),gs(),gs(),ps(10,"div",10),ps(11,"div",8),ms(12,"input",11),gs(),gs(),ps(13,"div",12),ps(14,"div",8),ps(15,"button",13),$s(16,"Ingresar"),gs(),gs(),gs(),ps(17,"div",14),ps(18,"div",15),$s(19," No tienes cuenta? "),ps(20,"a",16),ps(21,"b"),$s(22,"Crea tu cuenta"),gs(),gs(),gs(),gs(),gs(),ps(23,"form",17),ps(24,"div",10),ps(25,"div",8),ps(26,"h3"),$s(27,"Recuperar contrase\xf1a"),gs(),ps(28,"p",18),$s(29,"Escribe tu correo electr\xf3nico y sigue los pasos "),gs(),gs(),gs(),ps(30,"div",10),ps(31,"div",8),ms(32,"input",19),gs(),gs(),ps(33,"div",12),ps(34,"div",8),ps(35,"button",20),$s(36,"Reset"),gs(),gs(),gs(),gs(),gs(),gs(),gs()}2&t&&(eo(9),hs("ngModel",e.username))},directives:[jm,Nb,Np,Tm,ew,Rm,Ub,Hb],styles:['.login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:50%;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0;right:0}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0;position:absolute;height:100%}label[_ngcontent-%COMP%]{padding-top:0}[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{padding-left:26px;line-height:21px;font-weight:400;position:relative;cursor:pointer;display:inline-block;height:25px;font-size:1rem;-webkit-user-select:none;-moz-user-select:none;-khtml-user-select:none;-ms-user-select:none}[type=checkbox][_ngcontent-%COMP%]:checked, [type=checkbox][_ngcontent-%COMP%]:not(:checked){position:absolute;left:-9999px;opacity:0}[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before, [type=checkbox][_ngcontent-%COMP%]:not(.filled-in) + label[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:18px;height:18px;z-index:0;border:1px solid #b1b8bb;border-radius:1px;margin-top:2px;transition:.2s}[type=checkbox][_ngcontent-%COMP%]:not(.filled-in) + label[_ngcontent-%COMP%]:after{border:0;transform:scale(0)}[type=checkbox][_ngcontent-%COMP%]:not(:checked):disabled + label[_ngcontent-%COMP%]:before{border:none;background-color:rgba(0,0,0,.26)}[type=checkbox].tabbed[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:after{transform:scale(1);border:0;border-radius:50%;box-shadow:0 0 0 10px rgba(0,0,0,.1);background-color:rgba(0,0,0,.1)}[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{top:-4px;left:-5px;width:12px;height:22px;border-color:transparent #197aaa #197aaa transparent;border-style:solid;border-width:2px;transform:rotate(40deg);-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:100% 100%}[type=checkbox][_ngcontent-%COMP%]:checked:disabled + label[_ngcontent-%COMP%]:before{border-right:2px solid rgba(0,0,0,.26);border-bottom:2px solid rgba(0,0,0,.26)}[type=checkbox][_ngcontent-%COMP%]:indeterminate + label[_ngcontent-%COMP%]:before{top:-11px;left:-12px;width:10px;height:22px;border:none;border-right:2px solid #26a69a;transform:rotate(90deg);-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:100% 100%}[type=checkbox][_ngcontent-%COMP%]:indeterminate:disabled + label[_ngcontent-%COMP%]:before{border-right:2px solid rgba(0,0,0,.26);background-color:transparent}[type=checkbox].filled-in[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after{border-radius:2px}[type=checkbox].filled-in[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after, [type=checkbox].filled-in[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{content:"";left:0;position:absolute;transition:border .25s,background-color .25s,width .2s .1s,height .2s .1s,top .2s .1s,left .2s .1s;z-index:1}[type=checkbox].filled-in[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;transform:rotate(37deg);transform-origin:100% 100%}[type=checkbox].filled-in[_ngcontent-%COMP%]:not(:checked) + label[_ngcontent-%COMP%]:after{height:20px;width:20px;background-color:transparent;border:1px solid #b1b8bb;top:0;z-index:0}[type=checkbox].filled-in[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{top:0;left:1px;width:8px;height:13px;border-color:transparent #fff #fff transparent;border-style:solid;border-width:2px;transform:rotate(37deg);transform-origin:100% 100%}[type=checkbox].filled-in[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{top:0;width:20px;height:20px;border:2px solid #197aaa;background-color:#197aaa;z-index:0}[type=checkbox].filled-in.tabbed[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:after{border-radius:2px;border-color:#5a5a5a;background-color:rgba(0,0,0,.1)}[type=checkbox].filled-in.tabbed[_ngcontent-%COMP%]:checked:focus + label[_ngcontent-%COMP%]:after{border-radius:2px;background-color:#26a69a;border-color:#26a69a}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:not(:checked) + label[_ngcontent-%COMP%]:before{background-color:transparent;border:2px solid transparent}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:not(:checked) + label[_ngcontent-%COMP%]:after{border-color:transparent;background-color:#bdbdbd}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:checked + label[_ngcontent-%COMP%]:before{background-color:transparent}[type=checkbox].filled-in[_ngcontent-%COMP%]:disabled:checked + label[_ngcontent-%COMP%]:after{background-color:#bdbdbd;border-color:#bdbdbd}']}),t})();const qy=[{path:"admin",component:Vw,canActivate:[(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(){return!!this.authService.estaLogueado()||(console.log("Bloqueado por el Guard"),this.router.navigate(["/login"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Tw),Zt(Ip))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()],children:[{path:"perfil",component:zy,data:{titulo:"Perfil de usuario"}},{path:"dashboard",component:Bw,data:{titulo:"Dashboard"}},{path:"usuarios",component:Kw,data:{titulo:"Usuarios"}},{path:"posts",component:d_,data:{titulo:"Recetas"}},{path:"comentarios",component:w_,data:{titulo:"Comentarios"}},{path:"comentario/:id",component:__,data:{titulo:"Actualizar Comentario"}},{path:"post/:id",component:Vy,data:{titulo:"Actualizar Receta"}},{path:"usuario/:id",component:Uy,data:{titulo:"Actualizar Usuario"}},{path:"postNuevo",component:By,data:{titulo:"Nueva Receta"}}]},{path:"login",component:Uw},{path:"loginUrl/:id",component:Hy},{path:"register",component:$w}];let $y=(()=>{class t{}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Qp.forChild(qy)],Qp]}),t})(),Wy=(()=>{class t{}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Qp,qu]]}),t})();const Gy=[{provide:Eg,useClass:(()=>{class t{constructor(t){this.tokenService=t}intercept(t,e){let n=t;const r=this.tokenService.getToken();return null!=r&&(n=t.clone({headers:t.headers.set("Authorization","Bearer "+r)})),e.handle(n)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Sw))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),multi:!0}];let Yy=(()=>{class t{}return t.\u0275mod=be({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[Gy],imports:[[qu,Wy,ow,iw,Vg,Ly,fm,$y]]}),t})();const Qy=function(t){return{"show-scrollTop":t}};let Zy=(()=>{class t{constructor(t){this.document=t}onWindowScroll(){window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop>100?this.windowScrolled=!0:(this.windowScrolled&&window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop<10)&&(this.windowScrolled=!1)}scrollToTop(){!function t(){var e=document.documentElement.scrollTop||document.body.scrollTop;e>0&&(window.requestAnimationFrame(t),window.scrollTo(0,e-e/8))}()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(ls(Nl))},t.\u0275cmp=fe({type:t,selectors:[["app-scroll-to-top"]],hostBindings:function(t,e){1&t&&ks("scroll",(function(){return e.onWindowScroll()}),!1,Mn)},decls:3,vars:3,consts:[[1,"scroll-to-top",3,"ngClass"],["type","button","data-toggle","button","aria-pressed","true",1,"btn","active",3,"click"],[1,"ti-angle-up"]],template:function(t,e){1&t&&(ps(0,"div",0),ps(1,"button",1),ks("click",(function(){return e.scrollToTop()})),ms(2,"i",2),gs(),gs()),2&t&&hs("ngClass",lc(1,Qy,e.windowScrolled))},directives:[Ou],styles:[".scroll-to-top[_ngcontent-%COMP%]{position:fixed;bottom:70px;right:45px;opacity:0;transition:all .2s ease-in-out;z-index:2020}.show-scrollTop[_ngcontent-%COMP%]{opacity:1;transition:all .2s ease-in-out}"]}),t})(),Ky=(()=>{class t{constructor(){this.title="joysweets",this.cookieMessage="Este sitio web utiliza cookies para garantizar que obtengas la mejor experiencia. Para m\xe1s informaci\xf3n consulta nuestra",this.cookieDismiss="Acepto",this.cookieLinkText="Pol\xedtica de Cookies"}ngOnInit(){window.cookieconsent.initialise({palette:{popup:{background:"#F7AFBE",text:"#67757c"},button:{background:"#F8DCE0",text:"#67757c"}},theme:"classic",content:{message:this.cookieMessage,dismiss:this.cookieDismiss,link:this.cookieLinkText,href:"/cookies"}})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(ms(0,"router-outlet"),ms(1,"app-scroll-to-top"))},directives:[Vp,Zy],styles:[""]}),t})();var Jy=n("2Yyj");!function(t,e,n){"string"!=typeof e&&(n=e,e=t[nc.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Xa[e]=t,n&&(Xa[e][nc.ExtraData]=n)}(n.n(Jy).a,"es",void 0);let Xy=(()=>{class t{}return t.\u0275mod=be({type:t,bootstrap:[Ky]}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[{provide:Hc,useValue:"es"}],imports:[[vd,Vg,ow,Yy,iw,fm,Ew]]}),t})();(function(){if(rr)throw new Error("Cannot enable prod mode after platform setup.");nr=!1})(),wd().bootstrapModule(Xy).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);